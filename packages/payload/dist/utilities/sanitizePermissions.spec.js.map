{"version":3,"sources":["../../src/utilities/sanitizePermissions.spec.ts"],"sourcesContent":["import { describe, it, expect } from 'vitest'\nimport type { CollectionPermission, Permissions } from '../auth/types.js'\n\nimport { sanitizePermissions } from './sanitizePermissions.js'\n\n/* eslint-disable perfectionist/sort-objects */\ndescribe('recursivelySanitizePermissions', () => {\n  it('should sanitize a basic collection', () => {\n    const permissions: CollectionPermission = {\n      fields: {\n        text: {\n          create: {\n            permission: true,\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n      },\n      create: {\n        permission: true,\n      },\n      read: {\n        permission: true,\n      },\n      update: {\n        permission: true,\n      },\n      delete: {\n        permission: false,\n      },\n      readVersions: {\n        permission: true,\n      },\n    }\n\n    sanitizePermissions({\n      canAccessAdmin: true,\n      collections: {\n        test: permissions,\n      },\n    })\n\n    expect(permissions).toStrictEqual({\n      fields: true,\n      create: true,\n      read: true,\n      update: true,\n      readVersions: true,\n    })\n  })\n\n  it('should sanitize a collection with where queries', () => {\n    const permissions: CollectionPermission = {\n      fields: {},\n      create: {\n        permission: true,\n        where: {\n          user: {\n            equals: 2,\n          },\n        },\n      },\n      read: {\n        permission: true,\n      },\n      update: {\n        permission: true,\n      },\n      delete: {\n        permission: false,\n      },\n      readVersions: {\n        permission: true,\n        where: {\n          user: {\n            equals: 1,\n          },\n        },\n      },\n    }\n\n    sanitizePermissions({\n      canAccessAdmin: true,\n      collections: {\n        test: permissions,\n      },\n    })\n    expect(permissions).toStrictEqual({\n      create: {\n        permission: true,\n        where: {\n          user: {\n            equals: 2,\n          },\n        },\n      },\n      fields: true,\n      read: true,\n      update: true,\n      readVersions: {\n        permission: true,\n        where: {\n          user: {\n            equals: 1,\n          },\n        },\n      },\n    })\n  })\n\n  it('should sanitize a collection with nested fields in blocks', () => {\n    const permissions: CollectionPermission = {\n      create: {\n        permission: true,\n      },\n      delete: {\n        permission: true,\n      },\n      read: {\n        permission: true,\n      },\n      update: {\n        permission: true,\n      },\n      fields: {\n        layout: {\n          create: {\n            permission: true,\n          },\n          blocks: {\n            blockWithTitle: {\n              fields: {\n                blockTitle: {\n                  create: {\n                    permission: true,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n                id: {\n                  create: {\n                    permission: true,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n                blockName: {\n                  create: {\n                    permission: true,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n              },\n              create: {\n                permission: true,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n      },\n    }\n\n    sanitizePermissions({\n      canAccessAdmin: true,\n      collections: {\n        test: permissions,\n      },\n    })\n    expect(permissions).toStrictEqual({\n      create: true,\n      delete: true,\n      fields: true,\n      read: true,\n      update: true,\n    })\n  })\n\n  it('should sanitize a collection with nested fields in blocks without truncating', () => {\n    const permissions: CollectionPermission = {\n      create: {\n        permission: true,\n      },\n      delete: {\n        permission: true,\n      },\n      read: {\n        permission: true,\n      },\n      update: {\n        permission: true,\n      },\n      fields: {\n        layout: {\n          create: {\n            permission: true,\n          },\n          blocks: {\n            blockWithTitle: {\n              fields: {\n                blockTitle: {\n                  create: {\n                    permission: true,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n                id: {\n                  create: {\n                    permission: true,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n                blockName: {\n                  create: {\n                    permission: false,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: false,\n                  },\n                },\n              },\n              create: {\n                permission: true,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n      },\n    }\n\n    sanitizePermissions({\n      canAccessAdmin: true,\n      collections: {\n        test: permissions,\n      },\n    })\n    expect(permissions).toStrictEqual({\n      create: true,\n      delete: true,\n      read: true,\n      update: true,\n      fields: {\n        layout: {\n          create: true,\n          blocks: {\n            blockWithTitle: {\n              fields: {\n                blockTitle: true,\n                id: true,\n                blockName: {\n                  read: true,\n                },\n              },\n              create: true,\n              update: true,\n              read: true,\n            },\n          },\n          read: true,\n          update: true,\n        },\n      },\n    })\n  })\n\n  it('should sanitize a collection with nested fields in arrays', () => {\n    const permissions: Partial<CollectionPermission> = {\n      fields: {\n        arrayOfText: {\n          create: {\n            permission: true,\n          },\n          fields: {\n            text: {\n              create: {\n                permission: true,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n            hiddenText: {\n              create: {\n                permission: true,\n              },\n              read: {\n                permission: false,\n              },\n              update: {\n                permission: true,\n              },\n            },\n            id: {\n              create: {\n                permission: true,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n      },\n    }\n\n    sanitizePermissions({\n      canAccessAdmin: true,\n      collections: {\n        test: permissions as CollectionPermission,\n      },\n    })\n    expect(permissions).toStrictEqual({\n      fields: {\n        arrayOfText: {\n          create: true,\n          fields: {\n            text: true,\n            hiddenText: {\n              create: true,\n              update: true,\n            },\n            id: true,\n          },\n          read: true,\n          update: true,\n        },\n      },\n    })\n  })\n\n  it('should sanitize blocks with subfield named blocks', () => {\n    const permissions: CollectionPermission = {\n      fields: {\n        content: {\n          create: { permission: true },\n          blocks: {\n            test: {\n              fields: {\n                blocks: {\n                  create: { permission: true },\n                  fields: {\n                    arrayText: {\n                      create: { permission: true },\n                      read: { permission: true },\n                      update: { permission: true },\n                    },\n                    id: {\n                      create: { permission: true },\n                      read: { permission: true },\n                      update: { permission: true },\n                    },\n                  },\n                  read: { permission: true },\n                  update: { permission: true },\n                },\n                id: {\n                  create: { permission: true },\n                  read: { permission: true },\n                  update: { permission: true },\n                },\n                blockName: {\n                  create: { permission: true },\n                  read: { permission: true },\n                  update: { permission: true },\n                },\n              },\n              create: { permission: true },\n              read: { permission: true },\n              update: { permission: true },\n            },\n          },\n          read: { permission: true },\n          update: { permission: true },\n        },\n      },\n      create: {\n        permission: true,\n      },\n      read: {\n        permission: true,\n      },\n      update: {\n        permission: true,\n      },\n      delete: {\n        permission: false,\n      },\n      readVersions: {\n        permission: true,\n      },\n    }\n\n    sanitizePermissions({\n      canAccessAdmin: true,\n      collections: {\n        test: permissions,\n      },\n    })\n    expect(permissions).toStrictEqual({\n      fields: true,\n      create: true,\n      read: true,\n      update: true,\n      readVersions: true,\n    })\n  })\n\n  it('should sanitize a collection with nested fields in richText', () => {\n    const permissions: Partial<CollectionPermission> = {\n      fields: {\n        text: {\n          create: {\n            permission: true,\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        richText: {\n          create: {\n            permission: true,\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n      },\n    }\n\n    sanitizePermissions({\n      canAccessAdmin: true,\n      collections: {\n        test: permissions as CollectionPermission,\n      },\n    })\n    expect(permissions).toStrictEqual({\n      fields: true,\n    })\n  })\n\n  it('ensure complex permissions are sanitized correctly', () => {\n    // This tests a bug where the sanitizePermissions function would previously not correctly sanitize\n    const permissions: Partial<CollectionPermission> = {\n      fields: {\n        GR: {\n          create: {\n            permission: false,\n          },\n          fields: {\n            rt: {\n              create: {\n                permission: false,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n            aaa: {\n              create: {\n                permission: false,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        tab1: {\n          fields: {\n            rt2: {\n              create: {\n                permission: false,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n            blocks2: {\n              create: {\n                permission: false,\n              },\n              blocks: {\n                myBlock: {\n                  fields: {\n                    art: {\n                      create: {\n                        permission: false,\n                      },\n                      read: {\n                        permission: true,\n                      },\n                      update: {\n                        permission: true,\n                      },\n                    },\n                    id: {\n                      create: {\n                        permission: false,\n                      },\n                      read: {\n                        permission: true,\n                      },\n                      update: {\n                        permission: true,\n                      },\n                    },\n                    blockName: {\n                      create: {\n                        permission: false,\n                      },\n                      read: {\n                        permission: true,\n                      },\n                      update: {\n                        permission: true,\n                      },\n                    },\n                  },\n                  create: {\n                    permission: false,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n          },\n          create: {\n            permission: false,\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        rt3: {\n          create: {\n            permission: false,\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        blocks3: {\n          create: {\n            permission: false,\n          },\n          blocks: {\n            myBlock: {\n              fields: {\n                art: {\n                  create: {\n                    permission: false,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n                id: {\n                  create: {\n                    permission: false,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n                blockName: {\n                  create: {\n                    permission: false,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n              },\n              create: {\n                permission: false,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        array: {\n          create: {\n            permission: false,\n          },\n          fields: {\n            art: {\n              create: {\n                permission: false,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n            id: {\n              create: {\n                permission: false,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        arrayWithAccessFalse: {\n          create: {\n            permission: false,\n          },\n          fields: {\n            art: {\n              create: {\n                permission: false,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: false,\n              },\n            },\n            id: {\n              create: {\n                permission: false,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: false,\n              },\n            },\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: false,\n          },\n        },\n        blocks: {\n          create: {\n            permission: false,\n          },\n          blocks: {\n            myBlock: {\n              fields: {\n                art: {\n                  create: {\n                    permission: false,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n                id: {\n                  create: {\n                    permission: false,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n                blockName: {\n                  create: {\n                    permission: false,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n              },\n              create: {\n                permission: false,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        updatedAt: {\n          create: {\n            permission: false,\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        createdAt: {\n          create: {\n            permission: false,\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n      },\n      create: {\n        permission: false,\n      },\n      read: {\n        permission: true,\n      },\n      update: {\n        permission: true,\n      },\n      delete: {\n        permission: true,\n      },\n    }\n\n    sanitizePermissions({\n      canAccessAdmin: true,\n      collections: {\n        test: permissions as CollectionPermission,\n      },\n    })\n    expect(permissions).toStrictEqual({\n      fields: {\n        GR: {\n          fields: {\n            rt: {\n              read: true,\n              update: true,\n            },\n            aaa: {\n              read: true,\n              update: true,\n            },\n          },\n          read: true,\n          update: true,\n        },\n        tab1: {\n          fields: {\n            rt2: {\n              read: true,\n              update: true,\n            },\n            blocks2: {\n              blocks: {\n                myBlock: {\n                  fields: {\n                    art: {\n                      read: true,\n                      update: true,\n                    },\n                    id: {\n                      read: true,\n                      update: true,\n                    },\n                    blockName: {\n                      read: true,\n                      update: true,\n                    },\n                  },\n                  read: true,\n                  update: true,\n                },\n              },\n              read: true,\n              update: true,\n            },\n          },\n          read: true,\n          update: true,\n        },\n        rt3: {\n          read: true,\n          update: true,\n        },\n        blocks3: {\n          blocks: {\n            myBlock: {\n              fields: {\n                art: {\n                  read: true,\n                  update: true,\n                },\n                id: {\n                  read: true,\n                  update: true,\n                },\n                blockName: {\n                  read: true,\n                  update: true,\n                },\n              },\n              read: true,\n              update: true,\n            },\n          },\n          read: true,\n          update: true,\n        },\n        array: {\n          fields: {\n            art: {\n              read: true,\n              update: true,\n            },\n            id: {\n              read: true,\n              update: true,\n            },\n          },\n          read: true,\n          update: true,\n        },\n        arrayWithAccessFalse: {\n          fields: {\n            art: {\n              read: true,\n            },\n            id: {\n              read: true,\n            },\n          },\n          read: true,\n        },\n        blocks: {\n          blocks: {\n            myBlock: {\n              fields: {\n                art: {\n                  read: true,\n                  update: true,\n                },\n                id: {\n                  read: true,\n                  update: true,\n                },\n                blockName: {\n                  read: true,\n                  update: true,\n                },\n              },\n              read: true,\n              update: true,\n            },\n          },\n          read: true,\n          update: true,\n        },\n        updatedAt: {\n          read: true,\n          update: true,\n        },\n        createdAt: {\n          read: true,\n          update: true,\n        },\n      },\n      read: true,\n      update: true,\n      delete: true,\n    })\n  })\n\n  it('ensure complex permissions are sanitized correctly 2', () => {\n    // This tests a bug where the sanitizePermissions function would previously not correctly sanitize\n    const permissions: Partial<CollectionPermission> = {\n      fields: {\n        GR: {\n          create: {\n            permission: true,\n          },\n          fields: {\n            rt: {\n              create: {\n                permission: true,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n            aaa: {\n              create: {\n                permission: true,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        tab1: {\n          fields: {\n            rt2: {\n              create: {\n                permission: true,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n            blocks2: {\n              create: {\n                permission: true,\n              },\n              blocks: {\n                myBlock: {\n                  fields: {\n                    art: {\n                      create: {\n                        permission: true,\n                      },\n                      read: {\n                        permission: true,\n                      },\n                      update: {\n                        permission: true,\n                      },\n                    },\n                    id: {\n                      create: {\n                        permission: true,\n                      },\n                      read: {\n                        permission: true,\n                      },\n                      update: {\n                        permission: true,\n                      },\n                    },\n                    blockName: {\n                      create: {\n                        permission: true,\n                      },\n                      read: {\n                        permission: true,\n                      },\n                      update: {\n                        permission: true,\n                      },\n                    },\n                  },\n                  create: {\n                    permission: true,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n          },\n          create: {\n            permission: true,\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        rt3: {\n          create: {\n            permission: true,\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        arrayWithAccessFalse: {\n          create: {\n            permission: false,\n          },\n          fields: {\n            art: {\n              create: {\n                permission: false,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: false,\n              },\n            },\n            id: {\n              create: {\n                permission: false,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: false,\n              },\n            },\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: false,\n          },\n        },\n        blocks: {\n          create: {\n            permission: true,\n          },\n          blocks: {\n            myBlock: {\n              fields: {\n                art: {\n                  create: {\n                    permission: true,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n                id: {\n                  create: {\n                    permission: true,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n                blockName: {\n                  create: {\n                    permission: true,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n              },\n              create: {\n                permission: true,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        updatedAt: {\n          create: {\n            permission: true,\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        createdAt: {\n          create: {\n            permission: true,\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n      },\n      create: {\n        permission: true,\n      },\n      read: {\n        permission: true,\n      },\n      update: {\n        permission: true,\n      },\n      delete: {\n        permission: true,\n      },\n    }\n\n    sanitizePermissions({\n      canAccessAdmin: true,\n      collections: {\n        test: permissions as CollectionPermission,\n      },\n    })\n    expect(permissions).toStrictEqual({\n      fields: {\n        GR: true,\n        tab1: true,\n        rt3: true,\n        arrayWithAccessFalse: {\n          fields: {\n            art: {\n              read: true,\n            },\n            id: {\n              read: true,\n            },\n          },\n          read: true,\n        },\n        blocks: true,\n        updatedAt: true,\n        createdAt: true,\n      },\n      create: true,\n      read: true,\n      update: true,\n      delete: true,\n    })\n  })\n\n  it('ensure complex permissions are sanitized correctly 3', () => {\n    // This tests a bug where the sanitizePermissions function would previously not correctly sanitize\n    const permissions: Partial<CollectionPermission> = {\n      fields: {\n        GR: {\n          create: {\n            permission: true,\n          },\n          fields: {\n            rt: {\n              create: {\n                permission: true,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n            aaa: {\n              create: {\n                permission: true,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        tab1: {\n          fields: {\n            rt2: {\n              create: {\n                permission: true,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n            blocks2: {\n              create: {\n                permission: true,\n              },\n              blocks: {\n                myBlock: {\n                  fields: {\n                    art: {\n                      create: {\n                        permission: true,\n                      },\n                      read: {\n                        permission: true,\n                      },\n                      update: {\n                        permission: true,\n                      },\n                    },\n                    id: {\n                      create: {\n                        permission: true,\n                      },\n                      read: {\n                        permission: true,\n                      },\n                      update: {\n                        permission: true,\n                      },\n                    },\n                    blockName: {\n                      create: {\n                        permission: true,\n                      },\n                      read: {\n                        permission: true,\n                      },\n                      update: {\n                        permission: true,\n                      },\n                    },\n                  },\n                  create: {\n                    permission: true,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n          },\n          create: {\n            permission: true,\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        rt3: {\n          create: {\n            permission: true,\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        blocks: {\n          create: {\n            permission: true,\n          },\n          blocks: {\n            myBlock: {\n              fields: {\n                art: {\n                  create: {\n                    permission: true,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n                id: {\n                  create: {\n                    permission: true,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n                blockName: {\n                  create: {\n                    permission: true,\n                  },\n                  read: {\n                    permission: true,\n                  },\n                  update: {\n                    permission: true,\n                  },\n                },\n              },\n              create: {\n                permission: true,\n              },\n              read: {\n                permission: true,\n              },\n              update: {\n                permission: true,\n              },\n            },\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        updatedAt: {\n          create: {\n            permission: true,\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n        createdAt: {\n          create: {\n            permission: true,\n          },\n          read: {\n            permission: true,\n          },\n          update: {\n            permission: true,\n          },\n        },\n      },\n      create: {\n        permission: true,\n      },\n      read: {\n        permission: true,\n      },\n      update: {\n        permission: true,\n      },\n      delete: {\n        permission: true,\n      },\n    }\n\n    sanitizePermissions({\n      canAccessAdmin: true,\n      collections: {\n        test: permissions as CollectionPermission,\n      },\n    })\n    expect(permissions).toStrictEqual({\n      fields: true,\n      create: true,\n      read: true,\n      update: true,\n      delete: true,\n    })\n  })\n})\n\ndescribe('sanitizePermissions', () => {\n  it('should return nothing for unauthenticated user', () => {\n    const permissions: Permissions = {\n      canAccessAdmin: false,\n      collections: {\n        preferencesCollectionSlug: {\n          fields: {\n            user: {\n              create: {\n                permission: false,\n              },\n              read: {\n                permission: false,\n              },\n              update: {\n                permission: false,\n              },\n            },\n          },\n          create: {\n            permission: false,\n          },\n          read: {\n            permission: false,\n          },\n          update: {\n            permission: false,\n          },\n          delete: {\n            permission: false,\n          },\n        },\n      },\n      globals: {\n        menu: {\n          fields: {\n            globalText: {\n              create: {\n                permission: false,\n              },\n              read: {\n                permission: false,\n              },\n              update: {\n                permission: false,\n              },\n            },\n          },\n          read: {\n            permission: false,\n          },\n          update: {\n            permission: false,\n          },\n        },\n      },\n    }\n\n    const sanitizedPermissions = sanitizePermissions(permissions)\n\n    expect(sanitizedPermissions).toStrictEqual({})\n  })\n})\n"],"names":["describe","it","expect","sanitizePermissions","permissions","fields","text","create","permission","read","update","delete","readVersions","canAccessAdmin","collections","test","toStrictEqual","where","user","equals","layout","blocks","blockWithTitle","blockTitle","id","blockName","arrayOfText","hiddenText","content","arrayText","richText","GR","rt","aaa","tab1","rt2","blocks2","myBlock","art","rt3","blocks3","array","arrayWithAccessFalse","updatedAt","createdAt","preferencesCollectionSlug","globals","menu","globalText","sanitizedPermissions"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,EAAE,EAAEC,MAAM,QAAQ,SAAQ;AAG7C,SAASC,mBAAmB,QAAQ,2BAA0B;AAE9D,6CAA6C,GAC7CH,SAAS,kCAAkC;IACzCC,GAAG,sCAAsC;QACvC,MAAMG,cAAoC;YACxCC,QAAQ;gBACNC,MAAM;oBACJC,QAAQ;wBACNC,YAAY;oBACd;oBACAC,MAAM;wBACJD,YAAY;oBACd;oBACAE,QAAQ;wBACNF,YAAY;oBACd;gBACF;YACF;YACAD,QAAQ;gBACNC,YAAY;YACd;YACAC,MAAM;gBACJD,YAAY;YACd;YACAE,QAAQ;gBACNF,YAAY;YACd;YACAG,QAAQ;gBACNH,YAAY;YACd;YACAI,cAAc;gBACZJ,YAAY;YACd;QACF;QAEAL,oBAAoB;YAClBU,gBAAgB;YAChBC,aAAa;gBACXC,MAAMX;YACR;QACF;QAEAF,OAAOE,aAAaY,aAAa,CAAC;YAChCX,QAAQ;YACRE,QAAQ;YACRE,MAAM;YACNC,QAAQ;YACRE,cAAc;QAChB;IACF;IAEAX,GAAG,mDAAmD;QACpD,MAAMG,cAAoC;YACxCC,QAAQ,CAAC;YACTE,QAAQ;gBACNC,YAAY;gBACZS,OAAO;oBACLC,MAAM;wBACJC,QAAQ;oBACV;gBACF;YACF;YACAV,MAAM;gBACJD,YAAY;YACd;YACAE,QAAQ;gBACNF,YAAY;YACd;YACAG,QAAQ;gBACNH,YAAY;YACd;YACAI,cAAc;gBACZJ,YAAY;gBACZS,OAAO;oBACLC,MAAM;wBACJC,QAAQ;oBACV;gBACF;YACF;QACF;QAEAhB,oBAAoB;YAClBU,gBAAgB;YAChBC,aAAa;gBACXC,MAAMX;YACR;QACF;QACAF,OAAOE,aAAaY,aAAa,CAAC;YAChCT,QAAQ;gBACNC,YAAY;gBACZS,OAAO;oBACLC,MAAM;wBACJC,QAAQ;oBACV;gBACF;YACF;YACAd,QAAQ;YACRI,MAAM;YACNC,QAAQ;YACRE,cAAc;gBACZJ,YAAY;gBACZS,OAAO;oBACLC,MAAM;wBACJC,QAAQ;oBACV;gBACF;YACF;QACF;IACF;IAEAlB,GAAG,6DAA6D;QAC9D,MAAMG,cAAoC;YACxCG,QAAQ;gBACNC,YAAY;YACd;YACAG,QAAQ;gBACNH,YAAY;YACd;YACAC,MAAM;gBACJD,YAAY;YACd;YACAE,QAAQ;gBACNF,YAAY;YACd;YACAH,QAAQ;gBACNe,QAAQ;oBACNb,QAAQ;wBACNC,YAAY;oBACd;oBACAa,QAAQ;wBACNC,gBAAgB;4BACdjB,QAAQ;gCACNkB,YAAY;oCACVhB,QAAQ;wCACNC,YAAY;oCACd;oCACAC,MAAM;wCACJD,YAAY;oCACd;oCACAE,QAAQ;wCACNF,YAAY;oCACd;gCACF;gCACAgB,IAAI;oCACFjB,QAAQ;wCACNC,YAAY;oCACd;oCACAC,MAAM;wCACJD,YAAY;oCACd;oCACAE,QAAQ;wCACNF,YAAY;oCACd;gCACF;gCACAiB,WAAW;oCACTlB,QAAQ;wCACNC,YAAY;oCACd;oCACAC,MAAM;wCACJD,YAAY;oCACd;oCACAE,QAAQ;wCACNF,YAAY;oCACd;gCACF;4BACF;4BACAD,QAAQ;gCACNC,YAAY;4BACd;4BACAC,MAAM;gCACJD,YAAY;4BACd;4BACAE,QAAQ;gCACNF,YAAY;4BACd;wBACF;oBACF;oBACAC,MAAM;wBACJD,YAAY;oBACd;oBACAE,QAAQ;wBACNF,YAAY;oBACd;gBACF;YACF;QACF;QAEAL,oBAAoB;YAClBU,gBAAgB;YAChBC,aAAa;gBACXC,MAAMX;YACR;QACF;QACAF,OAAOE,aAAaY,aAAa,CAAC;YAChCT,QAAQ;YACRI,QAAQ;YACRN,QAAQ;YACRI,MAAM;YACNC,QAAQ;QACV;IACF;IAEAT,GAAG,gFAAgF;QACjF,MAAMG,cAAoC;YACxCG,QAAQ;gBACNC,YAAY;YACd;YACAG,QAAQ;gBACNH,YAAY;YACd;YACAC,MAAM;gBACJD,YAAY;YACd;YACAE,QAAQ;gBACNF,YAAY;YACd;YACAH,QAAQ;gBACNe,QAAQ;oBACNb,QAAQ;wBACNC,YAAY;oBACd;oBACAa,QAAQ;wBACNC,gBAAgB;4BACdjB,QAAQ;gCACNkB,YAAY;oCACVhB,QAAQ;wCACNC,YAAY;oCACd;oCACAC,MAAM;wCACJD,YAAY;oCACd;oCACAE,QAAQ;wCACNF,YAAY;oCACd;gCACF;gCACAgB,IAAI;oCACFjB,QAAQ;wCACNC,YAAY;oCACd;oCACAC,MAAM;wCACJD,YAAY;oCACd;oCACAE,QAAQ;wCACNF,YAAY;oCACd;gCACF;gCACAiB,WAAW;oCACTlB,QAAQ;wCACNC,YAAY;oCACd;oCACAC,MAAM;wCACJD,YAAY;oCACd;oCACAE,QAAQ;wCACNF,YAAY;oCACd;gCACF;4BACF;4BACAD,QAAQ;gCACNC,YAAY;4BACd;4BACAC,MAAM;gCACJD,YAAY;4BACd;4BACAE,QAAQ;gCACNF,YAAY;4BACd;wBACF;oBACF;oBACAC,MAAM;wBACJD,YAAY;oBACd;oBACAE,QAAQ;wBACNF,YAAY;oBACd;gBACF;YACF;QACF;QAEAL,oBAAoB;YAClBU,gBAAgB;YAChBC,aAAa;gBACXC,MAAMX;YACR;QACF;QACAF,OAAOE,aAAaY,aAAa,CAAC;YAChCT,QAAQ;YACRI,QAAQ;YACRF,MAAM;YACNC,QAAQ;YACRL,QAAQ;gBACNe,QAAQ;oBACNb,QAAQ;oBACRc,QAAQ;wBACNC,gBAAgB;4BACdjB,QAAQ;gCACNkB,YAAY;gCACZC,IAAI;gCACJC,WAAW;oCACThB,MAAM;gCACR;4BACF;4BACAF,QAAQ;4BACRG,QAAQ;4BACRD,MAAM;wBACR;oBACF;oBACAA,MAAM;oBACNC,QAAQ;gBACV;YACF;QACF;IACF;IAEAT,GAAG,6DAA6D;QAC9D,MAAMG,cAA6C;YACjDC,QAAQ;gBACNqB,aAAa;oBACXnB,QAAQ;wBACNC,YAAY;oBACd;oBACAH,QAAQ;wBACNC,MAAM;4BACJC,QAAQ;gCACNC,YAAY;4BACd;4BACAC,MAAM;gCACJD,YAAY;4BACd;4BACAE,QAAQ;gCACNF,YAAY;4BACd;wBACF;wBACAmB,YAAY;4BACVpB,QAAQ;gCACNC,YAAY;4BACd;4BACAC,MAAM;gCACJD,YAAY;4BACd;4BACAE,QAAQ;gCACNF,YAAY;4BACd;wBACF;wBACAgB,IAAI;4BACFjB,QAAQ;gCACNC,YAAY;4BACd;4BACAC,MAAM;gCACJD,YAAY;4BACd;4BACAE,QAAQ;gCACNF,YAAY;4BACd;wBACF;oBACF;oBACAC,MAAM;wBACJD,YAAY;oBACd;oBACAE,QAAQ;wBACNF,YAAY;oBACd;gBACF;YACF;QACF;QAEAL,oBAAoB;YAClBU,gBAAgB;YAChBC,aAAa;gBACXC,MAAMX;YACR;QACF;QACAF,OAAOE,aAAaY,aAAa,CAAC;YAChCX,QAAQ;gBACNqB,aAAa;oBACXnB,QAAQ;oBACRF,QAAQ;wBACNC,MAAM;wBACNqB,YAAY;4BACVpB,QAAQ;4BACRG,QAAQ;wBACV;wBACAc,IAAI;oBACN;oBACAf,MAAM;oBACNC,QAAQ;gBACV;YACF;QACF;IACF;IAEAT,GAAG,qDAAqD;QACtD,MAAMG,cAAoC;YACxCC,QAAQ;gBACNuB,SAAS;oBACPrB,QAAQ;wBAAEC,YAAY;oBAAK;oBAC3Ba,QAAQ;wBACNN,MAAM;4BACJV,QAAQ;gCACNgB,QAAQ;oCACNd,QAAQ;wCAAEC,YAAY;oCAAK;oCAC3BH,QAAQ;wCACNwB,WAAW;4CACTtB,QAAQ;gDAAEC,YAAY;4CAAK;4CAC3BC,MAAM;gDAAED,YAAY;4CAAK;4CACzBE,QAAQ;gDAAEF,YAAY;4CAAK;wCAC7B;wCACAgB,IAAI;4CACFjB,QAAQ;gDAAEC,YAAY;4CAAK;4CAC3BC,MAAM;gDAAED,YAAY;4CAAK;4CACzBE,QAAQ;gDAAEF,YAAY;4CAAK;wCAC7B;oCACF;oCACAC,MAAM;wCAAED,YAAY;oCAAK;oCACzBE,QAAQ;wCAAEF,YAAY;oCAAK;gCAC7B;gCACAgB,IAAI;oCACFjB,QAAQ;wCAAEC,YAAY;oCAAK;oCAC3BC,MAAM;wCAAED,YAAY;oCAAK;oCACzBE,QAAQ;wCAAEF,YAAY;oCAAK;gCAC7B;gCACAiB,WAAW;oCACTlB,QAAQ;wCAAEC,YAAY;oCAAK;oCAC3BC,MAAM;wCAAED,YAAY;oCAAK;oCACzBE,QAAQ;wCAAEF,YAAY;oCAAK;gCAC7B;4BACF;4BACAD,QAAQ;gCAAEC,YAAY;4BAAK;4BAC3BC,MAAM;gCAAED,YAAY;4BAAK;4BACzBE,QAAQ;gCAAEF,YAAY;4BAAK;wBAC7B;oBACF;oBACAC,MAAM;wBAAED,YAAY;oBAAK;oBACzBE,QAAQ;wBAAEF,YAAY;oBAAK;gBAC7B;YACF;YACAD,QAAQ;gBACNC,YAAY;YACd;YACAC,MAAM;gBACJD,YAAY;YACd;YACAE,QAAQ;gBACNF,YAAY;YACd;YACAG,QAAQ;gBACNH,YAAY;YACd;YACAI,cAAc;gBACZJ,YAAY;YACd;QACF;QAEAL,oBAAoB;YAClBU,gBAAgB;YAChBC,aAAa;gBACXC,MAAMX;YACR;QACF;QACAF,OAAOE,aAAaY,aAAa,CAAC;YAChCX,QAAQ;YACRE,QAAQ;YACRE,MAAM;YACNC,QAAQ;YACRE,cAAc;QAChB;IACF;IAEAX,GAAG,+DAA+D;QAChE,MAAMG,cAA6C;YACjDC,QAAQ;gBACNC,MAAM;oBACJC,QAAQ;wBACNC,YAAY;oBACd;oBACAC,MAAM;wBACJD,YAAY;oBACd;oBACAE,QAAQ;wBACNF,YAAY;oBACd;gBACF;gBACAsB,UAAU;oBACRvB,QAAQ;wBACNC,YAAY;oBACd;oBACAC,MAAM;wBACJD,YAAY;oBACd;oBACAE,QAAQ;wBACNF,YAAY;oBACd;gBACF;YACF;QACF;QAEAL,oBAAoB;YAClBU,gBAAgB;YAChBC,aAAa;gBACXC,MAAMX;YACR;QACF;QACAF,OAAOE,aAAaY,aAAa,CAAC;YAChCX,QAAQ;QACV;IACF;IAEAJ,GAAG,sDAAsD;QACvD,kGAAkG;QAClG,MAAMG,cAA6C;YACjDC,QAAQ;gBACN0B,IAAI;oBACFxB,QAAQ;wBACNC,YAAY;oBACd;oBACAH,QAAQ;wBACN2B,IAAI;4BACFzB,QAAQ;gCACNC,YAAY;4BACd;4BACAC,MAAM;gCACJD,YAAY;4BACd;4BACAE,QAAQ;gCACNF,YAAY;4BACd;wBACF;wBACAyB,KAAK;4BACH1B,QAAQ;gCACNC,YAAY;4BACd;4BACAC,MAAM;gCACJD,YAAY;4BACd;4BACAE,QAAQ;gCACNF,YAAY;4BACd;wBACF;oBACF;oBACAC,MAAM;wBACJD,YAAY;oBACd;oBACAE,QAAQ;wBACNF,YAAY;oBACd;gBACF;gBACA0B,MAAM;oBACJ7B,QAAQ;wBACN8B,KAAK;4BACH5B,QAAQ;gCACNC,YAAY;4BACd;4BACAC,MAAM;gCACJD,YAAY;4BACd;4BACAE,QAAQ;gCACNF,YAAY;4BACd;wBACF;wBACA4B,SAAS;4BACP7B,QAAQ;gCACNC,YAAY;4BACd;4BACAa,QAAQ;gCACNgB,SAAS;oCACPhC,QAAQ;wCACNiC,KAAK;4CACH/B,QAAQ;gDACNC,YAAY;4CACd;4CACAC,MAAM;gDACJD,YAAY;4CACd;4CACAE,QAAQ;gDACNF,YAAY;4CACd;wCACF;wCACAgB,IAAI;4CACFjB,QAAQ;gDACNC,YAAY;4CACd;4CACAC,MAAM;gDACJD,YAAY;4CACd;4CACAE,QAAQ;gDACNF,YAAY;4CACd;wCACF;wCACAiB,WAAW;4CACTlB,QAAQ;gDACNC,YAAY;4CACd;4CACAC,MAAM;gDACJD,YAAY;4CACd;4CACAE,QAAQ;gDACNF,YAAY;4CACd;wCACF;oCACF;oCACAD,QAAQ;wCACNC,YAAY;oCACd;oCACAC,MAAM;wCACJD,YAAY;oCACd;oCACAE,QAAQ;wCACNF,YAAY;oCACd;gCACF;4BACF;4BACAC,MAAM;gCACJD,YAAY;4BACd;4BACAE,QAAQ;gCACNF,YAAY;4BACd;wBACF;oBACF;oBACAD,QAAQ;wBACNC,YAAY;oBACd;oBACAC,MAAM;wBACJD,YAAY;oBACd;oBACAE,QAAQ;wBACNF,YAAY;oBACd;gBACF;gBACA+B,KAAK;oBACHhC,QAAQ;wBACNC,YAAY;oBACd;oBACAC,MAAM;wBACJD,YAAY;oBACd;oBACAE,QAAQ;wBACNF,YAAY;oBACd;gBACF;gBACAgC,SAAS;oBACPjC,QAAQ;wBACNC,YAAY;oBACd;oBACAa,QAAQ;wBACNgB,SAAS;4BACPhC,QAAQ;gCACNiC,KAAK;oCACH/B,QAAQ;wCACNC,YAAY;oCACd;oCACAC,MAAM;wCACJD,YAAY;oCACd;oCACAE,QAAQ;wCACNF,YAAY;oCACd;gCACF;gCACAgB,IAAI;oCACFjB,QAAQ;wCACNC,YAAY;oCACd;oCACAC,MAAM;wCACJD,YAAY;oCACd;oCACAE,QAAQ;wCACNF,YAAY;oCACd;gCACF;gCACAiB,WAAW;oCACTlB,QAAQ;wCACNC,YAAY;oCACd;oCACAC,MAAM;wCACJD,YAAY;oCACd;oCACAE,QAAQ;wCACNF,YAAY;oCACd;gCACF;4BACF;4BACAD,QAAQ;gCACNC,YAAY;4BACd;4BACAC,MAAM;gCACJD,YAAY;4BACd;4BACAE,QAAQ;gCACNF,YAAY;4BACd;wBACF;oBACF;oBACAC,MAAM;wBACJD,YAAY;oBACd;oBACAE,QAAQ;wBACNF,YAAY;oBACd;gBACF;gBACAiC,OAAO;oBACLlC,QAAQ;wBACNC,YAAY;oBACd;oBACAH,QAAQ;wBACNiC,KAAK;4BACH/B,QAAQ;gCACNC,YAAY;4BACd;4BACAC,MAAM;gCACJD,YAAY;4BACd;4BACAE,QAAQ;gCACNF,YAAY;4BACd;wBACF;wBACAgB,IAAI;4BACFjB,QAAQ;gCACNC,YAAY;4BACd;4BACAC,MAAM;gCACJD,YAAY;4BACd;4BACAE,QAAQ;gCACNF,YAAY;4BACd;wBACF;oBACF;oBACAC,MAAM;wBACJD,YAAY;oBACd;oBACAE,QAAQ;wBACNF,YAAY;oBACd;gBACF;gBACAkC,sBAAsB;oBACpBnC,QAAQ;wBACNC,YAAY;oBACd;oBACAH,QAAQ;wBACNiC,KAAK;4BACH/B,QAAQ;gCACNC,YAAY;4BACd;4BACAC,MAAM;gCACJD,YAAY;4BACd;4BACAE,QAAQ;gCACNF,YAAY;4BACd;wBACF;wBACAgB,IAAI;4BACFjB,QAAQ;gCACNC,YAAY;4BACd;4BACAC,MAAM;gCACJD,YAAY;4BACd;4BACAE,QAAQ;gCACNF,YAAY;4BACd;wBACF;oBACF;oBACAC,MAAM;wBACJD,YAAY;oBACd;oBACAE,QAAQ;wBACNF,YAAY;oBACd;gBACF;gBACAa,QAAQ;oBACNd,QAAQ;wBACNC,YAAY;oBACd;oBACAa,QAAQ;wBACNgB,SAAS;4BACPhC,QAAQ;gCACNiC,KAAK;oCACH/B,QAAQ;wCACNC,YAAY;oCACd;oCACAC,MAAM;wCACJD,YAAY;oCACd;oCACAE,QAAQ;wCACNF,YAAY;oCACd;gCACF;gCACAgB,IAAI;oCACFjB,QAAQ;wCACNC,YAAY;oCACd;oCACAC,MAAM;wCACJD,YAAY;oCACd;oCACAE,QAAQ;wCACNF,YAAY;oCACd;gCACF;gCACAiB,WAAW;oCACTlB,QAAQ;wCACNC,YAAY;oCACd;oCACAC,MAAM;wCACJD,YAAY;oCACd;oCACAE,QAAQ;wCACNF,YAAY;oCACd;gCACF;4BACF;4BACAD,QAAQ;gCACNC,YAAY;4BACd;4BACAC,MAAM;gCACJD,YAAY;4BACd;4BACAE,QAAQ;gCACNF,YAAY;4BACd;wBACF;oBACF;oBACAC,MAAM;wBACJD,YAAY;oBACd;oBACAE,QAAQ;wBACNF,YAAY;oBACd;gBACF;gBACAmC,WAAW;oBACTpC,QAAQ;wBACNC,YAAY;oBACd;oBACAC,MAAM;wBACJD,YAAY;oBACd;oBACAE,QAAQ;wBACNF,YAAY;oBACd;gBACF;gBACAoC,WAAW;oBACTrC,QAAQ;wBACNC,YAAY;oBACd;oBACAC,MAAM;wBACJD,YAAY;oBACd;oBACAE,QAAQ;wBACNF,YAAY;oBACd;gBACF;YACF;YACAD,QAAQ;gBACNC,YAAY;YACd;YACAC,MAAM;gBACJD,YAAY;YACd;YACAE,QAAQ;gBACNF,YAAY;YACd;YACAG,QAAQ;gBACNH,YAAY;YACd;QACF;QAEAL,oBAAoB;YAClBU,gBAAgB;YAChBC,aAAa;gBACXC,MAAMX;YACR;QACF;QACAF,OAAOE,aAAaY,aAAa,CAAC;YAChCX,QAAQ;gBACN0B,IAAI;oBACF1B,QAAQ;wBACN2B,IAAI;4BACFvB,MAAM;4BACNC,QAAQ;wBACV;wBACAuB,KAAK;4BACHxB,MAAM;4BACNC,QAAQ;wBACV;oBACF;oBACAD,MAAM;oBACNC,QAAQ;gBACV;gBACAwB,MAAM;oBACJ7B,QAAQ;wBACN8B,KAAK;4BACH1B,MAAM;4BACNC,QAAQ;wBACV;wBACA0B,SAAS;4BACPf,QAAQ;gCACNgB,SAAS;oCACPhC,QAAQ;wCACNiC,KAAK;4CACH7B,MAAM;4CACNC,QAAQ;wCACV;wCACAc,IAAI;4CACFf,MAAM;4CACNC,QAAQ;wCACV;wCACAe,WAAW;4CACThB,MAAM;4CACNC,QAAQ;wCACV;oCACF;oCACAD,MAAM;oCACNC,QAAQ;gCACV;4BACF;4BACAD,MAAM;4BACNC,QAAQ;wBACV;oBACF;oBACAD,MAAM;oBACNC,QAAQ;gBACV;gBACA6B,KAAK;oBACH9B,MAAM;oBACNC,QAAQ;gBACV;gBACA8B,SAAS;oBACPnB,QAAQ;wBACNgB,SAAS;4BACPhC,QAAQ;gCACNiC,KAAK;oCACH7B,MAAM;oCACNC,QAAQ;gCACV;gCACAc,IAAI;oCACFf,MAAM;oCACNC,QAAQ;gCACV;gCACAe,WAAW;oCACThB,MAAM;oCACNC,QAAQ;gCACV;4BACF;4BACAD,MAAM;4BACNC,QAAQ;wBACV;oBACF;oBACAD,MAAM;oBACNC,QAAQ;gBACV;gBACA+B,OAAO;oBACLpC,QAAQ;wBACNiC,KAAK;4BACH7B,MAAM;4BACNC,QAAQ;wBACV;wBACAc,IAAI;4BACFf,MAAM;4BACNC,QAAQ;wBACV;oBACF;oBACAD,MAAM;oBACNC,QAAQ;gBACV;gBACAgC,sBAAsB;oBACpBrC,QAAQ;wBACNiC,KAAK;4BACH7B,MAAM;wBACR;wBACAe,IAAI;4BACFf,MAAM;wBACR;oBACF;oBACAA,MAAM;gBACR;gBACAY,QAAQ;oBACNA,QAAQ;wBACNgB,SAAS;4BACPhC,QAAQ;gCACNiC,KAAK;oCACH7B,MAAM;oCACNC,QAAQ;gCACV;gCACAc,IAAI;oCACFf,MAAM;oCACNC,QAAQ;gCACV;gCACAe,WAAW;oCACThB,MAAM;oCACNC,QAAQ;gCACV;4BACF;4BACAD,MAAM;4BACNC,QAAQ;wBACV;oBACF;oBACAD,MAAM;oBACNC,QAAQ;gBACV;gBACAiC,WAAW;oBACTlC,MAAM;oBACNC,QAAQ;gBACV;gBACAkC,WAAW;oBACTnC,MAAM;oBACNC,QAAQ;gBACV;YACF;YACAD,MAAM;YACNC,QAAQ;YACRC,QAAQ;QACV;IACF;IAEAV,GAAG,wDAAwD;QACzD,kGAAkG;QAClG,MAAMG,cAA6C;YACjDC,QAAQ;gBACN0B,IAAI;oBACFxB,QAAQ;wBACNC,YAAY;oBACd;oBACAH,QAAQ;wBACN2B,IAAI;4BACFzB,QAAQ;gCACNC,YAAY;4BACd;4BACAC,MAAM;gCACJD,YAAY;4BACd;4BACAE,QAAQ;gCACNF,YAAY;4BACd;wBACF;wBACAyB,KAAK;4BACH1B,QAAQ;gCACNC,YAAY;4BACd;4BACAC,MAAM;gCACJD,YAAY;4BACd;4BACAE,QAAQ;gCACNF,YAAY;4BACd;wBACF;oBACF;oBACAC,MAAM;wBACJD,YAAY;oBACd;oBACAE,QAAQ;wBACNF,YAAY;oBACd;gBACF;gBACA0B,MAAM;oBACJ7B,QAAQ;wBACN8B,KAAK;4BACH5B,QAAQ;gCACNC,YAAY;4BACd;4BACAC,MAAM;gCACJD,YAAY;4BACd;4BACAE,QAAQ;gCACNF,YAAY;4BACd;wBACF;wBACA4B,SAAS;4BACP7B,QAAQ;gCACNC,YAAY;4BACd;4BACAa,QAAQ;gCACNgB,SAAS;oCACPhC,QAAQ;wCACNiC,KAAK;4CACH/B,QAAQ;gDACNC,YAAY;4CACd;4CACAC,MAAM;gDACJD,YAAY;4CACd;4CACAE,QAAQ;gDACNF,YAAY;4CACd;wCACF;wCACAgB,IAAI;4CACFjB,QAAQ;gDACNC,YAAY;4CACd;4CACAC,MAAM;gDACJD,YAAY;4CACd;4CACAE,QAAQ;gDACNF,YAAY;4CACd;wCACF;wCACAiB,WAAW;4CACTlB,QAAQ;gDACNC,YAAY;4CACd;4CACAC,MAAM;gDACJD,YAAY;4CACd;4CACAE,QAAQ;gDACNF,YAAY;4CACd;wCACF;oCACF;oCACAD,QAAQ;wCACNC,YAAY;oCACd;oCACAC,MAAM;wCACJD,YAAY;oCACd;oCACAE,QAAQ;wCACNF,YAAY;oCACd;gCACF;4BACF;4BACAC,MAAM;gCACJD,YAAY;4BACd;4BACAE,QAAQ;gCACNF,YAAY;4BACd;wBACF;oBACF;oBACAD,QAAQ;wBACNC,YAAY;oBACd;oBACAC,MAAM;wBACJD,YAAY;oBACd;oBACAE,QAAQ;wBACNF,YAAY;oBACd;gBACF;gBACA+B,KAAK;oBACHhC,QAAQ;wBACNC,YAAY;oBACd;oBACAC,MAAM;wBACJD,YAAY;oBACd;oBACAE,QAAQ;wBACNF,YAAY;oBACd;gBACF;gBACAkC,sBAAsB;oBACpBnC,QAAQ;wBACNC,YAAY;oBACd;oBACAH,QAAQ;wBACNiC,KAAK;4BACH/B,QAAQ;gCACNC,YAAY;4BACd;4BACAC,MAAM;gCACJD,YAAY;4BACd;4BACAE,QAAQ;gCACNF,YAAY;4BACd;wBACF;wBACAgB,IAAI;4BACFjB,QAAQ;gCACNC,YAAY;4BACd;4BACAC,MAAM;gCACJD,YAAY;4BACd;4BACAE,QAAQ;gCACNF,YAAY;4BACd;wBACF;oBACF;oBACAC,MAAM;wBACJD,YAAY;oBACd;oBACAE,QAAQ;wBACNF,YAAY;oBACd;gBACF;gBACAa,QAAQ;oBACNd,QAAQ;wBACNC,YAAY;oBACd;oBACAa,QAAQ;wBACNgB,SAAS;4BACPhC,QAAQ;gCACNiC,KAAK;oCACH/B,QAAQ;wCACNC,YAAY;oCACd;oCACAC,MAAM;wCACJD,YAAY;oCACd;oCACAE,QAAQ;wCACNF,YAAY;oCACd;gCACF;gCACAgB,IAAI;oCACFjB,QAAQ;wCACNC,YAAY;oCACd;oCACAC,MAAM;wCACJD,YAAY;oCACd;oCACAE,QAAQ;wCACNF,YAAY;oCACd;gCACF;gCACAiB,WAAW;oCACTlB,QAAQ;wCACNC,YAAY;oCACd;oCACAC,MAAM;wCACJD,YAAY;oCACd;oCACAE,QAAQ;wCACNF,YAAY;oCACd;gCACF;4BACF;4BACAD,QAAQ;gCACNC,YAAY;4BACd;4BACAC,MAAM;gCACJD,YAAY;4BACd;4BACAE,QAAQ;gCACNF,YAAY;4BACd;wBACF;oBACF;oBACAC,MAAM;wBACJD,YAAY;oBACd;oBACAE,QAAQ;wBACNF,YAAY;oBACd;gBACF;gBACAmC,WAAW;oBACTpC,QAAQ;wBACNC,YAAY;oBACd;oBACAC,MAAM;wBACJD,YAAY;oBACd;oBACAE,QAAQ;wBACNF,YAAY;oBACd;gBACF;gBACAoC,WAAW;oBACTrC,QAAQ;wBACNC,YAAY;oBACd;oBACAC,MAAM;wBACJD,YAAY;oBACd;oBACAE,QAAQ;wBACNF,YAAY;oBACd;gBACF;YACF;YACAD,QAAQ;gBACNC,YAAY;YACd;YACAC,MAAM;gBACJD,YAAY;YACd;YACAE,QAAQ;gBACNF,YAAY;YACd;YACAG,QAAQ;gBACNH,YAAY;YACd;QACF;QAEAL,oBAAoB;YAClBU,gBAAgB;YAChBC,aAAa;gBACXC,MAAMX;YACR;QACF;QACAF,OAAOE,aAAaY,aAAa,CAAC;YAChCX,QAAQ;gBACN0B,IAAI;gBACJG,MAAM;gBACNK,KAAK;gBACLG,sBAAsB;oBACpBrC,QAAQ;wBACNiC,KAAK;4BACH7B,MAAM;wBACR;wBACAe,IAAI;4BACFf,MAAM;wBACR;oBACF;oBACAA,MAAM;gBACR;gBACAY,QAAQ;gBACRsB,WAAW;gBACXC,WAAW;YACb;YACArC,QAAQ;YACRE,MAAM;YACNC,QAAQ;YACRC,QAAQ;QACV;IACF;IAEAV,GAAG,wDAAwD;QACzD,kGAAkG;QAClG,MAAMG,cAA6C;YACjDC,QAAQ;gBACN0B,IAAI;oBACFxB,QAAQ;wBACNC,YAAY;oBACd;oBACAH,QAAQ;wBACN2B,IAAI;4BACFzB,QAAQ;gCACNC,YAAY;4BACd;4BACAC,MAAM;gCACJD,YAAY;4BACd;4BACAE,QAAQ;gCACNF,YAAY;4BACd;wBACF;wBACAyB,KAAK;4BACH1B,QAAQ;gCACNC,YAAY;4BACd;4BACAC,MAAM;gCACJD,YAAY;4BACd;4BACAE,QAAQ;gCACNF,YAAY;4BACd;wBACF;oBACF;oBACAC,MAAM;wBACJD,YAAY;oBACd;oBACAE,QAAQ;wBACNF,YAAY;oBACd;gBACF;gBACA0B,MAAM;oBACJ7B,QAAQ;wBACN8B,KAAK;4BACH5B,QAAQ;gCACNC,YAAY;4BACd;4BACAC,MAAM;gCACJD,YAAY;4BACd;4BACAE,QAAQ;gCACNF,YAAY;4BACd;wBACF;wBACA4B,SAAS;4BACP7B,QAAQ;gCACNC,YAAY;4BACd;4BACAa,QAAQ;gCACNgB,SAAS;oCACPhC,QAAQ;wCACNiC,KAAK;4CACH/B,QAAQ;gDACNC,YAAY;4CACd;4CACAC,MAAM;gDACJD,YAAY;4CACd;4CACAE,QAAQ;gDACNF,YAAY;4CACd;wCACF;wCACAgB,IAAI;4CACFjB,QAAQ;gDACNC,YAAY;4CACd;4CACAC,MAAM;gDACJD,YAAY;4CACd;4CACAE,QAAQ;gDACNF,YAAY;4CACd;wCACF;wCACAiB,WAAW;4CACTlB,QAAQ;gDACNC,YAAY;4CACd;4CACAC,MAAM;gDACJD,YAAY;4CACd;4CACAE,QAAQ;gDACNF,YAAY;4CACd;wCACF;oCACF;oCACAD,QAAQ;wCACNC,YAAY;oCACd;oCACAC,MAAM;wCACJD,YAAY;oCACd;oCACAE,QAAQ;wCACNF,YAAY;oCACd;gCACF;4BACF;4BACAC,MAAM;gCACJD,YAAY;4BACd;4BACAE,QAAQ;gCACNF,YAAY;4BACd;wBACF;oBACF;oBACAD,QAAQ;wBACNC,YAAY;oBACd;oBACAC,MAAM;wBACJD,YAAY;oBACd;oBACAE,QAAQ;wBACNF,YAAY;oBACd;gBACF;gBACA+B,KAAK;oBACHhC,QAAQ;wBACNC,YAAY;oBACd;oBACAC,MAAM;wBACJD,YAAY;oBACd;oBACAE,QAAQ;wBACNF,YAAY;oBACd;gBACF;gBACAa,QAAQ;oBACNd,QAAQ;wBACNC,YAAY;oBACd;oBACAa,QAAQ;wBACNgB,SAAS;4BACPhC,QAAQ;gCACNiC,KAAK;oCACH/B,QAAQ;wCACNC,YAAY;oCACd;oCACAC,MAAM;wCACJD,YAAY;oCACd;oCACAE,QAAQ;wCACNF,YAAY;oCACd;gCACF;gCACAgB,IAAI;oCACFjB,QAAQ;wCACNC,YAAY;oCACd;oCACAC,MAAM;wCACJD,YAAY;oCACd;oCACAE,QAAQ;wCACNF,YAAY;oCACd;gCACF;gCACAiB,WAAW;oCACTlB,QAAQ;wCACNC,YAAY;oCACd;oCACAC,MAAM;wCACJD,YAAY;oCACd;oCACAE,QAAQ;wCACNF,YAAY;oCACd;gCACF;4BACF;4BACAD,QAAQ;gCACNC,YAAY;4BACd;4BACAC,MAAM;gCACJD,YAAY;4BACd;4BACAE,QAAQ;gCACNF,YAAY;4BACd;wBACF;oBACF;oBACAC,MAAM;wBACJD,YAAY;oBACd;oBACAE,QAAQ;wBACNF,YAAY;oBACd;gBACF;gBACAmC,WAAW;oBACTpC,QAAQ;wBACNC,YAAY;oBACd;oBACAC,MAAM;wBACJD,YAAY;oBACd;oBACAE,QAAQ;wBACNF,YAAY;oBACd;gBACF;gBACAoC,WAAW;oBACTrC,QAAQ;wBACNC,YAAY;oBACd;oBACAC,MAAM;wBACJD,YAAY;oBACd;oBACAE,QAAQ;wBACNF,YAAY;oBACd;gBACF;YACF;YACAD,QAAQ;gBACNC,YAAY;YACd;YACAC,MAAM;gBACJD,YAAY;YACd;YACAE,QAAQ;gBACNF,YAAY;YACd;YACAG,QAAQ;gBACNH,YAAY;YACd;QACF;QAEAL,oBAAoB;YAClBU,gBAAgB;YAChBC,aAAa;gBACXC,MAAMX;YACR;QACF;QACAF,OAAOE,aAAaY,aAAa,CAAC;YAChCX,QAAQ;YACRE,QAAQ;YACRE,MAAM;YACNC,QAAQ;YACRC,QAAQ;QACV;IACF;AACF;AAEAX,SAAS,uBAAuB;IAC9BC,GAAG,kDAAkD;QACnD,MAAMG,cAA2B;YAC/BS,gBAAgB;YAChBC,aAAa;gBACX+B,2BAA2B;oBACzBxC,QAAQ;wBACNa,MAAM;4BACJX,QAAQ;gCACNC,YAAY;4BACd;4BACAC,MAAM;gCACJD,YAAY;4BACd;4BACAE,QAAQ;gCACNF,YAAY;4BACd;wBACF;oBACF;oBACAD,QAAQ;wBACNC,YAAY;oBACd;oBACAC,MAAM;wBACJD,YAAY;oBACd;oBACAE,QAAQ;wBACNF,YAAY;oBACd;oBACAG,QAAQ;wBACNH,YAAY;oBACd;gBACF;YACF;YACAsC,SAAS;gBACPC,MAAM;oBACJ1C,QAAQ;wBACN2C,YAAY;4BACVzC,QAAQ;gCACNC,YAAY;4BACd;4BACAC,MAAM;gCACJD,YAAY;4BACd;4BACAE,QAAQ;gCACNF,YAAY;4BACd;wBACF;oBACF;oBACAC,MAAM;wBACJD,YAAY;oBACd;oBACAE,QAAQ;wBACNF,YAAY;oBACd;gBACF;YACF;QACF;QAEA,MAAMyC,uBAAuB9C,oBAAoBC;QAEjDF,OAAO+C,sBAAsBjC,aAAa,CAAC,CAAC;IAC9C;AACF"}