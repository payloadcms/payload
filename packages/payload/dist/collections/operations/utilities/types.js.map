{"version":3,"sources":["../../../../src/collections/operations/utilities/types.ts"],"sourcesContent":["import type { forgotPasswordOperation } from '../../../auth/operations/forgotPassword.js'\nimport type { loginOperation } from '../../../auth/operations/login.js'\nimport type { refreshOperation } from '../../../auth/operations/refresh.js'\nimport type { resetPasswordOperation } from '../../../auth/operations/resetPassword.js'\nimport type { unlockOperation } from '../../../auth/operations/unlock.js'\nimport type { CollectionSlug, RequestContext, restoreVersionOperation } from '../../../index.js'\nimport type { PayloadRequest } from '../../../types/index.js'\nimport type { SanitizedCollectionConfig, SelectFromCollectionSlug } from '../../config/types.js'\nimport type { countOperation } from '../count.js'\nimport type { countVersionsOperation } from '../countVersions.js'\nimport type { createOperation } from '../create.js'\nimport type { deleteOperation } from '../delete.js'\nimport type { deleteByIDOperation } from '../deleteByID.js'\nimport type { findOperation } from '../find.js'\nimport type { findByIDOperation } from '../findByID.js'\nimport type { findDistinctOperation } from '../findDistinct.js'\nimport type { findVersionByIDOperation } from '../findVersionByID.js'\nimport type { findVersionsOperation } from '../findVersions.js'\nimport type { updateOperation } from '../update.js'\nimport type { updateByIDOperation } from '../updateByID.js'\n\nexport type OperationMap<TOperationGeneric extends CollectionSlug> = {\n  count: typeof countOperation<TOperationGeneric>\n  countVersions: typeof countVersionsOperation<TOperationGeneric>\n  create: typeof createOperation<TOperationGeneric, SelectFromCollectionSlug<TOperationGeneric>>\n  delete: typeof deleteOperation<TOperationGeneric, SelectFromCollectionSlug<TOperationGeneric>>\n  deleteByID: typeof deleteByIDOperation<\n    TOperationGeneric,\n    SelectFromCollectionSlug<TOperationGeneric>\n  >\n  find: typeof findOperation<TOperationGeneric, SelectFromCollectionSlug<TOperationGeneric>>\n  findByID: typeof findByIDOperation<\n    TOperationGeneric,\n    boolean,\n    SelectFromCollectionSlug<TOperationGeneric>\n  >\n  findDistinct: typeof findDistinctOperation\n  findVersionByID: typeof findVersionByIDOperation\n  findVersions: typeof findVersionsOperation\n  forgotPassword: typeof forgotPasswordOperation\n  login: typeof loginOperation<TOperationGeneric>\n  refresh: typeof refreshOperation\n  resetPassword: typeof resetPasswordOperation<TOperationGeneric>\n  restoreVersion: typeof restoreVersionOperation\n  unlock: typeof unlockOperation<TOperationGeneric>\n  update: typeof updateOperation<TOperationGeneric, SelectFromCollectionSlug<TOperationGeneric>>\n  updateByID: typeof updateByIDOperation<\n    TOperationGeneric,\n    SelectFromCollectionSlug<TOperationGeneric>\n  >\n}\n\nexport type AfterOperationArg<TOperationGeneric extends CollectionSlug> = {\n  /** The collection which this hook is being run on */\n  collection: SanitizedCollectionConfig\n  req: PayloadRequest\n} & (\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['count']>[0]\n      operation: 'count'\n      result: Awaited<ReturnType<OperationMap<TOperationGeneric>['count']>>\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['countVersions']>[0]\n      operation: 'countVersions'\n      result: Awaited<ReturnType<OperationMap<TOperationGeneric>['countVersions']>>\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['create']>[0]\n      operation: 'create'\n      result: Awaited<ReturnType<OperationMap<TOperationGeneric>['create']>>\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['delete']>[0]\n      operation: 'delete'\n      result: Awaited<ReturnType<OperationMap<TOperationGeneric>['delete']>>\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['deleteByID']>[0]\n      operation: 'deleteByID'\n      result: Awaited<ReturnType<OperationMap<TOperationGeneric>['deleteByID']>>\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['find']>[0]\n      /**\n       * @deprecated Use 'find' or 'findByID' operation instead\n       *\n       * TODO: v4 - remove this union option\n       */\n      operation: 'read'\n      result: Awaited<ReturnType<OperationMap<TOperationGeneric>['find']>>\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['find']>[0]\n      operation: 'find'\n      result: Awaited<ReturnType<OperationMap<TOperationGeneric>['find']>>\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['findByID']>[0]\n      operation: 'findByID'\n      result: Awaited<ReturnType<OperationMap<TOperationGeneric>['findByID']>>\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['findDistinct']>[0]\n      operation: 'findDistinct'\n      result: Awaited<ReturnType<OperationMap<TOperationGeneric>['findDistinct']>>\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['findVersionByID']>[0]\n      operation: 'findVersionByID'\n      result: Awaited<ReturnType<OperationMap<TOperationGeneric>['findVersionByID']>>\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['findVersions']>[0]\n      operation: 'findVersions'\n      result: Awaited<ReturnType<OperationMap<TOperationGeneric>['findVersions']>>\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['forgotPassword']>[0]\n      operation: 'forgotPassword'\n      result: Awaited<ReturnType<OperationMap<TOperationGeneric>['forgotPassword']>>\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['login']>[0]\n      operation: 'login'\n      result: Awaited<ReturnType<OperationMap<TOperationGeneric>['login']>>\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['refresh']>[0]\n      operation: 'refresh'\n      result: Awaited<ReturnType<OperationMap<TOperationGeneric>['refresh']>>\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['resetPassword']>[0]\n      operation: 'resetPassword'\n      result: Awaited<ReturnType<OperationMap<TOperationGeneric>['resetPassword']>>\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['restoreVersion']>[0]\n      operation: 'restoreVersion'\n      result: Awaited<ReturnType<OperationMap<TOperationGeneric>['restoreVersion']>>\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['unlock']>[0]\n      operation: 'unlock'\n      result: Awaited<ReturnType<OperationMap<TOperationGeneric>['unlock']>>\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['update']>[0]\n      operation: 'update'\n      result: Awaited<ReturnType<OperationMap<TOperationGeneric>['update']>>\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['updateByID']>[0]\n      operation: 'updateByID'\n      result: Awaited<ReturnType<OperationMap<TOperationGeneric>['updateByID']>>\n    }\n)\n\nexport type OperationResult<\n  TOperationGeneric extends CollectionSlug,\n  O extends keyof OperationMap<TOperationGeneric>,\n> = Awaited<ReturnType<OperationMap<TOperationGeneric>[O]>>\n\nexport type OperationArgs<\n  TOperationGeneric extends CollectionSlug,\n  O extends keyof OperationMap<TOperationGeneric>,\n> = Parameters<OperationMap<TOperationGeneric>[O]>[0]\n\n// Map internal operation names to HookOperationType\nexport const operationToHookOperation = {\n  count: 'count',\n  countVersions: 'countVersions',\n  create: 'create',\n  delete: 'delete',\n  deleteByID: 'delete',\n  find: 'read',\n  findByID: 'read',\n  findDistinct: 'readDistinct',\n  findVersionByID: 'read',\n  findVersions: 'read',\n  forgotPassword: 'forgotPassword',\n  login: 'login',\n  read: 'read',\n  readDistinct: 'readDistinct',\n  refresh: 'refresh',\n  resetPassword: 'resetPassword',\n  restoreVersion: 'restoreVersion',\n  unlock: 'unlock',\n  update: 'update',\n  updateByID: 'update',\n} as const\n\nexport type BeforeOperationArg<TOperationGeneric extends CollectionSlug> = {\n  /** The collection which this hook is being run on */\n  collection: SanitizedCollectionConfig\n  context: RequestContext\n  req: PayloadRequest\n} & (\n  | {\n      args:\n        | Parameters<OperationMap<TOperationGeneric>['find']>[0]\n        | Parameters<OperationMap<TOperationGeneric>['findByID']>[0]\n      /**\n       * @deprecated Use 'find' or 'findByID' operation instead\n       *\n       * TODO: v4 - remove this union option\n       */\n      operation: 'read'\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['count']>[0]\n      operation: 'count'\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['countVersions']>[0]\n      operation: 'countVersions'\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['create']>[0]\n      operation: 'create'\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['delete']>[0]\n      operation: 'delete'\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['deleteByID']>[0]\n      operation: 'deleteByID'\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['find']>[0]\n      operation: 'find'\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['findByID']>[0]\n      operation: 'findByID'\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['findDistinct']>[0]\n      /**\n       * @deprecated Use 'findDistinct' operation instead\n       *\n       * TODO: v4 - remove this union option\n       */\n      operation: 'readDistinct'\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['findDistinct']>[0]\n      operation: 'findDistinct'\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['findVersionByID']>[0]\n      operation: 'findVersionByID'\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['findVersions']>[0]\n      operation: 'findVersions'\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['forgotPassword']>[0]\n      operation: 'forgotPassword'\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['login']>[0]\n      operation: 'login'\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['refresh']>[0]\n      operation: 'refresh'\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['resetPassword']>[0]\n      operation: 'resetPassword'\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['restoreVersion']>[0]\n      operation: 'restoreVersion'\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['unlock']>[0]\n      operation: 'unlock'\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['update']>[0]\n      operation: 'update'\n    }\n  | {\n      args: Parameters<OperationMap<TOperationGeneric>['updateByID']>[0]\n      operation: 'updateByID'\n    }\n)\n"],"names":["operationToHookOperation","count","countVersions","create","delete","deleteByID","find","findByID","findDistinct","findVersionByID","findVersions","forgotPassword","login","read","readDistinct","refresh","resetPassword","restoreVersion","unlock","update","updateByID"],"mappings":"AAyKA,oDAAoD;AACpD,OAAO,MAAMA,2BAA2B;IACtCC,OAAO;IACPC,eAAe;IACfC,QAAQ;IACRC,QAAQ;IACRC,YAAY;IACZC,MAAM;IACNC,UAAU;IACVC,cAAc;IACdC,iBAAiB;IACjBC,cAAc;IACdC,gBAAgB;IAChBC,OAAO;IACPC,MAAM;IACNC,cAAc;IACdC,SAAS;IACTC,eAAe;IACfC,gBAAgB;IAChBC,QAAQ;IACRC,QAAQ;IACRC,YAAY;AACd,EAAU"}