{"version":3,"sources":["../../../src/bin/generateImportMap/iterateGlobals.ts"],"sourcesContent":["import type { SanitizedConfig } from '../../config/types.js'\nimport type { SanitizedGlobalConfig } from '../../globals/config/types.js'\nimport type { AddToImportMap, Imports, InternalImportMap } from './index.js'\n\nimport { genImportMapIterateFields } from './iterateFields.js'\n\nexport function iterateGlobals({\n  addToImportMap,\n  baseDir,\n  config,\n  globals,\n  importMap,\n  imports,\n}: {\n  addToImportMap: AddToImportMap\n  baseDir: string\n  config: SanitizedConfig\n  globals: SanitizedGlobalConfig[]\n  importMap: InternalImportMap\n  imports: Imports\n}) {\n  for (const global of globals) {\n    genImportMapIterateFields({\n      addToImportMap,\n      baseDir,\n      config,\n      fields: global.fields,\n      importMap,\n      imports,\n    })\n\n    addToImportMap(global.admin?.components?.elements?.beforeDocumentControls)\n    addToImportMap(global.admin?.components?.elements?.Description)\n    addToImportMap(global.admin?.components?.elements?.PreviewButton)\n    addToImportMap(global.admin?.components?.elements?.PublishButton)\n    addToImportMap(global.admin?.components?.elements?.SaveButton)\n    addToImportMap(global.admin?.components?.elements?.SaveDraftButton)\n    addToImportMap(global.admin?.components?.elements?.Status)\n\n    if (global.admin?.components?.views?.edit) {\n      for (const editViewConfig of Object.values(global.admin?.components?.views?.edit)) {\n        if ('Component' in editViewConfig) {\n          addToImportMap(editViewConfig?.Component)\n        }\n\n        if ('actions' in editViewConfig) {\n          addToImportMap(editViewConfig?.actions)\n        }\n\n        if ('tab' in editViewConfig) {\n          addToImportMap(editViewConfig?.tab?.Component)\n          addToImportMap(editViewConfig?.tab?.Pill)\n        }\n      }\n    }\n  }\n}\n"],"names":["genImportMapIterateFields","iterateGlobals","addToImportMap","baseDir","config","globals","importMap","imports","global","fields","admin","components","elements","beforeDocumentControls","Description","PreviewButton","PublishButton","SaveButton","SaveDraftButton","Status","views","edit","editViewConfig","Object","values","Component","actions","tab","Pill"],"mappings":"AAIA,SAASA,yBAAyB,QAAQ,qBAAoB;AAE9D,OAAO,SAASC,eAAe,EAC7BC,cAAc,EACdC,OAAO,EACPC,MAAM,EACNC,OAAO,EACPC,SAAS,EACTC,OAAO,EAQR;IACC,KAAK,MAAMC,UAAUH,QAAS;QAC5BL,0BAA0B;YACxBE;YACAC;YACAC;YACAK,QAAQD,OAAOC,MAAM;YACrBH;YACAC;QACF;QAEAL,eAAeM,OAAOE,KAAK,EAAEC,YAAYC,UAAUC;QACnDX,eAAeM,OAAOE,KAAK,EAAEC,YAAYC,UAAUE;QACnDZ,eAAeM,OAAOE,KAAK,EAAEC,YAAYC,UAAUG;QACnDb,eAAeM,OAAOE,KAAK,EAAEC,YAAYC,UAAUI;QACnDd,eAAeM,OAAOE,KAAK,EAAEC,YAAYC,UAAUK;QACnDf,eAAeM,OAAOE,KAAK,EAAEC,YAAYC,UAAUM;QACnDhB,eAAeM,OAAOE,KAAK,EAAEC,YAAYC,UAAUO;QAEnD,IAAIX,OAAOE,KAAK,EAAEC,YAAYS,OAAOC,MAAM;YACzC,KAAK,MAAMC,kBAAkBC,OAAOC,MAAM,CAAChB,OAAOE,KAAK,EAAEC,YAAYS,OAAOC,MAAO;gBACjF,IAAI,eAAeC,gBAAgB;oBACjCpB,eAAeoB,gBAAgBG;gBACjC;gBAEA,IAAI,aAAaH,gBAAgB;oBAC/BpB,eAAeoB,gBAAgBI;gBACjC;gBAEA,IAAI,SAASJ,gBAAgB;oBAC3BpB,eAAeoB,gBAAgBK,KAAKF;oBACpCvB,eAAeoB,gBAAgBK,KAAKC;gBACtC;YACF;QACF;IACF;AACF"}