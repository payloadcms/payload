{"version":3,"sources":["../../../src/ui/PriceCell/index.tsx"],"sourcesContent":["'use client'\nimport type { DefaultCellComponentProps, TypedCollection } from 'payload'\n\nimport { useTranslation } from '@payloadcms/ui'\n\nimport type { CurrenciesConfig, Currency } from '../../types/index.js'\n\nimport { convertFromBaseValue } from '../utilities.js'\n\ntype Props = {\n  cellData?: number\n  currenciesConfig: CurrenciesConfig\n  currency?: Currency\n  path: string\n  rowData: Partial<TypedCollection['products']>\n} & DefaultCellComponentProps\n\nexport const PriceCell: React.FC<Props> = (args) => {\n  const { t } = useTranslation()\n  const { cellData, currenciesConfig, currency: currencyFromProps, rowData } = args\n\n  const currency = currencyFromProps || currenciesConfig.supportedCurrencies[0]\n\n  if (!currency) {\n    // @ts-expect-error - plugin translations are not typed yet\n    return <span>{t('plugin-ecommerce:currencyNotSet')}</span>\n  }\n\n  if (\n    (!cellData || typeof cellData !== 'number') &&\n    'enableVariants' in rowData &&\n    rowData.enableVariants\n  ) {\n    // @ts-expect-error - plugin translations are not typed yet\n    return <span>{t('plugin-ecommerce:priceSetInVariants')}</span>\n  }\n\n  if (!cellData) {\n    // @ts-expect-error - plugin translations are not typed yet\n    return <span>{t('plugin-ecommerce:priceNotSet')}</span>\n  }\n\n  return (\n    <span>\n      {currency.symbol}\n      {convertFromBaseValue({ baseValue: cellData, currency })}\n    </span>\n  )\n}\n"],"names":["useTranslation","convertFromBaseValue","PriceCell","args","t","cellData","currenciesConfig","currency","currencyFromProps","rowData","supportedCurrencies","span","enableVariants","symbol","baseValue"],"mappings":"AAAA;;AAGA,SAASA,cAAc,QAAQ,iBAAgB;AAI/C,SAASC,oBAAoB,QAAQ,kBAAiB;AAUtD,OAAO,MAAMC,YAA6B,CAACC;IACzC,MAAM,EAAEC,CAAC,EAAE,GAAGJ;IACd,MAAM,EAAEK,QAAQ,EAAEC,gBAAgB,EAAEC,UAAUC,iBAAiB,EAAEC,OAAO,EAAE,GAAGN;IAE7E,MAAMI,WAAWC,qBAAqBF,iBAAiBI,mBAAmB,CAAC,EAAE;IAE7E,IAAI,CAACH,UAAU;QACb,2DAA2D;QAC3D,qBAAO,KAACI;sBAAMP,EAAE;;IAClB;IAEA,IACE,AAAC,CAAA,CAACC,YAAY,OAAOA,aAAa,QAAO,KACzC,oBAAoBI,WACpBA,QAAQG,cAAc,EACtB;QACA,2DAA2D;QAC3D,qBAAO,KAACD;sBAAMP,EAAE;;IAClB;IAEA,IAAI,CAACC,UAAU;QACb,2DAA2D;QAC3D,qBAAO,KAACM;sBAAMP,EAAE;;IAClB;IAEA,qBACE,MAACO;;YACEJ,SAASM,MAAM;YACfZ,qBAAqB;gBAAEa,WAAWT;gBAAUE;YAAS;;;AAG5D,EAAC"}