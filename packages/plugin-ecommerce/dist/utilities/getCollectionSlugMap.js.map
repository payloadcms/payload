{"version":3,"sources":["../../src/utilities/getCollectionSlugMap.ts"],"sourcesContent":["import type { CollectionSlugMap, SanitizedEcommercePluginConfig } from '../types/index.js'\n\ntype Props = {\n  enableVariants?: boolean\n  sanitizedPluginConfig: SanitizedEcommercePluginConfig\n}\n\n/**\n * Generates a map of collection slugs based on the sanitized plugin configuration.\n * Takes into consideration any collection overrides provided in the plugin.\n * Variant-related slugs are only included when enableVariants is true.\n */\nexport const getCollectionSlugMap = ({\n  enableVariants = false,\n  sanitizedPluginConfig,\n}: Props): CollectionSlugMap => {\n  const defaultSlugMap: CollectionSlugMap = {\n    addresses: 'addresses',\n    carts: 'carts',\n    customers: 'users',\n    orders: 'orders',\n    products: 'products',\n    transactions: 'transactions',\n    ...(enableVariants\n      ? {\n          variantOptions: 'variantOptions',\n          variants: 'variants',\n          variantTypes: 'variantTypes',\n        }\n      : {}),\n  }\n\n  const collectionSlugsMap: CollectionSlugMap = defaultSlugMap\n\n  if (typeof sanitizedPluginConfig.customers === 'object' && sanitizedPluginConfig.customers.slug) {\n    collectionSlugsMap.customers = sanitizedPluginConfig.customers.slug\n  }\n\n  // Only include variant slugs from slugMap if variants are enabled\n  const slugMapOverrides = sanitizedPluginConfig.slugMap || {}\n\n  if (!enableVariants) {\n    delete slugMapOverrides.variantOptions\n    delete slugMapOverrides.variants\n    delete slugMapOverrides.variantTypes\n  }\n\n  return { ...collectionSlugsMap, ...slugMapOverrides }\n}\n"],"names":["getCollectionSlugMap","enableVariants","sanitizedPluginConfig","defaultSlugMap","addresses","carts","customers","orders","products","transactions","variantOptions","variants","variantTypes","collectionSlugsMap","slug","slugMapOverrides","slugMap"],"mappings":"AAOA;;;;CAIC,GACD,OAAO,MAAMA,uBAAuB,CAAC,EACnCC,iBAAiB,KAAK,EACtBC,qBAAqB,EACf;IACN,MAAMC,iBAAoC;QACxCC,WAAW;QACXC,OAAO;QACPC,WAAW;QACXC,QAAQ;QACRC,UAAU;QACVC,cAAc;QACd,GAAIR,iBACA;YACES,gBAAgB;YAChBC,UAAU;YACVC,cAAc;QAChB,IACA,CAAC,CAAC;IACR;IAEA,MAAMC,qBAAwCV;IAE9C,IAAI,OAAOD,sBAAsBI,SAAS,KAAK,YAAYJ,sBAAsBI,SAAS,CAACQ,IAAI,EAAE;QAC/FD,mBAAmBP,SAAS,GAAGJ,sBAAsBI,SAAS,CAACQ,IAAI;IACrE;IAEA,kEAAkE;IAClE,MAAMC,mBAAmBb,sBAAsBc,OAAO,IAAI,CAAC;IAE3D,IAAI,CAACf,gBAAgB;QACnB,OAAOc,iBAAiBL,cAAc;QACtC,OAAOK,iBAAiBJ,QAAQ;QAChC,OAAOI,iBAAiBH,YAAY;IACtC;IAEA,OAAO;QAAE,GAAGC,kBAAkB;QAAE,GAAGE,gBAAgB;IAAC;AACtD,EAAC"}