{"version":3,"sources":["../../../../src/collections/carts/operations/defaultCartItemMatcher.ts"],"sourcesContent":["import type { CartItemMatcher } from './types.js'\n\n/**\n * Default cart item matcher that considers items identical if they have\n * the same product ID and variant ID.\n *\n * Users can provide a custom matcher to add additional criteria such as\n * delivery options, customizations, or other item-specific properties.\n *\n * @example\n * ```ts\n * // Extend the default matcher to include a delivery option\n * const customMatcher: CartItemMatcher = ({ existingItem, newItem }) => {\n *   const defaultMatch = defaultCartItemMatcher({ existingItem, newItem })\n *   return defaultMatch && existingItem.deliveryOption === newItem.deliveryOption\n * }\n * ```\n */\nexport const defaultCartItemMatcher: CartItemMatcher = ({ existingItem, newItem }) => {\n  const existingProductID =\n    typeof existingItem.product === 'object' ? existingItem.product.id : existingItem.product\n\n  const existingVariantID =\n    existingItem.variant && typeof existingItem.variant === 'object'\n      ? existingItem.variant.id\n      : existingItem.variant\n\n  const productMatches = existingProductID === newItem.product\n\n  // Variant matching: both must have same variant or both must have no variant\n  const variantMatches = newItem.variant\n    ? existingVariantID === newItem.variant\n    : !existingVariantID\n\n  return productMatches && variantMatches\n}\n"],"names":["defaultCartItemMatcher","existingItem","newItem","existingProductID","product","id","existingVariantID","variant","productMatches","variantMatches"],"mappings":"AAEA;;;;;;;;;;;;;;;CAeC,GACD,OAAO,MAAMA,yBAA0C,CAAC,EAAEC,YAAY,EAAEC,OAAO,EAAE;IAC/E,MAAMC,oBACJ,OAAOF,aAAaG,OAAO,KAAK,WAAWH,aAAaG,OAAO,CAACC,EAAE,GAAGJ,aAAaG,OAAO;IAE3F,MAAME,oBACJL,aAAaM,OAAO,IAAI,OAAON,aAAaM,OAAO,KAAK,WACpDN,aAAaM,OAAO,CAACF,EAAE,GACvBJ,aAAaM,OAAO;IAE1B,MAAMC,iBAAiBL,sBAAsBD,QAAQE,OAAO;IAE5D,6EAA6E;IAC7E,MAAMK,iBAAiBP,QAAQK,OAAO,GAClCD,sBAAsBJ,QAAQK,OAAO,GACrC,CAACD;IAEL,OAAOE,kBAAkBC;AAC3B,EAAC"}