{"version":3,"sources":["../src/types.ts"],"sourcesContent":["import type { CollectionConfig, CollectionSlug } from 'payload'\n\n/**\n * Type for overriding import/export collection configurations\n */\nexport type CollectionOverride = ({\n  collection,\n}: {\n  collection: CollectionConfig\n}) => CollectionConfig | Promise<CollectionConfig>\n\nexport type ExportConfig = {\n  /**\n   * Number of documents to process in each batch during export. This config is applied to both jobs and synchronous exports.\n   *\n   * @default 100\n   */\n  batchSize?: number\n  /**\n   * If true, disables the download button in the export preview UI\n   * @default false\n   */\n  disableDownload?: boolean\n  /**\n   * If true, disables the jobs queue for exports and runs them synchronously.\n   * @default false\n   */\n  disableJobsQueue?: boolean\n  /**\n   * If true, disables the save button in the export preview UI\n   * @default false\n   */\n  disableSave?: boolean\n  /**\n   * Forces a specific export format (`csv` or `json`) and hides the format dropdown from the UI.\n   * When defined, this overrides the user's ability to choose a format manually.\n   * If not set, the user can choose between CSV and JSON in the export UI.\n   * @default undefined\n   */\n  format?: 'csv' | 'json'\n  /**\n   * Override the export collection for this collection.\n   *\n   * @default true\n   */\n  overrideCollection?: CollectionOverride\n}\n\nexport type ImportConfig = {\n  /**\n   * Number of documents to process in each batch during import. This config is applied to both jobs and synchronous imports.\n   *\n   * @default 100\n   */\n  batchSize?: number\n  /**\n   * Default version status for imported documents when _status field is not provided.\n   * Only applies to collections with versions enabled.\n   * @default 'published'\n   */\n  defaultVersionStatus?: 'draft' | 'published'\n  /**\n   * If true, disables the jobs queue for imports and runs them synchronously.\n   * @default false\n   */\n  disableJobsQueue?: boolean\n  /**\n   * Override the import collection for this collection.\n   *\n   * @default true\n   */\n  overrideCollection?: CollectionOverride\n}\n\nexport type PluginCollectionConfig = {\n  /**\n   * Override the import collection for this collection or disable it entirely with `false`.\n   *\n   * @default true\n   */\n  export?: boolean | ExportConfig\n  /**\n   * Override the export collection for this collection or disable it entirely with `false`.\n   *\n   * @default true\n   */\n  import?: boolean | ImportConfig\n  /**\n   * Target collection's slug for import/export functionality\n   */\n  slug: CollectionSlug\n}\n\n/**\n * Configuration options for the Import/Export plugin\n */\nexport type ImportExportPluginConfig = {\n  /**\n   * Collections to include the Import/Export controls in.\n   * If not specified, all collections will have import/export enabled.\n   * @default undefined (all collections)\n   */\n  collections: PluginCollectionConfig[]\n\n  /**\n   * Enable debug logging for troubleshooting import/export operations\n   * @default false\n   */\n  debug?: boolean\n\n  /**\n   * Function to override the default export collection configuration.\n   * Takes the default export collection and allows you to modify and return it.\n   * Useful for adding access control, changing upload directory, etc.\n   *\n   * This can also be set at the collection level via `export` config.\n   */\n  overrideExportCollection?: CollectionOverride\n\n  /**\n   * Function to override the default import collection configuration.\n   * Takes the default import collection and allows you to modify and return it.\n   * Useful for adding access control, changing upload directory, etc.\n   *\n   * This can also be set at the collection level via `import` config.\n   */\n  overrideImportCollection?: CollectionOverride\n}\n\n/**\n * Custom function used to modify the outgoing csv data by manipulating the data, siblingData or by returning the desired value\n */\nexport type ToCSVFunction = (args: {\n  /**\n   * The path of the column for the field, for arrays this includes the index (zero-based)\n   */\n  columnName: string\n  /**\n   * Alias for `row`, the object that accumulates CSV output.\n   * Use this to write additional fields into the exported row.\n   */\n  data: Record<string, unknown>\n  /**\n   * The top level document\n   */\n  doc: Document\n  /**\n   * The object data that can be manipulated to assign data to the CSV\n   */\n  row: Record<string, unknown>\n  /**\n   * The document data at the level where it belongs\n   */\n  siblingDoc: Record<string, unknown>\n  /**\n   * The data for the field.\n   */\n  value: unknown\n}) => unknown\n\n/**\n * Custom function used to transform incoming CSV data during import\n */\nexport type FromCSVFunction = (args: {\n  /**\n   * The path of the column for the field\n   */\n  columnName: string\n  /**\n   * The current row data being processed\n   */\n  data: Record<string, unknown>\n  /**\n   * The value being imported for this field\n   */\n  value: unknown\n}) => unknown\n\n/**\n * Base pagination data returned from preview endpoints\n */\nexport type PreviewPaginationData = {\n  /**\n   * Whether there is a next page available\n   */\n  hasNextPage: boolean\n  /**\n   * Whether there is a previous page available\n   */\n  hasPrevPage: boolean\n  /**\n   * Number of documents per page\n   */\n  limit: number\n  /**\n   * Current page number (1-indexed)\n   */\n  page: number\n  /**\n   * Total number of documents\n   */\n  totalDocs: number\n  /**\n   * Total number of pages\n   */\n  totalPages: number\n}\n\n/**\n * Response from export preview endpoint\n */\nexport type ExportPreviewResponse = {\n  /**\n   * Column names for CSV format (undefined for JSON)\n   */\n  columns?: string[]\n  /**\n   * Preview documents (transformed for display)\n   */\n  docs: Record<string, unknown>[]\n  /**\n   * Actual count of docs that will be exported (respects export limit)\n   */\n  exportTotalDocs: number\n} & PreviewPaginationData\n\n/**\n * Response from import preview endpoint\n */\nexport type ImportPreviewResponse = {\n  /**\n   * Preview documents parsed from the import file\n   */\n  docs: Record<string, unknown>[]\n} & PreviewPaginationData\n"],"names":[],"mappings":"AAkOA;;CAEC,GACD,WAKyB"}