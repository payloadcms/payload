{"version":3,"sources":["../../src/utilities/processRichTextField.ts"],"sourcesContent":["/**\n * Process rich text fields to ensure proper data types for Lexical editor.\n * Lexical expects certain properties to be numbers, not strings.\n */\nexport const processRichTextField = (value: unknown): unknown => {\n  if (!value || typeof value !== 'object') {\n    return value\n  }\n\n  // Properties that should be numbers in Lexical\n  const numericProperties = [\n    'detail',\n    'format',\n    'indent',\n    'version',\n    'value',\n    'start',\n    'textFormat',\n    'textStyle',\n  ]\n\n  const processNode = (node: any): any => {\n    if (!node || typeof node !== 'object') {\n      return node\n    }\n\n    // Process current node's properties\n    const processed: any = {}\n    for (const [key, val] of Object.entries(node)) {\n      if (numericProperties.includes(key) && typeof val === 'string') {\n        // Convert string numbers to actual numbers\n        const num = parseFloat(val)\n        processed[key] = isNaN(num) ? val : num\n      } else if (key === 'children' && Array.isArray(val)) {\n        // Recursively process children\n        processed[key] = val.map((child) => processNode(child))\n      } else if (typeof val === 'object' && val !== null) {\n        // Recursively process nested objects\n        processed[key] = processNode(val)\n      } else {\n        processed[key] = val\n      }\n    }\n\n    return processed\n  }\n\n  return processNode(value)\n}\n"],"names":["processRichTextField","value","numericProperties","processNode","node","processed","key","val","Object","entries","includes","num","parseFloat","isNaN","Array","isArray","map","child"],"mappings":"AAAA;;;CAGC,GACD,OAAO,MAAMA,uBAAuB,CAACC;IACnC,IAAI,CAACA,SAAS,OAAOA,UAAU,UAAU;QACvC,OAAOA;IACT;IAEA,+CAA+C;IAC/C,MAAMC,oBAAoB;QACxB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IAED,MAAMC,cAAc,CAACC;QACnB,IAAI,CAACA,QAAQ,OAAOA,SAAS,UAAU;YACrC,OAAOA;QACT;QAEA,oCAAoC;QACpC,MAAMC,YAAiB,CAAC;QACxB,KAAK,MAAM,CAACC,KAAKC,IAAI,IAAIC,OAAOC,OAAO,CAACL,MAAO;YAC7C,IAAIF,kBAAkBQ,QAAQ,CAACJ,QAAQ,OAAOC,QAAQ,UAAU;gBAC9D,2CAA2C;gBAC3C,MAAMI,MAAMC,WAAWL;gBACvBF,SAAS,CAACC,IAAI,GAAGO,MAAMF,OAAOJ,MAAMI;YACtC,OAAO,IAAIL,QAAQ,cAAcQ,MAAMC,OAAO,CAACR,MAAM;gBACnD,+BAA+B;gBAC/BF,SAAS,CAACC,IAAI,GAAGC,IAAIS,GAAG,CAAC,CAACC,QAAUd,YAAYc;YAClD,OAAO,IAAI,OAAOV,QAAQ,YAAYA,QAAQ,MAAM;gBAClD,qCAAqC;gBACrCF,SAAS,CAACC,IAAI,GAAGH,YAAYI;YAC/B,OAAO;gBACLF,SAAS,CAACC,IAAI,GAAGC;YACnB;QACF;QAEA,OAAOF;IACT;IAEA,OAAOF,YAAYF;AACrB,EAAC"}