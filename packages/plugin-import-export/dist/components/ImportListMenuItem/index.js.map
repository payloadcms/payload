{"version":3,"sources":["../../../src/components/ImportListMenuItem/index.tsx"],"sourcesContent":["'use client'\n\nimport { getTranslation } from '@payloadcms/translations'\nimport {\n  PopupList,\n  Translation,\n  useConfig,\n  useDocumentDrawer,\n  useTranslation,\n} from '@payloadcms/ui'\nimport React, { useEffect } from 'react'\n\nimport type {\n  PluginImportExportTranslationKeys,\n  PluginImportExportTranslations,\n} from '../../translations/index.js'\n\nimport { useImportExport } from '../ImportExportProvider/index.js'\n\nconst baseClass = 'import-list-menu-item'\n\nexport const ImportListMenuItem: React.FC<{\n  collectionSlug: string\n  importCollectionSlug: string\n}> = ({ collectionSlug, importCollectionSlug }) => {\n  const { getEntityConfig } = useConfig()\n\n  const { i18n, t } = useTranslation<\n    PluginImportExportTranslations,\n    PluginImportExportTranslationKeys\n  >()\n\n  const currentCollectionConfig = getEntityConfig({ collectionSlug })\n\n  const [DocumentDrawer, DocumentDrawerToggler] = useDocumentDrawer({\n    collectionSlug: importCollectionSlug,\n  })\n  const { setCollection } = useImportExport()\n\n  // Set collection and selected items on mount or when selection changes\n  useEffect(() => {\n    setCollection(currentCollectionConfig.slug ?? '')\n  }, [currentCollectionConfig, setCollection])\n\n  return (\n    <PopupList.Button className={baseClass}>\n      <DocumentDrawerToggler>\n        <Translation\n          // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n          // @ts-expect-error\n          i18nKey=\"plugin-import-export:importDocumentLabel\"\n          t={t}\n          variables={{\n            label: getTranslation(currentCollectionConfig.labels.plural, i18n),\n          }}\n        />\n      </DocumentDrawerToggler>\n      <DocumentDrawer initialData={{ collectionSlug }} />\n    </PopupList.Button>\n  )\n}\n"],"names":["getTranslation","PopupList","Translation","useConfig","useDocumentDrawer","useTranslation","React","useEffect","useImportExport","baseClass","ImportListMenuItem","collectionSlug","importCollectionSlug","getEntityConfig","i18n","t","currentCollectionConfig","DocumentDrawer","DocumentDrawerToggler","setCollection","slug","Button","className","i18nKey","variables","label","labels","plural","initialData"],"mappings":"AAAA;;AAEA,SAASA,cAAc,QAAQ,2BAA0B;AACzD,SACEC,SAAS,EACTC,WAAW,EACXC,SAAS,EACTC,iBAAiB,EACjBC,cAAc,QACT,iBAAgB;AACvB,OAAOC,SAASC,SAAS,QAAQ,QAAO;AAOxC,SAASC,eAAe,QAAQ,mCAAkC;AAElE,MAAMC,YAAY;AAElB,OAAO,MAAMC,qBAGR,CAAC,EAAEC,cAAc,EAAEC,oBAAoB,EAAE;IAC5C,MAAM,EAAEC,eAAe,EAAE,GAAGV;IAE5B,MAAM,EAAEW,IAAI,EAAEC,CAAC,EAAE,GAAGV;IAKpB,MAAMW,0BAA0BH,gBAAgB;QAAEF;IAAe;IAEjE,MAAM,CAACM,gBAAgBC,sBAAsB,GAAGd,kBAAkB;QAChEO,gBAAgBC;IAClB;IACA,MAAM,EAAEO,aAAa,EAAE,GAAGX;IAE1B,uEAAuE;IACvED,UAAU;QACRY,cAAcH,wBAAwBI,IAAI,IAAI;IAChD,GAAG;QAACJ;QAAyBG;KAAc;IAE3C,qBACE,MAAClB,UAAUoB,MAAM;QAACC,WAAWb;;0BAC3B,KAACS;0BACC,cAAA,KAAChB;oBACC,6DAA6D;oBAC7D,mBAAmB;oBACnBqB,SAAQ;oBACRR,GAAGA;oBACHS,WAAW;wBACTC,OAAOzB,eAAegB,wBAAwBU,MAAM,CAACC,MAAM,EAAEb;oBAC/D;;;0BAGJ,KAACG;gBAAeW,aAAa;oBAAEjB;gBAAe;;;;AAGpD,EAAC"}