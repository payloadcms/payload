{"version":3,"sources":["../../../../src/Search/ui/ReindexButton/index.tsx"],"sourcesContent":["import type { ResolvedCollectionLabels } from '../../../types.js'\nimport type { SearchReindexButtonServerComponent } from './types.js'\n\nimport { ReindexButtonClient } from './index.client.js'\n\nexport const ReindexButton: SearchReindexButtonServerComponent = (props) => {\n  const { collectionLabels, i18n, searchCollections, searchSlug } = props\n\n  const resolvedCollectionLabels: ResolvedCollectionLabels = Object.fromEntries(\n    searchCollections.map((collection) => {\n      const labels = collectionLabels[collection]\n      const pluralLabel = labels?.plural\n\n      if (typeof pluralLabel === 'function') {\n        // @ts-expect-error - I don't know why it gives an error. pluralLabel and i18n.t should both resolve to TFunction<DefaultTranslationKeys>\n        return [collection, pluralLabel({ t: i18n.t })]\n      }\n\n      if (pluralLabel) {\n        return [collection, pluralLabel]\n      }\n\n      return [collection, collection]\n    }),\n  )\n\n  return (\n    <ReindexButtonClient\n      collectionLabels={resolvedCollectionLabels}\n      searchCollections={searchCollections}\n      searchSlug={searchSlug}\n    />\n  )\n}\n"],"names":["ReindexButtonClient","ReindexButton","props","collectionLabels","i18n","searchCollections","searchSlug","resolvedCollectionLabels","Object","fromEntries","map","collection","labels","pluralLabel","plural","t"],"mappings":";AAGA,SAASA,mBAAmB,QAAQ,oBAAmB;AAEvD,OAAO,MAAMC,gBAAoD,CAACC;IAChE,MAAM,EAAEC,gBAAgB,EAAEC,IAAI,EAAEC,iBAAiB,EAAEC,UAAU,EAAE,GAAGJ;IAElE,MAAMK,2BAAqDC,OAAOC,WAAW,CAC3EJ,kBAAkBK,GAAG,CAAC,CAACC;QACrB,MAAMC,SAAST,gBAAgB,CAACQ,WAAW;QAC3C,MAAME,cAAcD,QAAQE;QAE5B,IAAI,OAAOD,gBAAgB,YAAY;YACrC,yIAAyI;YACzI,OAAO;gBAACF;gBAAYE,YAAY;oBAAEE,GAAGX,KAAKW,CAAC;gBAAC;aAAG;QACjD;QAEA,IAAIF,aAAa;YACf,OAAO;gBAACF;gBAAYE;aAAY;QAClC;QAEA,OAAO;YAACF;YAAYA;SAAW;IACjC;IAGF,qBACE,KAACX;QACCG,kBAAkBI;QAClBF,mBAAmBA;QACnBC,YAAYA;;AAGlB,EAAC"}