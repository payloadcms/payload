{"version":3,"sources":["../src/generateURL.ts"],"sourcesContent":["import type * as AWS from '@aws-sdk/client-s3'\nimport type { GenerateURL } from '@payloadcms/plugin-cloud-storage/types'\n\nimport path from 'path'\n\ninterface Args {\n  bucket: string\n  config: AWS.S3ClientConfig\n}\n\nexport const getGenerateURL =\n  ({ bucket, config: { endpoint } }: Args): GenerateURL =>\n  ({ filename, prefix = '' }) => {\n    const stringifiedEndpoint = typeof endpoint === 'string' ? endpoint : endpoint?.toString()\n    return `${stringifiedEndpoint}/${bucket}/${path.posix.join(prefix, encodeURIComponent(filename))}`\n  }\n"],"names":["path","getGenerateURL","bucket","config","endpoint","filename","prefix","stringifiedEndpoint","toString","posix","join","encodeURIComponent"],"mappings":"AAGA,OAAOA,UAAU,OAAM;AAOvB,OAAO,MAAMC,iBACX,CAAC,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,QAAQ,EAAE,EAAQ,GACvC,CAAC,EAAEC,QAAQ,EAAEC,SAAS,EAAE,EAAE;QACxB,MAAMC,sBAAsB,OAAOH,aAAa,WAAWA,WAAWA,UAAUI;QAChF,OAAO,GAAGD,oBAAoB,CAAC,EAAEL,OAAO,CAAC,EAAEF,KAAKS,KAAK,CAACC,IAAI,CAACJ,QAAQK,mBAAmBN,YAAY;IACpG,EAAC"}