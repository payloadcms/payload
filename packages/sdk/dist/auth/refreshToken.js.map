{"version":3,"sources":["../../src/auth/refreshToken.ts"],"sourcesContent":["import type { AuthCollectionSlug, PayloadTypesShape } from 'payload'\n\nimport type { PayloadSDK } from '../index.js'\nimport type { DataFromAuthSlug } from '../types.js'\n\nexport type RefreshOptions<T extends PayloadTypesShape, TSlug extends AuthCollectionSlug<T>> = {\n  collection: TSlug\n}\n\nexport type RefreshResult<T extends PayloadTypesShape, TSlug extends AuthCollectionSlug<T>> = {\n  exp: number\n  refreshedToken: string\n  setCookie?: boolean\n  strategy?: string\n  user: DataFromAuthSlug<T, TSlug>\n}\n\nexport async function refreshToken<\n  T extends PayloadTypesShape,\n  TSlug extends AuthCollectionSlug<T>,\n>(\n  sdk: PayloadSDK<T>,\n  options: RefreshOptions<T, TSlug>,\n  init?: RequestInit,\n): Promise<RefreshResult<T, TSlug>> {\n  const response = await sdk.request({\n    init,\n    method: 'POST',\n    path: `/${options.collection}/refresh-token`,\n  })\n\n  return response.json()\n}\n"],"names":["refreshToken","sdk","options","init","response","request","method","path","collection","json"],"mappings":"AAiBA,OAAO,eAAeA,aAIpBC,GAAkB,EAClBC,OAAiC,EACjCC,IAAkB;IAElB,MAAMC,WAAW,MAAMH,IAAII,OAAO,CAAC;QACjCF;QACAG,QAAQ;QACRC,MAAM,CAAC,CAAC,EAAEL,QAAQM,UAAU,CAAC,cAAc,CAAC;IAC9C;IAEA,OAAOJ,SAASK,IAAI;AACtB"}