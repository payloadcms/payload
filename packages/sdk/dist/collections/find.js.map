{"version":3,"sources":["../../src/collections/find.ts"],"sourcesContent":["import type {\n  CollectionSlug,\n  PaginatedDocs,\n  PayloadTypesShape,\n  SelectType,\n  Sort,\n  TypedLocale,\n  Where,\n} from 'payload'\n\nimport type { PayloadSDK } from '../index.js'\nimport type { JoinQuery, PopulateType, TransformCollectionWithSelect } from '../types.js'\n\nexport type FindOptions<\n  T extends PayloadTypesShape,\n  TSlug extends CollectionSlug<T>,\n  TSelect extends SelectType,\n> = {\n  /**\n   * the Collection slug to operate against.\n   */\n  collection: TSlug\n  /**\n   * [Control auto-population](https://payloadcms.com/docs/queries/depth) of nested relationship and upload fields.\n   */\n  depth?: number\n  /**\n   * Whether the documents should be queried from the versions table/collection or not. [More](https://payloadcms.com/docs/versions/drafts#draft-api)\n   */\n  draft?: boolean\n  /**\n   * Specify a [fallback locale](https://payloadcms.com/docs/configuration/localization) to use for any returned documents.\n   */\n  fallbackLocale?: false | TypedLocale<T>\n  /**\n   * The [Join Field Query](https://payloadcms.com/docs/fields/join#query-options).\n   * Pass `false` to disable all join fields from the result.\n   */\n  joins?: JoinQuery<T, TSlug>\n  /**\n   * The maximum related documents to be returned.\n   * Defaults unless `defaultLimit` is specified for the collection config\n   * @default 10\n   */\n  limit?: number\n  /**\n   * Specify [locale](https://payloadcms.com/docs/configuration/localization) for any returned documents.\n   */\n  locale?: 'all' | TypedLocale<T>\n  /**\n   * Get a specific page number\n   * @default 1\n   */\n  page?: number\n  /**\n   * Set to `false` to return all documents and avoid querying for document counts which introduces some overhead.\n   * You can also combine that property with a specified `limit` to limit documents but avoid the count query.\n   */\n  pagination?: boolean\n  /**\n   * Specify [populate](https://payloadcms.com/docs/queries/select#populate) to control which fields to include to the result from populated documents.\n   */\n  populate?: PopulateType<T>\n  /**\n   * Specify [select](https://payloadcms.com/docs/queries/select) to control which fields to include to the result.\n   */\n  select?: TSelect\n  /**\n   * Sort the documents, can be a string or an array of strings\n   * @example '-createdAt' // Sort DESC by createdAt\n   * @example ['group', '-createdAt'] // sort by 2 fields, ASC group and DESC createdAt\n   */\n  sort?: Sort\n  /**\n   * When set to `true`, the query will include both normal and trashed documents.\n   * To query only trashed documents, pass `trash: true` and combine with a `where` clause filtering by `deletedAt`.\n   * By default (`false`), the query will only include normal documents and exclude those with a `deletedAt` field.\n   *\n   * This argument has no effect unless `trash` is enabled on the collection.\n   * @default false\n   */\n  trash?: boolean\n  /**\n   * A filter [query](https://payloadcms.com/docs/queries/overview)\n   */\n  where?: Where\n}\n\nexport async function find<\n  T extends PayloadTypesShape,\n  TSlug extends CollectionSlug<T>,\n  TSelect extends SelectType,\n>(\n  sdk: PayloadSDK<T>,\n  options: FindOptions<T, TSlug, TSelect>,\n  init?: RequestInit,\n): Promise<PaginatedDocs<TransformCollectionWithSelect<T, TSlug, TSelect>>> {\n  const response = await sdk.request({\n    args: options,\n    init,\n    method: 'GET',\n    path: `/${options.collection}`,\n  })\n\n  return response.json()\n}\n"],"names":["find","sdk","options","init","response","request","args","method","path","collection","json"],"mappings":"AAwFA,OAAO,eAAeA,KAKpBC,GAAkB,EAClBC,OAAuC,EACvCC,IAAkB;IAElB,MAAMC,WAAW,MAAMH,IAAII,OAAO,CAAC;QACjCC,MAAMJ;QACNC;QACAI,QAAQ;QACRC,MAAM,CAAC,CAAC,EAAEN,QAAQO,UAAU,EAAE;IAChC;IAEA,OAAOL,SAASM,IAAI;AACtB"}