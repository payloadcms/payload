{"version":3,"sources":["../src/types.ts"],"sourcesContent":["import type {\n  AuthCollectionSlug,\n  CollectionSlug,\n  GlobalSlug,\n  JsonObject,\n  PayloadTypesShape,\n  SelectType,\n  Sort,\n  TransformDataWithSelect,\n  TypeWithID,\n  Where,\n} from 'payload'\n\n// Simple property access - PayloadTypesShape guarantees these properties exist\nexport type DataFromCollectionSlug<\n  T extends PayloadTypesShape,\n  TSlug extends CollectionSlug<T>,\n> = T['collections'][TSlug]\n\n// Helper for auth endpoints where TSlug is AuthCollectionSlug but we need collection data\nexport type DataFromAuthSlug<\n  T extends PayloadTypesShape,\n  TSlug extends AuthCollectionSlug<T>,\n> = T['collections'][CollectionSlug<T> & TSlug]\n\nexport type DataFromGlobalSlug<\n  T extends PayloadTypesShape,\n  TSlug extends GlobalSlug<T>,\n> = T['globals'][TSlug]\n\n// Intersection with SelectType ensures TypeScript knows the result satisfies SelectType\n// while preserving the specific collection select type for inference\nexport type SelectFromCollectionSlug<\n  T extends PayloadTypesShape,\n  TSlug extends CollectionSlug<T>,\n> = SelectType & T['collectionsSelect'][TSlug]\n\nexport type SelectFromGlobalSlug<\n  T extends PayloadTypesShape,\n  TSlug extends GlobalSlug<T>,\n> = SelectType & T['globalsSelect'][TSlug]\n\nexport type TransformCollectionWithSelect<\n  T extends PayloadTypesShape,\n  TSlug extends CollectionSlug<T>,\n  TSelect,\n> = TSelect extends SelectType\n  ? TransformDataWithSelect<(JsonObject & TypeWithID) & T['collections'][TSlug], TSelect>\n  : T['collections'][TSlug]\n\nexport type TransformGlobalWithSelect<\n  T extends PayloadTypesShape,\n  TSlug extends GlobalSlug<T>,\n  TSelect,\n> = TSelect extends SelectType\n  ? TransformDataWithSelect<JsonObject & T['globals'][TSlug], TSelect>\n  : T['globals'][TSlug]\n\ntype SystemFields = 'createdAt' | 'id' | 'sizes' | 'updatedAt'\n\nexport type RequiredDataFromCollection<TData> = Omit<TData, SystemFields> &\n  Partial<Pick<Record<SystemFields, unknown> & TData, SystemFields>>\n\nexport type RequiredDataFromCollectionSlug<\n  T extends PayloadTypesShape,\n  TSlug extends CollectionSlug<T>,\n> = RequiredDataFromCollection<T['collections'][TSlug]>\n\nexport type JoinQuery<T extends PayloadTypesShape, TSlug extends CollectionSlug<T>> =\n  T['collectionsJoins'][TSlug] extends Record<string, string>\n    ?\n        | false\n        | Partial<{\n            [K in keyof T['collectionsJoins'][TSlug]]:\n              | { count?: boolean; limit?: number; page?: number; sort?: Sort; where?: Where }\n              | false\n          }>\n    : never\n\nexport type PopulateType<T extends PayloadTypesShape> = Partial<T['collectionsSelect']>\n\nexport type IDType<\n  T extends PayloadTypesShape,\n  TSlug extends CollectionSlug<T>,\n> = (T['collections'][TSlug] & TypeWithID)['id']\n\nexport type BulkOperationResult<\n  T extends PayloadTypesShape,\n  TSlug extends CollectionSlug<T>,\n  TSelect,\n> = {\n  docs: TransformCollectionWithSelect<T, TSlug, TSelect>[]\n  errors: { id: IDType<T, TSlug>; message: string }[]\n}\n"],"names":[],"mappings":"AAsFA,WAOC"}