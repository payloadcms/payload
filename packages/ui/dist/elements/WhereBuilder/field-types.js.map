{"version":3,"file":"field-types.js","names":["equalsOperators","label","value","arrayOperators","exists","base","numeric","geo","within","intersects","like","notLike","contains","fieldTypeConditions","checkbox","component","operators","code","date","email","json","number","point","radio","relationship","richText","select","text","textarea","upload","getValidFieldOperators","field","operator","validOperators","type","Array","isArray","relationTo","hasMany","validOperator","find"],"sources":["../../../src/elements/WhereBuilder/field-types.tsx"],"sourcesContent":["'use client'\n\nimport type { ClientField } from 'payload'\n\nconst equalsOperators = [\n  {\n    label: 'equals',\n    value: 'equals',\n  },\n  {\n    label: 'isNotEqualTo',\n    value: 'not_equals',\n  },\n]\n\nexport const arrayOperators = [\n  {\n    label: 'isIn',\n    value: 'in',\n  },\n  {\n    label: 'isNotIn',\n    value: 'not_in',\n  },\n]\n\nconst exists = {\n  label: 'exists',\n  value: 'exists',\n}\n\nconst base = [...equalsOperators, ...arrayOperators, exists]\n\nconst numeric = [\n  ...base,\n  {\n    label: 'isGreaterThan',\n    value: 'greater_than',\n  },\n  {\n    label: 'isLessThan',\n    value: 'less_than',\n  },\n  {\n    label: 'isLessThanOrEqualTo',\n    value: 'less_than_equal',\n  },\n  {\n    label: 'isGreaterThanOrEqualTo',\n    value: 'greater_than_equal',\n  },\n]\n\nconst geo = [\n  ...equalsOperators,\n  {\n    label: 'near',\n    value: 'near',\n  },\n]\n\nconst within = {\n  label: 'within',\n  value: 'within',\n}\n\nconst intersects = {\n  label: 'intersects',\n  value: 'intersects',\n}\n\nconst like = {\n  label: 'isLike',\n  value: 'like',\n}\n\nconst notLike = {\n  label: 'isNotLike',\n  value: 'not_like',\n}\n\nconst contains = {\n  label: 'contains',\n  value: 'contains',\n}\n\nexport const fieldTypeConditions: {\n  [key: string]: {\n    component: string\n    operators: { label: string; value: string }[]\n  }\n} = {\n  checkbox: {\n    component: 'Text',\n    operators: [...equalsOperators, exists],\n  },\n  code: {\n    component: 'Text',\n    operators: [...base, like, notLike, contains],\n  },\n  date: {\n    component: 'Date',\n    operators: [...numeric, exists],\n  },\n  email: {\n    component: 'Text',\n    operators: [...base, contains],\n  },\n  json: {\n    component: 'Text',\n    operators: [...base, like, contains, notLike, within, intersects],\n  },\n  number: {\n    component: 'Number',\n    operators: [...numeric, exists],\n  },\n  point: {\n    component: 'Point',\n    operators: [...geo, exists, within, intersects],\n  },\n  radio: {\n    component: 'Select',\n    operators: [...base],\n  },\n  relationship: {\n    component: 'Relationship',\n    operators: [...base],\n  },\n  richText: {\n    component: 'Text',\n    operators: [...base, like, notLike, contains],\n  },\n  select: {\n    component: 'Select',\n    operators: [...base],\n  },\n  text: {\n    component: 'Text',\n    operators: [...base, like, notLike, contains],\n  },\n  textarea: {\n    component: 'Text',\n    operators: [...base, like, notLike, contains],\n  },\n  upload: {\n    component: 'Relationship',\n    operators: [...base],\n  },\n}\n\nexport const getValidFieldOperators = ({\n  field,\n  operator,\n}: {\n  field: ClientField\n  operator?: string\n}): {\n  validOperator: string\n  validOperators: {\n    label: string\n    value: string\n  }[]\n} => {\n  let validOperators: {\n    label: string\n    value: string\n  }[] = []\n\n  if (field.type === 'relationship' && Array.isArray(field.relationTo)) {\n    if ('hasMany' in field && field.hasMany) {\n      validOperators = [...equalsOperators, exists]\n    } else {\n      validOperators = [...base]\n    }\n  } else {\n    validOperators = [...fieldTypeConditions[field.type].operators]\n  }\n\n  return {\n    validOperator:\n      operator && validOperators.find(({ value }) => value === operator)\n        ? operator\n        : validOperators[0].value,\n    validOperators,\n  }\n}\n"],"mappings":"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","ignoreList":[]}