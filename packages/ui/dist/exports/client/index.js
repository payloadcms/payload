"use client";
// Workaround for react-datepicker and other cjs dependencies potentially inserting require("react") statements
import * as requireReact from 'react';
import * as requireReactDom from 'react-dom';

function require(m) {
 if (m === 'react') return requireReact;
 if (m === 'react-dom') return requireReactDom;
 throw new Error(`Unknown module ${m}`);
}
// Workaround end

import{a as nr,b as qg,c as H,d as R5,e as Qg,f as Dt,g as D5,h as A5,i as Kg,j as P5,k as eb,l as E5}from"./chunk-NVRWEOPF.js";import{a as yt,b as Nc,c as Jg,d as P,e as Za,f as Bx,g as Mx,h as Ei,i as Am,j as F5,k as Ox,l as N5,m as L5,n as k5}from"./chunk-DSPGX6EY.js";import{c as an,d as $x,e as Pi}from"./chunk-5LKBKI4T.js";var Jx=an(At=>{"use strict";function nb(t,e){var o=t.length;t.push(e);e:for(;0<o;){var n=o-1>>>1,r=t[n];if(0<Pm(r,e))t[n]=e,t[o]=r,o=n;else break e}}function ln(t){return t.length===0?null:t[0]}function Nm(t){if(t.length===0)return null;var e=t[0],o=t.pop();if(o!==e){t[0]=o;e:for(var n=0,r=t.length,s=r>>>1;n<s;){var i=2*(n+1)-1,a=t[i],l=i+1,c=t[l];if(0>Pm(a,o))l<r&&0>Pm(c,a)?(t[n]=c,t[l]=o,n=l):(t[n]=a,t[i]=o,n=i);else if(l<r&&0>Pm(c,o))t[n]=c,t[l]=o,n=l;else break e}}return e}function Pm(t,e){var o=t.sortIndex-e.sortIndex;return o!==0?o:t.id-e.id}At.unstable_now=void 0;typeof performance=="object"&&typeof performance.now=="function"?(Vx=performance,At.unstable_now=function(){return Vx.now()}):(tb=Date,Gx=tb.now(),At.unstable_now=function(){return tb.now()-Gx});var Vx,tb,Gx,En=[],Ws=[],j5=1,Vr=null,$o=3,Lm=!1,Ni=!1,kc=!1,Hx=typeof setTimeout=="function"?setTimeout:null,Ux=typeof clearTimeout=="function"?clearTimeout:null,zx=typeof setImmediate<"u"?setImmediate:null;function Em(t){for(var e=ln(Ws);e!==null;){if(e.callback===null)Nm(Ws);else if(e.startTime<=t)Nm(Ws),e.sortIndex=e.expirationTime,nb(En,e);else break;e=ln(Ws)}}function sb(t){if(kc=!1,Em(t),!Ni)if(ln(En)!==null)Ni=!0,ib();else{var e=ln(Ws);e!==null&&ab(sb,e.startTime-t)}}var km=!1,jc=-1,Xx=5,Zx=-1;function Yx(){return!(At.unstable_now()-Zx<Xx)}function ob(){if(km){var t=At.unstable_now();Zx=t;var e=!0;try{e:{Ni=!1,kc&&(kc=!1,Ux(jc),jc=-1),Lm=!0;var o=$o;try{t:{for(Em(t),Vr=ln(En);Vr!==null&&!(Vr.expirationTime>t&&Yx());){var n=Vr.callback;if(typeof n=="function"){Vr.callback=null,$o=Vr.priorityLevel;var r=n(Vr.expirationTime<=t);if(t=At.unstable_now(),typeof r=="function"){Vr.callback=r,Em(t),e=!0;break t}Vr===ln(En)&&Nm(En),Em(t)}else Nm(En);Vr=ln(En)}if(Vr!==null)e=!0;else{var s=ln(Ws);s!==null&&ab(sb,s.startTime-t),e=!1}}break e}finally{Vr=null,$o=o,Lm=!1}e=void 0}}finally{e?Lc():km=!1}}}var Lc;typeof zx=="function"?Lc=function(){zx(ob)}:typeof MessageChannel<"u"?(rb=new MessageChannel,Wx=rb.port2,rb.port1.onmessage=ob,Lc=function(){Wx.postMessage(null)}):Lc=function(){Hx(ob,0)};var rb,Wx;function ib(){km||(km=!0,Lc())}function ab(t,e){jc=Hx(function(){t(At.unstable_now())},e)}At.unstable_IdlePriority=5;At.unstable_ImmediatePriority=1;At.unstable_LowPriority=4;At.unstable_NormalPriority=3;At.unstable_Profiling=null;At.unstable_UserBlockingPriority=2;At.unstable_cancelCallback=function(t){t.callback=null};At.unstable_continueExecution=function(){Ni||Lm||(Ni=!0,ib())};At.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Xx=0<t?Math.floor(1e3/t):5};At.unstable_getCurrentPriorityLevel=function(){return $o};At.unstable_getFirstCallbackNode=function(){return ln(En)};At.unstable_next=function(t){switch($o){case 1:case 2:case 3:var e=3;break;default:e=$o}var o=$o;$o=e;try{return t()}finally{$o=o}};At.unstable_pauseExecution=function(){};At.unstable_requestPaint=function(){};At.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var o=$o;$o=t;try{return e()}finally{$o=o}};At.unstable_scheduleCallback=function(t,e,o){var n=At.unstable_now();switch(typeof o=="object"&&o!==null?(o=o.delay,o=typeof o=="number"&&0<o?n+o:n):o=n,t){case 1:var r=-1;break;case 2:r=250;break;case 5:r=1073741823;break;case 4:r=1e4;break;default:r=5e3}return r=o+r,t={id:j5++,callback:e,priorityLevel:t,startTime:o,expirationTime:r,sortIndex:-1},o>n?(t.sortIndex=o,nb(Ws,t),ln(En)===null&&t===ln(Ws)&&(kc?(Ux(jc),jc=-1):kc=!0,ab(sb,o-n))):(t.sortIndex=r,nb(En,t),Ni||Lm||(Ni=!0,ib())),t};At.unstable_shouldYield=Yx;At.unstable_wrapCallback=function(t){var e=$o;return function(){var o=$o;$o=e;try{return t.apply(this,arguments)}finally{$o=o}}}});var Qx=an((coe,qx)=>{"use strict";qx.exports=Jx()});var JS=an(xt=>{"use strict";var Fo=typeof Symbol=="function"&&Symbol.for,V1=Fo?Symbol.for("react.element"):60103,G1=Fo?Symbol.for("react.portal"):60106,qf=Fo?Symbol.for("react.fragment"):60107,Qf=Fo?Symbol.for("react.strict_mode"):60108,Kf=Fo?Symbol.for("react.profiler"):60114,ep=Fo?Symbol.for("react.provider"):60109,tp=Fo?Symbol.for("react.context"):60110,z1=Fo?Symbol.for("react.async_mode"):60111,op=Fo?Symbol.for("react.concurrent_mode"):60111,rp=Fo?Symbol.for("react.forward_ref"):60112,np=Fo?Symbol.for("react.suspense"):60113,k$=Fo?Symbol.for("react.suspense_list"):60120,sp=Fo?Symbol.for("react.memo"):60115,ip=Fo?Symbol.for("react.lazy"):60116,j$=Fo?Symbol.for("react.block"):60121,$$=Fo?Symbol.for("react.fundamental"):60117,B$=Fo?Symbol.for("react.responder"):60118,M$=Fo?Symbol.for("react.scope"):60119;function Tr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case V1:switch(t=t.type,t){case z1:case op:case qf:case Kf:case Qf:case np:return t;default:switch(t=t&&t.$$typeof,t){case tp:case rp:case ip:case sp:case ep:return t;default:return e}}case G1:return e}}}function YS(t){return Tr(t)===op}xt.AsyncMode=z1;xt.ConcurrentMode=op;xt.ContextConsumer=tp;xt.ContextProvider=ep;xt.Element=V1;xt.ForwardRef=rp;xt.Fragment=qf;xt.Lazy=ip;xt.Memo=sp;xt.Portal=G1;xt.Profiler=Kf;xt.StrictMode=Qf;xt.Suspense=np;xt.isAsyncMode=function(t){return YS(t)||Tr(t)===z1};xt.isConcurrentMode=YS;xt.isContextConsumer=function(t){return Tr(t)===tp};xt.isContextProvider=function(t){return Tr(t)===ep};xt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===V1};xt.isForwardRef=function(t){return Tr(t)===rp};xt.isFragment=function(t){return Tr(t)===qf};xt.isLazy=function(t){return Tr(t)===ip};xt.isMemo=function(t){return Tr(t)===sp};xt.isPortal=function(t){return Tr(t)===G1};xt.isProfiler=function(t){return Tr(t)===Kf};xt.isStrictMode=function(t){return Tr(t)===Qf};xt.isSuspense=function(t){return Tr(t)===np};xt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===qf||t===op||t===Kf||t===Qf||t===np||t===k$||typeof t=="object"&&t!==null&&(t.$$typeof===ip||t.$$typeof===sp||t.$$typeof===ep||t.$$typeof===tp||t.$$typeof===rp||t.$$typeof===$$||t.$$typeof===B$||t.$$typeof===M$||t.$$typeof===j$)};xt.typeOf=Tr});var QS=an((B1e,qS)=>{"use strict";qS.exports=JS()});var sI=an((M1e,nI)=>{"use strict";var W1=QS(),O$={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},V$={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},G$={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},oI={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},H1={};H1[W1.ForwardRef]=G$;H1[W1.Memo]=oI;function KS(t){return W1.isMemo(t)?oI:H1[t.$$typeof]||O$}var z$=Object.defineProperty,W$=Object.getOwnPropertyNames,eI=Object.getOwnPropertySymbols,H$=Object.getOwnPropertyDescriptor,U$=Object.getPrototypeOf,tI=Object.prototype;function rI(t,e,o){if(typeof e!="string"){if(tI){var n=U$(e);n&&n!==tI&&rI(t,n,o)}var r=W$(e);eI&&(r=r.concat(eI(e)));for(var s=KS(t),i=KS(e),a=0;a<r.length;++a){var l=r[a];if(!V$[l]&&!(o&&o[l])&&!(i&&i[l])&&!(s&&s[l])){var c=H$(e,l);try{z$(t,l,c)}catch{}}}}return t}nI.exports=rI});var Tv=an((Txe,CT)=>{var _v=Math.floor(Math.random()*16777215),hT=It.index=parseInt(Math.random()*16777215,10),gT=(typeof process>"u"||typeof process.pid!="number"?Math.floor(Math.random()*1e5):process.pid)%65535,bT=(()=>{try{return _Buffer}catch{try{return Buffer}catch{return null}}})(),wp=function(t){return!!(t!=null&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t))},yT=[];for(cr=0;cr<256;cr++)yT[cr]=(cr<=15?"0":"")+cr.toString(16);var cr,vT=new RegExp("^[0-9a-fA-F]{24}$"),ku=[];cr=0;for(;cr<10;)ku[48+cr]=cr++;for(;cr<16;)ku[55+cr]=ku[87+cr]=cr++;function It(t){if(!(this instanceof It))return new It(t);if(t&&(t instanceof It||t._bsontype==="ObjectID"))return t;if(this._bsontype="ObjectID",t==null||typeof t=="number"){this.id=this.generate(t);return}var e=It.isValid(t);if(!e&&t!=null)throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(e&&typeof t=="string"&&t.length===24)return It.createFromHexString(t);if(t!=null&&t.length===12)this.id=t;else{if(t!=null&&typeof t.toHexString=="function")return t;throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}}CT.exports=It;It.default=It;It.createFromTime=function(t){return t=parseInt(t,10)%4294967295,new It(GO(8,t)+"0000000000000000")};It.createFromHexString=function(t){if(typeof t>"u"||t!=null&&t.length!==24)throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");for(var e="",o=0;o<24;)e+=String.fromCharCode(ku[t.charCodeAt(o++)]<<4|ku[t.charCodeAt(o++)]);return new It(e)};It.isValid=function(t){return t==null?!1:typeof t=="number"?!0:typeof t=="string"?t.length===12||t.length===24&&vT.test(t):t instanceof It?!0:wp(t)?It.isValid(t.toString("hex")):typeof t.toHexString=="function"&&bT&&(t.id instanceof bT||typeof t.id=="string")?t.id.length===12||t.id.length===24&&vT.test(t.id):!1};It.prototype={constructor:It,toHexString:function(){if(!this.id||!this.id.length)throw new Error("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(this.id.length===24)return this.id;if(wp(this.id))return this.id.toString("hex");for(var t="",e=0;e<this.id.length;e++)t+=yT[this.id.charCodeAt(e)];return t},equals:function(t){return t instanceof It?this.toString()===t.toString():typeof t=="string"&&It.isValid(t)&&t.length===12&&wp(this.id)?t===this.id.toString("binary"):typeof t=="string"&&It.isValid(t)&&t.length===24?t.toLowerCase()===this.toHexString():typeof t=="string"&&It.isValid(t)&&t.length===12?t===this.id:t!=null&&(t instanceof It||t.toHexString)?t.toHexString()===this.toHexString():!1},getTimestamp:function(){var t=new Date,e;return wp(this.id)?e=this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24:e=this.id.charCodeAt(3)|this.id.charCodeAt(2)<<8|this.id.charCodeAt(1)<<16|this.id.charCodeAt(0)<<24,t.setTime(Math.floor(e)*1e3),t},generate:function(t){typeof t!="number"&&(t=~~(Date.now()/1e3)),t=parseInt(t,10)%4294967295;var e=VO();return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255,_v>>16&255,_v>>8&255,_v&255,gT>>8&255,gT&255,e>>16&255,e>>8&255,e&255)}};function VO(){return hT=(hT+1)%16777215}function GO(t,e){return e=e.toString(16),e.length===t?e:"00000000".substring(e.length,t)+e}var zO=Symbol&&Symbol.for&&Symbol.for("nodejs.util.inspect.custom")||"inspect";It.prototype[zO]=function(){return"ObjectID("+this+")"};It.prototype.toJSON=It.prototype.toHexString;It.prototype.toString=It.prototype.toHexString});var C0=an((hDe,tR)=>{function y0(t){return t===void 0}function qV(t){return t===null}function QV(t){return typeof t=="boolean"}function Yp(t){return t===Object(t)}function KF(t){return Array.isArray(t)}function KV(t){return t instanceof Date}function eR(t,e){return e?Yp(t)&&!y0(t.uri):Yp(t)&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.slice=="function"}function eG(t,e){return eR(t,e)&&typeof t.name=="string"&&(Yp(t.lastModifiedDate)||typeof t.lastModified=="number")}function ha(t){return y0(t)?!1:t}function v0(t,e,o,n){e=e||{},o=o||new FormData,e.indices=ha(e.indices),e.nullsAsUndefineds=ha(e.nullsAsUndefineds),e.booleansAsIntegers=ha(e.booleansAsIntegers),e.allowEmptyArrays=ha(e.allowEmptyArrays),e.noAttributesWithArrayNotation=ha(e.noAttributesWithArrayNotation),e.noFilesWithArrayNotation=ha(e.noFilesWithArrayNotation),e.dotsForObjectNotation=ha(e.dotsForObjectNotation);let r=typeof o.getParts=="function";return y0(t)||(qV(t)?e.nullsAsUndefineds||o.append(n,""):QV(t)?e.booleansAsIntegers?o.append(n,t?1:0):o.append(n,t):KF(t)?t.length?t.forEach((s,i)=>{let a=n+"["+(e.indices?i:"")+"]";(e.noAttributesWithArrayNotation||e.noFilesWithArrayNotation&&eG(s,r))&&(a=n),v0(s,e,o,a)}):e.allowEmptyArrays&&o.append(e.noAttributesWithArrayNotation?n:n+"[]",""):KV(t)?o.append(n,t.toISOString()):Yp(t)&&!eR(t,r)?Object.keys(t).forEach(s=>{let i=t[s];if(KF(i))for(;s.length>2&&s.lastIndexOf("[]")===s.length-2;)s=s.substring(0,s.length-2);let a=n?e.dotsForObjectNotation?n+"."+s:n+"["+s+"]":s;v0(i,e,o,a)}):o.append(n,t)),o}tR.exports={serialize:v0}});var kA=an((U8e,LA)=>{(function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(o,n){return o<<n|o>>>32-n},rotr:function(o,n){return o<<32-n|o>>>n},endian:function(o){if(o.constructor==Number)return e.rotl(o,8)&16711935|e.rotl(o,24)&4278255360;for(var n=0;n<o.length;n++)o[n]=e.endian(o[n]);return o},randomBytes:function(o){for(var n=[];o>0;o--)n.push(Math.floor(Math.random()*256));return n},bytesToWords:function(o){for(var n=[],r=0,s=0;r<o.length;r++,s+=8)n[s>>>5]|=o[r]<<24-s%32;return n},wordsToBytes:function(o){for(var n=[],r=0;r<o.length*32;r+=8)n.push(o[r>>>5]>>>24-r%32&255);return n},bytesToHex:function(o){for(var n=[],r=0;r<o.length;r++)n.push((o[r]>>>4).toString(16)),n.push((o[r]&15).toString(16));return n.join("")},hexToBytes:function(o){for(var n=[],r=0;r<o.length;r+=2)n.push(parseInt(o.substr(r,2),16));return n},bytesToBase64:function(o){for(var n=[],r=0;r<o.length;r+=3)for(var s=o[r]<<16|o[r+1]<<8|o[r+2],i=0;i<4;i++)r*8+i*6<=o.length*8?n.push(t.charAt(s>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(o){o=o.replace(/[^A-Z0-9+\/]/ig,"");for(var n=[],r=0,s=0;r<o.length;s=++r%4)s!=0&&n.push((t.indexOf(o.charAt(r-1))&Math.pow(2,-2*s+8)-1)<<s*2|t.indexOf(o.charAt(r))>>>6-s*2);return n}};LA.exports=e})()});var vy=an((X8e,jA)=>{var by={utf8:{stringToBytes:function(t){return by.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(by.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],o=0;o<t.length;o++)e.push(t.charCodeAt(o)&255);return e},bytesToString:function(t){for(var e=[],o=0;o<t.length;o++)e.push(String.fromCharCode(t[o]));return e.join("")}}};jA.exports=by});var MA=an((Z8e,BA)=>{BA.exports=function(t){return t!=null&&($A(t)||TX(t)||!!t._isBuffer)};function $A(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function TX(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&$A(t.slice(0,0))}});var VA=an((Y8e,OA)=>{(function(){var t=kA(),e=vy().utf8,o=MA(),n=vy().bin,r=function(s,i){s.constructor==String?i&&i.encoding==="binary"?s=n.stringToBytes(s):s=e.stringToBytes(s):o(s)?s=Array.prototype.slice.call(s,0):!Array.isArray(s)&&s.constructor!==Uint8Array&&(s=s.toString());for(var a=t.bytesToWords(s),l=s.length*8,c=1732584193,u=-271733879,d=-1732584194,f=271733878,m=0;m<a.length;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360;a[l>>>5]|=128<<l%32,a[(l+64>>>9<<4)+14]=l;for(var p=r._ff,h=r._gg,g=r._hh,b=r._ii,m=0;m<a.length;m+=16){var C=c,y=u,v=d,x=f;c=p(c,u,d,f,a[m+0],7,-680876936),f=p(f,c,u,d,a[m+1],12,-389564586),d=p(d,f,c,u,a[m+2],17,606105819),u=p(u,d,f,c,a[m+3],22,-1044525330),c=p(c,u,d,f,a[m+4],7,-176418897),f=p(f,c,u,d,a[m+5],12,1200080426),d=p(d,f,c,u,a[m+6],17,-1473231341),u=p(u,d,f,c,a[m+7],22,-45705983),c=p(c,u,d,f,a[m+8],7,1770035416),f=p(f,c,u,d,a[m+9],12,-1958414417),d=p(d,f,c,u,a[m+10],17,-42063),u=p(u,d,f,c,a[m+11],22,-1990404162),c=p(c,u,d,f,a[m+12],7,1804603682),f=p(f,c,u,d,a[m+13],12,-40341101),d=p(d,f,c,u,a[m+14],17,-1502002290),u=p(u,d,f,c,a[m+15],22,1236535329),c=h(c,u,d,f,a[m+1],5,-165796510),f=h(f,c,u,d,a[m+6],9,-1069501632),d=h(d,f,c,u,a[m+11],14,643717713),u=h(u,d,f,c,a[m+0],20,-373897302),c=h(c,u,d,f,a[m+5],5,-701558691),f=h(f,c,u,d,a[m+10],9,38016083),d=h(d,f,c,u,a[m+15],14,-660478335),u=h(u,d,f,c,a[m+4],20,-405537848),c=h(c,u,d,f,a[m+9],5,568446438),f=h(f,c,u,d,a[m+14],9,-1019803690),d=h(d,f,c,u,a[m+3],14,-187363961),u=h(u,d,f,c,a[m+8],20,1163531501),c=h(c,u,d,f,a[m+13],5,-1444681467),f=h(f,c,u,d,a[m+2],9,-51403784),d=h(d,f,c,u,a[m+7],14,1735328473),u=h(u,d,f,c,a[m+12],20,-1926607734),c=g(c,u,d,f,a[m+5],4,-378558),f=g(f,c,u,d,a[m+8],11,-2022574463),d=g(d,f,c,u,a[m+11],16,1839030562),u=g(u,d,f,c,a[m+14],23,-35309556),c=g(c,u,d,f,a[m+1],4,-1530992060),f=g(f,c,u,d,a[m+4],11,1272893353),d=g(d,f,c,u,a[m+7],16,-155497632),u=g(u,d,f,c,a[m+10],23,-1094730640),c=g(c,u,d,f,a[m+13],4,681279174),f=g(f,c,u,d,a[m+0],11,-358537222),d=g(d,f,c,u,a[m+3],16,-722521979),u=g(u,d,f,c,a[m+6],23,76029189),c=g(c,u,d,f,a[m+9],4,-640364487),f=g(f,c,u,d,a[m+12],11,-421815835),d=g(d,f,c,u,a[m+15],16,530742520),u=g(u,d,f,c,a[m+2],23,-995338651),c=b(c,u,d,f,a[m+0],6,-198630844),f=b(f,c,u,d,a[m+7],10,1126891415),d=b(d,f,c,u,a[m+14],15,-1416354905),u=b(u,d,f,c,a[m+5],21,-57434055),c=b(c,u,d,f,a[m+12],6,1700485571),f=b(f,c,u,d,a[m+3],10,-1894986606),d=b(d,f,c,u,a[m+10],15,-1051523),u=b(u,d,f,c,a[m+1],21,-2054922799),c=b(c,u,d,f,a[m+8],6,1873313359),f=b(f,c,u,d,a[m+15],10,-30611744),d=b(d,f,c,u,a[m+6],15,-1560198380),u=b(u,d,f,c,a[m+13],21,1309151649),c=b(c,u,d,f,a[m+4],6,-145523070),f=b(f,c,u,d,a[m+11],10,-1120210379),d=b(d,f,c,u,a[m+2],15,718787259),u=b(u,d,f,c,a[m+9],21,-343485551),c=c+C>>>0,u=u+y>>>0,d=d+v>>>0,f=f+x>>>0}return t.endian([c,u,d,f])};r._ff=function(s,i,a,l,c,u,d){var f=s+(i&a|~i&l)+(c>>>0)+d;return(f<<u|f>>>32-u)+i},r._gg=function(s,i,a,l,c,u,d){var f=s+(i&l|a&~l)+(c>>>0)+d;return(f<<u|f>>>32-u)+i},r._hh=function(s,i,a,l,c,u,d){var f=s+(i^a^l)+(c>>>0)+d;return(f<<u|f>>>32-u)+i},r._ii=function(s,i,a,l,c,u,d){var f=s+(a^(i|~l))+(c>>>0)+d;return(f<<u|f>>>32-u)+i},r._blocksize=16,r._digestsize=16,OA.exports=function(s,i){if(s==null)throw new Error("Illegal argument "+s);var a=t.wordsToBytes(r(s,i));return i&&i.asBytes?a:i&&i.asString?n.bytesToString(a):t.bytesToHex(a)}})()});import{jsx as hb}from"react/jsx-runtime";import"react";function ue({CustomComponent:t,Fallback:e}){return t!==void 0?t:e}import{jsx as Y5}from"react/jsx-runtime";import fb from"react";import{createContext as Hs,use as Us}from"react";var $c=Pi(Qx(),1);import{createElement as $5,createContext as B5,useContext as M5,useEffect as O5,useLayoutEffect as V5,useReducer as G5,useRef as lb,useState as z5}from"react";var jm=Symbol(),W5=Symbol(),H5=typeof window>"u"||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent),Kx=H5?O5:V5,U5=$c.unstable_runWithPriority?t=>{try{(0,$c.unstable_runWithPriority)($c.unstable_NormalPriority,t)}catch(e){if(e.message==="Not implemented.")t();else throw e}}:t=>t(),X5=t=>({value:o,children:n})=>{let r=lb(o),s=lb(0),[i,a]=z5(null);i&&(i(o),a(null));let l=lb();if(!l.current){let c=new Set,u=(d,f)=>{s.current+=1;let m={n:s.current};f?.suspense&&(m.n*=-1,m.p=new Promise(p=>{a(()=>h=>{m.v=h,delete m.p,p(h)})})),c.forEach(p=>p(m)),d()};l.current={[jm]:{v:r,n:s,l:c,u}}}return Kx(()=>{r.current=o,s.current+=1,U5(()=>{l.current[jm].l.forEach(c=>{c({n:s.current,v:o})})})},[o]),$5(t,{value:l.current},n)},Z5=t=>t;function ew(t){let e=B5({[jm]:{v:{current:t},n:{current:-1},l:new Set,u:o=>o()}});return e[W5]=e.Provider,e.Provider=X5(e.Provider),delete e.Consumer,e}function cb(t,e){let o=M5(t)[jm],{v:{current:n},n:{current:r},l:s}=o,i=e(n),[a,l]=G5((c,u)=>{if(!u)return[n,i];if("p"in u)throw u.p;if(u.n===r)return Object.is(c[1],i)?c:[n,i];try{if("v"in u){if(Object.is(c[0],u.v))return c;let d=e(u.v);return Object.is(c[1],d)?c:[u.v,d]}}catch{}return[...c]},[n,i]);return Object.is(a[1],i)||l(),Kx(()=>(s.add(l),()=>{s.delete(l)}),[s]),a[1]}function tw(t){return cb(t,Z5)}var $m=Hs({}),Bm=Hs({}),Mm=Hs({}),Om=Hs(!1),Vm=Hs(!1),ub=Hs(!1),Gm=Hs(!1),db=Hs(!1),Bc=ew([{},()=>null]),Oe=()=>Us($m),Ya=()=>Us(Bm),zm=()=>Us(Mm),uo=()=>Us(Om),Gr=()=>Us(Vm),mb=()=>Us(ub),mo=()=>Us(Gm),Li=()=>Us(db),Mt=t=>cb(Bc,t),Xs=()=>tw(Bc);var ow=fb.createContext({data:{},path:"",rowNumber:void 0}),pb=({children:t,path:e,rowNumber:o})=>{let{getDataByPath:n,getSiblingData:r}=zm(),s=r(e),a=n(e)||s,l=fb.useMemo(()=>({data:a,path:e,rowNumber:o}),[a,e,o]);return Y5(ow,{value:l,children:t})},J5=()=>fb.use(ow);var q5="row-label",as=t=>{let{className:e,CustomComponent:o,label:n,path:r,rowNumber:s}=t;return hb(pb,{path:r,rowNumber:s,children:hb(ue,{CustomComponent:o,Fallback:typeof n=="string"?hb("span",{className:[q5,e].filter(Boolean).join(" "),style:{pointerEvents:"none"},children:n}):n})})};import{jsx as bo,jsxs as Ci}from"react/jsx-runtime";import{getTranslation as K0}from"@payloadcms/translations";import QH,{Fragment as KH,useCallback as Pn,useId as eU,useMemo as rA}from"react";import De,{forwardRef as Q5,isValidElement as gb}from"react";import K5 from"react-dom";import ir from"react";import rw from"react";import cN from"react";var eN=t=>{switch(t){case"success":return rN;case"info":return sN;case"warning":return nN;case"error":return iN;default:return null}},tN=Array(12).fill(0),oN=({visible:t,className:e})=>ir.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ir.createElement("div",{className:"sonner-spinner"},tN.map((o,n)=>ir.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),rN=ir.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ir.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),nN=ir.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ir.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),sN=ir.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ir.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),iN=ir.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ir.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),aN=ir.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ir.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ir.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),lN=()=>{let[t,e]=rw.useState(document.hidden);return rw.useEffect(()=>{let o=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",o),()=>window.removeEventListener("visibilitychange",o)},[]),t},bb=1,uN=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:o,...n}=t,r=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:bb++,s=this.toasts.find(a=>a.id===r),i=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),s?this.toasts=this.toasts.map(a=>a.id===r?(this.publish({...a,...t,id:r,title:o}),{...a,...t,id:r,dismissible:i,title:o}):a):this.addToast({title:o,...n,dismissible:i,id:r}),r},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(o=>o({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let o;e.loading!==void 0&&(o=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),r=o!==void 0,s,i=n.then(async l=>{if(s=["resolve",l],cN.isValidElement(l))r=!1,this.create({id:o,type:"default",message:l});else if(mN(l)&&!l.ok){r=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:o,type:"error",message:c,description:u})}else if(e.success!==void 0){r=!1;let c=typeof e.success=="function"?await e.success(l):e.success,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:o,type:"success",message:c,description:u})}}).catch(async l=>{if(s=["reject",l],e.error!==void 0){r=!1;let c=typeof e.error=="function"?await e.error(l):e.error,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:o,type:"error",message:c,description:u})}}).finally(()=>{var l;r&&(this.dismiss(o),o=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,c)=>i.then(()=>s[0]==="reject"?c(s[1]):l(s[1])).catch(c));return typeof o!="string"&&typeof o!="number"?{unwrap:a}:Object.assign(o,{unwrap:a})},this.custom=(t,e)=>{let o=e?.id||bb++;return this.create({jsx:t(o),id:o,...e}),o},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},sr=new uN,dN=(t,e)=>{let o=e?.id||bb++;return sr.addToast({title:t,...e,id:o}),o},mN=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",fN=dN,pN=()=>sr.toasts,hN=()=>sr.getActiveToasts(),oe=Object.assign(fN,{success:sr.success,info:sr.info,warning:sr.warning,error:sr.error,custom:sr.custom,message:sr.message,promise:sr.promise,dismiss:sr.dismiss,loading:sr.loading},{getHistory:pN,getToasts:hN});function gN(t,{insertAt:e}={}){if(!t||typeof document>"u")return;let o=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&o.firstChild?o.insertBefore(n,o.firstChild):o.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}gN(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Wm(t){return t.label!==void 0}var bN=3,vN="32px",yN="16px",nw=4e3,CN=356,xN=14,wN=20,SN=200;function cn(...t){return t.filter(Boolean).join(" ")}function IN(t){let[e,o]=t.split("-"),n=[];return e&&n.push(e),o&&n.push(o),n}var _N=t=>{var e,o,n,r,s,i,a,l,c,u,d;let{invert:f,toast:m,unstyled:p,interacting:h,setHeights:g,visibleToasts:b,heights:C,index:y,toasts:v,expanded:x,removeToast:_,defaultRichColors:w,closeButton:T,style:S,cancelButtonStyle:R,actionButtonStyle:D,className:I="",descriptionClassName:F="",duration:A,position:k,gap:L,loadingIcon:N,expandByDefault:B,classNames:j,icons:E,closeButtonAriaLabel:$="Close toast",pauseWhenPageIsHidden:M}=t,[O,G]=De.useState(null),[W,U]=De.useState(null),[z,J]=De.useState(!1),[Z,X]=De.useState(!1),[ae,Y]=De.useState(!1),[ne,Q]=De.useState(!1),[de,ve]=De.useState(!1),[fe,$e]=De.useState(0),[Me,Ne]=De.useState(0),be=De.useRef(m.duration||A||nw),Ve=De.useRef(null),Ye=De.useRef(null),se=y===0,xe=y+1<=b,V=m.type,le=m.dismissible!==!1,q=m.className||"",me=m.descriptionClassName||"",pe=De.useMemo(()=>C.findIndex(Re=>Re.toastId===m.id)||0,[C,m.id]),re=De.useMemo(()=>{var Re;return(Re=m.closeButton)!=null?Re:T},[m.closeButton,T]),ee=De.useMemo(()=>m.duration||A||nw,[m.duration,A]),he=De.useRef(0),te=De.useRef(0),ge=De.useRef(0),ye=De.useRef(null),[rt,Be]=k.split("-"),qe=De.useMemo(()=>C.reduce((Re,We,ce)=>ce>=pe?Re:Re+We.height,0),[C,pe]),wt=lN(),ro=m.invert||f,wo=V==="loading";te.current=De.useMemo(()=>pe*L+qe,[pe,qe]),De.useEffect(()=>{be.current=ee},[ee]),De.useEffect(()=>{J(!0)},[]),De.useEffect(()=>{let Re=Ye.current;if(Re){let We=Re.getBoundingClientRect().height;return Ne(We),g(ce=>[{toastId:m.id,height:We,position:m.position},...ce]),()=>g(ce=>ce.filter(Le=>Le.toastId!==m.id))}},[g,m.id]),De.useLayoutEffect(()=>{if(!z)return;let Re=Ye.current,We=Re.style.height;Re.style.height="auto";let ce=Re.getBoundingClientRect().height;Re.style.height=We,Ne(ce),g(Le=>Le.find(je=>je.toastId===m.id)?Le.map(je=>je.toastId===m.id?{...je,height:ce}:je):[{toastId:m.id,height:ce,position:m.position},...Le])},[z,m.title,m.description,g,m.id]);let $t=De.useCallback(()=>{X(!0),$e(te.current),g(Re=>Re.filter(We=>We.toastId!==m.id)),setTimeout(()=>{_(m)},SN)},[m,_,g,te]);De.useEffect(()=>{if(m.promise&&V==="loading"||m.duration===1/0||m.type==="loading")return;let Re;return x||h||M&&wt?(()=>{if(ge.current<he.current){let We=new Date().getTime()-he.current;be.current=be.current-We}ge.current=new Date().getTime()})():be.current!==1/0&&(he.current=new Date().getTime(),Re=setTimeout(()=>{var We;(We=m.onAutoClose)==null||We.call(m,m),$t()},be.current)),()=>clearTimeout(Re)},[x,h,m,V,M,wt,$t]),De.useEffect(()=>{m.delete&&$t()},[$t,m.delete]);function tr(){var Re,We,ce;return E!=null&&E.loading?De.createElement("div",{className:cn(j?.loader,(Re=m?.classNames)==null?void 0:Re.loader,"sonner-loader"),"data-visible":V==="loading"},E.loading):N?De.createElement("div",{className:cn(j?.loader,(We=m?.classNames)==null?void 0:We.loader,"sonner-loader"),"data-visible":V==="loading"},N):De.createElement(oN,{className:cn(j?.loader,(ce=m?.classNames)==null?void 0:ce.loader),visible:V==="loading"})}return De.createElement("li",{tabIndex:0,ref:Ye,className:cn(I,q,j?.toast,(e=m?.classNames)==null?void 0:e.toast,j?.default,j?.[V],(o=m?.classNames)==null?void 0:o[V]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:w,"data-styled":!(m.jsx||m.unstyled||p),"data-mounted":z,"data-promise":!!m.promise,"data-swiped":de,"data-removed":Z,"data-visible":xe,"data-y-position":rt,"data-x-position":Be,"data-index":y,"data-front":se,"data-swiping":ae,"data-dismissible":le,"data-type":V,"data-invert":ro,"data-swipe-out":ne,"data-swipe-direction":W,"data-expanded":!!(x||B&&z),style:{"--index":y,"--toasts-before":y,"--z-index":v.length-y,"--offset":`${Z?fe:te.current}px`,"--initial-height":B?"auto":`${Me}px`,...S,...m.style},onDragEnd:()=>{Y(!1),G(null),ye.current=null},onPointerDown:Re=>{wo||!le||(Ve.current=new Date,$e(te.current),Re.target.setPointerCapture(Re.pointerId),Re.target.tagName!=="BUTTON"&&(Y(!0),ye.current={x:Re.clientX,y:Re.clientY}))},onPointerUp:()=>{var Re,We,ce,Le;if(ne||!le)return;ye.current=null;let je=Number(((Re=Ye.current)==null?void 0:Re.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ke=Number(((We=Ye.current)==null?void 0:We.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ct=new Date().getTime()-((ce=Ve.current)==null?void 0:ce.getTime()),ut=O==="x"?je:Ke,Ce=Math.abs(ut)/ct;if(Math.abs(ut)>=wN||Ce>.11){$e(te.current),(Le=m.onDismiss)==null||Le.call(m,m),U(O==="x"?je>0?"right":"left":Ke>0?"down":"up"),$t(),Q(!0),ve(!1);return}Y(!1),G(null)},onPointerMove:Re=>{var We,ce,Le,je;if(!ye.current||!le||((We=window.getSelection())==null?void 0:We.toString().length)>0)return;let Ke=Re.clientY-ye.current.y,ct=Re.clientX-ye.current.x,ut=(ce=t.swipeDirections)!=null?ce:IN(k);!O&&(Math.abs(ct)>1||Math.abs(Ke)>1)&&G(Math.abs(ct)>Math.abs(Ke)?"x":"y");let Ce={x:0,y:0};O==="y"?(ut.includes("top")||ut.includes("bottom"))&&(ut.includes("top")&&Ke<0||ut.includes("bottom")&&Ke>0)&&(Ce.y=Ke):O==="x"&&(ut.includes("left")||ut.includes("right"))&&(ut.includes("left")&&ct<0||ut.includes("right")&&ct>0)&&(Ce.x=ct),(Math.abs(Ce.x)>0||Math.abs(Ce.y)>0)&&ve(!0),(Le=Ye.current)==null||Le.style.setProperty("--swipe-amount-x",`${Ce.x}px`),(je=Ye.current)==null||je.style.setProperty("--swipe-amount-y",`${Ce.y}px`)}},re&&!m.jsx?De.createElement("button",{"aria-label":$,"data-disabled":wo,"data-close-button":!0,onClick:wo||!le?()=>{}:()=>{var Re;$t(),(Re=m.onDismiss)==null||Re.call(m,m)},className:cn(j?.closeButton,(r=m?.classNames)==null?void 0:r.closeButton)},(s=E?.close)!=null?s:aN):null,m.jsx||gb(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:De.createElement(De.Fragment,null,V||m.icon||m.promise?De.createElement("div",{"data-icon":"",className:cn(j?.icon,(i=m?.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||tr():null,m.type!=="loading"?m.icon||E?.[V]||eN(V):null):null,De.createElement("div",{"data-content":"",className:cn(j?.content,(a=m?.classNames)==null?void 0:a.content)},De.createElement("div",{"data-title":"",className:cn(j?.title,(l=m?.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?De.createElement("div",{"data-description":"",className:cn(F,me,j?.description,(c=m?.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),gb(m.cancel)?m.cancel:m.cancel&&Wm(m.cancel)?De.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||R,onClick:Re=>{var We,ce;Wm(m.cancel)&&le&&((ce=(We=m.cancel).onClick)==null||ce.call(We,Re),$t())},className:cn(j?.cancelButton,(u=m?.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,gb(m.action)?m.action:m.action&&Wm(m.action)?De.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||D,onClick:Re=>{var We,ce;Wm(m.action)&&((ce=(We=m.action).onClick)==null||ce.call(We,Re),!Re.defaultPrevented&&$t())},className:cn(j?.actionButton,(d=m?.classNames)==null?void 0:d.actionButton)},m.action.label):null))};function sw(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function TN(t,e){let o={};return[t,e].forEach((n,r)=>{let s=r===1,i=s?"--mobile-offset":"--offset",a=s?yN:vN;function l(c){["top","right","bottom","left"].forEach(u=>{o[`${i}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?o[`${i}-${c}`]=a:o[`${i}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):l(a)}),o}var iw=Q5(function(t,e){let{invert:o,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:d,duration:f,style:m,visibleToasts:p=bN,toastOptions:h,dir:g=sw(),gap:b=xN,loadingIcon:C,icons:y,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:x}=t,[_,w]=De.useState([]),T=De.useMemo(()=>Array.from(new Set([n].concat(_.filter(M=>M.position).map(M=>M.position)))),[_,n]),[S,R]=De.useState([]),[D,I]=De.useState(!1),[F,A]=De.useState(!1),[k,L]=De.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),N=De.useRef(null),B=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=De.useRef(null),E=De.useRef(!1),$=De.useCallback(M=>{w(O=>{var G;return(G=O.find(W=>W.id===M.id))!=null&&G.delete||sr.dismiss(M.id),O.filter(({id:W})=>W!==M.id)})},[]);return De.useEffect(()=>sr.subscribe(M=>{if(M.dismiss){w(O=>O.map(G=>G.id===M.id?{...G,delete:!0}:G));return}setTimeout(()=>{K5.flushSync(()=>{w(O=>{let G=O.findIndex(W=>W.id===M.id);return G!==-1?[...O.slice(0,G),{...O[G],...M},...O.slice(G+1)]:[M,...O]})})})}),[]),De.useEffect(()=>{if(u!=="system"){L(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;let M=window.matchMedia("(prefers-color-scheme: dark)");try{M.addEventListener("change",({matches:O})=>{L(O?"dark":"light")})}catch{M.addListener(({matches:G})=>{try{L(G?"dark":"light")}catch(W){console.error(W)}})}},[u]),De.useEffect(()=>{_.length<=1&&I(!1)},[_]),De.useEffect(()=>{let M=O=>{var G,W;r.every(U=>O[U]||O.code===U)&&(I(!0),(G=N.current)==null||G.focus()),O.code==="Escape"&&(document.activeElement===N.current||(W=N.current)!=null&&W.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[r]),De.useEffect(()=>{if(N.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,E.current=!1)}},[N.current]),De.createElement("section",{ref:e,"aria-label":`${v} ${B}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((M,O)=>{var G;let[W,U]=M.split("-");return _.length?De.createElement("ol",{key:M,dir:g==="auto"?sw():g,tabIndex:-1,ref:N,className:a,"data-sonner-toaster":!0,"data-theme":k,"data-y-position":W,"data-lifted":D&&_.length>1&&!s,"data-x-position":U,style:{"--front-toast-height":`${((G=S[0])==null?void 0:G.height)||0}px`,"--width":`${CN}px`,"--gap":`${b}px`,...m,...TN(l,c)},onBlur:z=>{E.current&&!z.currentTarget.contains(z.relatedTarget)&&(E.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:z=>{z.target instanceof HTMLElement&&z.target.dataset.dismissible==="false"||E.current||(E.current=!0,j.current=z.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{F||I(!1)},onDragEnd:()=>I(!1),onPointerDown:z=>{z.target instanceof HTMLElement&&z.target.dataset.dismissible==="false"||A(!0)},onPointerUp:()=>A(!1)},_.filter(z=>!z.position&&O===0||z.position===M).map((z,J)=>{var Z,X;return De.createElement(_N,{key:z.id,icons:y,index:J,toast:z,defaultRichColors:d,duration:(Z=h?.duration)!=null?Z:f,className:h?.className,descriptionClassName:h?.descriptionClassName,invert:o,visibleToasts:p,closeButton:(X=h?.closeButton)!=null?X:i,interacting:F,position:M,style:h?.style,unstyled:h?.unstyled,classNames:h?.classNames,cancelButtonStyle:h?.cancelButtonStyle,actionButtonStyle:h?.actionButtonStyle,removeToast:$,toasts:_.filter(ae=>ae.position==z.position),heights:S.filter(ae=>ae.position==z.position),setHeights:R,expandByDefault:s,gap:b,loadingIcon:C,expanded:D,pauseWhenPageIsHidden:x,swipeDirections:t.swipeDirections})})):null}))});import{jsx as xb,jsxs as BN}from"react/jsx-runtime";import dw from"react";import{jsx as LN}from"react/jsx-runtime";import Cb from"next/link.js";import{useRouter as kN}from"next/navigation.js";import"react";import{c as FN}from"react/compiler-runtime";import{jsx as RN}from"react/jsx-runtime";import vb,{startTransition as DN,useEffect as AN,useOptimistic as PN,useRef as aw}from"react";var yb=t=>{let e=FN(11),{children:o}=t,[n,r]=PN(!1),[s,i]=vb.useState(0),a=aw(s),l=aw(null),c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{l.current=setInterval(()=>{let g=a.current+(.93-a.current)*Math.random()*.2*Math.pow(Math.log(1+(1-a.current)*.75),.75);i(g),a.current=g},250)},e[0]=c):c=e[0];let u=c,d,f;e[1]!==n?(d=()=>{i(0),a.current=0,n?u():l.current&&clearInterval(l.current)},f=[n,u],e[1]=n,e[2]=d,e[3]=f):(d=e[2],f=e[3]),AN(d,f);let m;e[4]!==r?(m=g=>{DN(()=>{r(!0),typeof g=="function"&&g()})},e[4]=r,e[5]=m):m=e[5];let p=m,h;return e[6]!==o||e[7]!==n||e[8]!==p||e[9]!==s?(h=RN(lw,{value:{isTransitioning:n,startRouteTransition:p,transitionProgress:s},children:o}),e[6]=o,e[7]=n,e[8]=p,e[9]=s,e[10]=h):h=e[10],h},lw=vb.createContext({isTransitioning:!1,startRouteTransition:t=>{typeof t=="function"&&t()},transitionProgress:0}),Xe=()=>vb.use(lw);var EN=/https?|ftp|gopher|file/;function cw(t){return typeof t=="string"||typeof t=="number"&&!isNaN(t)||typeof t=="boolean"?String(t):""}function NN(t){let e=new URLSearchParams;return Object.entries(t).forEach(([o,n])=>{Array.isArray(n)?n.forEach(r=>e.append(o,cw(r))):e.set(o,cw(n))}),e}function uw(t){let{auth:e}=t,{hostname:o}=t,n=t.protocol||"",r=t.pathname||"",s=t.hash||"",i=t.query||"",a=!1;e=e?encodeURIComponent(e).replace(/%3A/i,":")+"@":"",t.host?a=e+t.host:o&&(a=e+(~o.indexOf(":")?`[${o}]`:o),t.port&&(a+=":"+t.port)),i&&typeof i=="object"&&(i=String(NN(i)));let l=t.search||i&&`?${i}`||"";return n&&!n.endsWith(":")&&(n+=":"),t.slashes||(!n||EN.test(n))&&a!==!1?(a="//"+(a||""),r&&r[0]!=="/"&&(r="/"+r)):a||(a=""),s&&s[0]!=="#"&&(s="#"+s),l&&l[0]!=="?"&&(l="?"+l),r=r.replace(/[?#]/g,encodeURIComponent),l=l.replace("#","%23"),`${n}${a}${r}${l}${s}`}var jN="default"in Cb?Cb.default:Cb;function $N(t){let o=t.currentTarget.getAttribute("target");return o&&o!=="_self"||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&t.nativeEvent.which===2}var Jt=({children:t,href:e,onClick:o,preventDefault:n=!0,ref:r,replace:s,scroll:i,...a})=>{let l=kN(),{startRouteTransition:c}=Xe();return LN(jN,{href:e,onClick:u=>{if($N(u))return;o&&o(u),n&&u.preventDefault();let d=typeof e=="string"?e:uw(e);c(()=>{s?l.replace(d,{scroll:i}):l.push(d,{scroll:i})})},ref:r,...a,children:t})};var ki="banner",un=({type:t="default",alignIcon:e="right",children:o,className:n,icon:r,onClick:s,to:i})=>{let a=[ki,`${ki}--type-${t}`,n&&n,i&&`${ki}--has-link`,(i||s)&&`${ki}--has-action`,r&&`${ki}--has-icon`,r&&`${ki}--align-icon-${e}`].filter(Boolean).join(" "),l="div";return s&&!i&&(l="button"),i&&(l=Jt),BN(l,{className:a,href:i||null,onClick:s,children:[r&&e==="left"&&xb(dw.Fragment,{children:r}),xb("span",{className:`${ki}__content`,children:o}),r&&e==="right"&&xb(dw.Fragment,{children:r})]})};import{jsx as xr,jsxs as Ym}from"react/jsx-runtime";import QN,{Fragment as KN,isValidElement as eL}from"react";import{jsx as mw}from"react/jsx-runtime";import"react";var He=({ariaLabel:t,className:e,direction:o,size:n})=>mw("svg",{"aria-label":t,className:["icon icon--chevron",e,n&&`icon--size-${n}`].filter(Boolean).join(" "),height:"100%",style:{transform:o==="left"?"rotate(90deg)":o==="right"?"rotate(-90deg)":o==="up"?"rotate(180deg)":void 0},viewBox:"0 0 20 20",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:mw("path",{className:"stroke",d:"M14 8L10 12L6 8",strokeLinecap:"square"})});import{jsx as fw}from"react/jsx-runtime";import"react";var Cr=({className:t})=>fw("svg",{className:[t,"icon icon--edit"].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:fw("path",{className:"stroke",d:"M9.68531 4.62938H5.2634C4.92833 4.62938 4.60698 4.76248 4.37004 4.99942C4.13311 5.23635 4 5.5577 4 5.89278V14.7366C4 15.0717 4.13311 15.393 4.37004 15.63C4.60698 15.8669 4.92833 16 5.2634 16H14.1072C14.4423 16 14.7636 15.8669 15.0006 15.63C15.2375 15.393 15.3706 15.0717 15.3706 14.7366V10.3147M13.7124 4.39249C13.9637 4.14118 14.3046 4 14.66 4C15.0154 4 15.3562 4.14118 15.6075 4.39249C15.8588 4.6438 16 4.98464 16 5.34004C16 5.69544 15.8588 6.03629 15.6075 6.28759L9.91399 11.9817C9.76399 12.1316 9.57868 12.2413 9.37515 12.3008L7.56027 12.8314C7.50591 12.8472 7.44829 12.8482 7.39344 12.8341C7.33859 12.8201 7.28853 12.7915 7.24849 12.7515C7.20845 12.7115 7.17991 12.6614 7.16586 12.6066C7.15181 12.5517 7.15276 12.4941 7.16861 12.4397L7.69924 10.6249C7.75896 10.4215 7.86888 10.2364 8.01888 10.0866L13.7124 4.39249Z",strokeLinecap:"square"})});import{jsx as pw}from"react/jsx-runtime";import"react";var wb=()=>pw("svg",{"aria-hidden":"true",className:"graphic link icon icon--link",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:pw("path",{className:"stroke",d:"M7.99999 13.3333H6.66666C5.78261 13.3333 4.93476 12.9821 4.30964 12.357C3.68452 11.7319 3.33333 10.884 3.33333 9.99999C3.33333 9.11593 3.68452 8.26809 4.30964 7.64297C4.93476 7.01785 5.78261 6.66666 6.66666 6.66666H7.99999M12 6.66666H13.3333C14.2174 6.66666 15.0652 7.01785 15.6904 7.64297C16.3155 8.26809 16.6667 9.11593 16.6667 9.99999C16.6667 10.884 16.3155 11.7319 15.6904 12.357C15.0652 12.9821 14.2174 13.3333 13.3333 13.3333H12M7.33333 9.99999H12.6667",strokeLinecap:"square"})});import{jsx as hw}from"react/jsx-runtime";import"react";var ar=()=>hw("svg",{className:"icon icon--plus",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:hw("path",{className:"stroke",d:"M5.33333 9.99998H14.6667M9.99999 5.33331V14.6666",strokeLinecap:"square"})});import{jsx as gw}from"react/jsx-runtime";import"react";var Sb=()=>gw("svg",{className:"icon icon--swap",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:gw("path",{className:"stroke",d:"M7.33334 4L4.66667 6.66667M4.66667 6.66667L7.33334 9.33333M4.66667 6.66667H15.3333M12.6667 16L15.3333 13.3333M15.3333 13.3333L12.6667 10.6667M15.3333 13.3333H4.66667",strokeLinecap:"square"})});import{jsx as Um,jsxs as Tb}from"react/jsx-runtime";var we={};$x(we,{Button:()=>_b,ButtonGroup:()=>Ib,Divider:()=>bw,GroupLabel:()=>vw});import{jsx as Hm}from"react/jsx-runtime";import"react";import{jsx as MN}from"react/jsx-runtime";import"react";var ON="popup-divider",bw=()=>MN("hr",{className:ON});import{jsx as VN}from"react/jsx-runtime";import"react";var GN="popup-list-group-label",vw=({label:t})=>VN("p",{className:GN,children:t});var Ja="popup-button-list",Ib=({buttonSize:t="default",children:e,className:o,textAlign:n="left"})=>{let r=[Ja,o,`${Ja}__text-align--${n}`,`${Ja}__button-size--${t}`].filter(Boolean).join(" ");return Hm("div",{className:r,children:e})},_b=({id:t,active:e,children:o,className:n,disabled:r,href:s,onClick:i})=>{let a=[`${Ja}__button`,r&&`${Ja}__disabled`,e&&`${Ja}__button--selected`,n].filter(Boolean).join(" ");if(!r){if(s)return Hm(Jt,{className:a,href:s,id:t,onClick:l=>{i&&i(l)},prefetch:!1,children:o});if(i)return Hm("button",{className:a,id:t,onClick:l=>{i&&i(l)},type:"button",children:o})}return Hm("div",{className:a,id:t,children:o})};import{useCallback as UN,useEffect as Fb,useRef as Rb,useState as Db}from"react";import{createPortal as XN}from"react-dom";import{c as zN}from"react/compiler-runtime";import{useInsertionEffect as WN,useRef as HN}from"react";function Je(t){let e=zN(4),o=HN(t),n,r;e[0]!==t?(n=()=>{o.current=t},r=[t],e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]),WN(n,r);let s;return e[3]===Symbol.for("react.memo_cache_sentinel")?(s=(...i)=>{let a=i,l=o.current;return l(...a)},e[3]=s):s=e[3],s}import{jsx as yw}from"react/jsx-runtime";import"react";var Mc="popup-button",Cw=t=>{let{active:e,button:o,buttonType:n,className:r,disabled:s,noBackground:i,setActive:a,size:l}=t,c=[Mc,r,`${Mc}--${n}`,!i&&`${Mc}--background`,l&&`${Mc}--size-${l}`,s&&`${Mc}--disabled`].filter(Boolean).join(" "),u=()=>{a(!e,!1)},d=f=>{(f.key==="Enter"||f.key===" ")&&(f.preventDefault(),a(!e,!0))};return n==="none"?null:n==="custom"?yw("div",{className:c,onClick:u,onKeyDown:d,role:"button",tabIndex:0,children:o}):yw("button",{className:c,disabled:s,onClick:u,onKeyDown:d,tabIndex:0,type:"button",children:o})};var dn="popup",xw=["a[href]","button:not(:disabled)",'input:not(:disabled):not([type="hidden"])',"select:not(:disabled)","textarea:not(:disabled)","[tabindex]",'[contenteditable]:not([contenteditable="false"])',"audio[controls]","video[controls]","summary"].map(t=>`${t}:not([tabindex="-1"])`).join(", "),st=t=>{let{id:e,button:o,buttonClassName:n,buttonSize:r,buttonType:s="default",caret:i=!0,children:a,className:l,disabled:c,forceOpen:u,horizontalAlign:d="left",initActive:f=!1,noBackground:m,onToggleClose:p,onToggleOpen:h,render:g,showOnHover:b=!1,showScrollbar:C=!1,size:y="medium",verticalAlign:v="bottom"}=t,x=Rb(null),_=Rb(null),w=Rb(!1),[T,S]=Db(!1),[R,D]=Db(f),[I,F]=Db(v==="top");Fb(()=>{S(!0)},[]);let A=UN((E,$=!1)=>{E?(w.current=$,h?.(!0)):p?.(),D(E)},[p,h]),k=Je(()=>{let E=_.current,$=x.current;if(!E||!$)return;let M=E.getBoundingClientRect(),O=$.getBoundingClientRect(),G=10,W,U=v==="top";v==="bottom"?(W=M.bottom+window.scrollY+G,M.bottom+O.height+G>window.innerHeight&&(W=M.top+window.scrollY-O.height-G,U=!0)):(W=M.top+window.scrollY-O.height-G,M.top-O.height-G<0&&(W=M.bottom+window.scrollY+G,U=!1)),F(U);let z=d==="right"?M.right-O.width:d==="center"?M.left+M.width/2-O.width/2:M.left;z=Math.max(G,Math.min(z,window.innerWidth-O.width-G));let J=M.left+M.width/2,Z=Math.max(12,Math.min(J-z,O.width-12)),X=`${Math.round(W)}px`,ae=`${Math.round(z+window.scrollX)}px`,Y=`${Math.round(Z)}px`;$.style.top!==X&&($.style.top=X),$.style.left!==ae&&($.style.left=ae),$.style.getPropertyValue("--caret-left")!==Y&&$.style.setProperty("--caret-left",Y)}),L=Je(E=>{let $=!x.current?.contains(E.target),M=!_.current?.contains(E.target);$&&M&&A(!1)}),N=Je(E=>{let $=x.current;if(!(!$||!R)){if(E.key==="Escape"){E.preventDefault(),A(!1),_.current?.querySelector('button, [tabindex="0"]')?.focus();return}if(E.key==="Tab"||E.key==="ArrowDown"||E.key==="ArrowUp"){let M=Array.from($.querySelectorAll(xw));if(M.length===0)return;E.preventDefault();let O=M.findIndex(U=>U===document.activeElement),G=E.key==="ArrowUp"||E.key==="Tab"&&E.shiftKey,W;O===-1?W=G?M.length-1:0:G?W=O===0?M.length-1:O-1:W=O===M.length-1?0:O+1,M[W].focus()}}}),B=Je(E=>{let M=E.target.closest('button, a[href], [role="button"], [role="menuitem"]');M&&x.current?.contains(M)&&A(!1)});Fb(()=>{if(!R)return;let E=x.current;if(E)return k(),w.current&&requestAnimationFrame(()=>{E.querySelector(xw)?.focus()}),window.addEventListener("resize",k),window.addEventListener("scroll",k,{capture:!0,passive:!0}),document.addEventListener("mousedown",L),document.addEventListener("keydown",N),E.addEventListener("click",B),()=>{window.removeEventListener("resize",k),window.removeEventListener("scroll",k,{capture:!0}),document.removeEventListener("mousedown",L),document.removeEventListener("keydown",N),E.removeEventListener("click",B)}},[R]),Fb(()=>{u!==void 0&&A(u)},[u,A]);let j=Um(Cw,{active:R,button:o,buttonType:s,className:n,disabled:c,noBackground:m,setActive:A,size:r});return Tb("div",{className:[dn,l].filter(Boolean).join(" "),id:e,children:[Um("div",{className:`${dn}__trigger-wrap`,ref:_,children:b?Um("div",{className:`${dn}__on-hover-watch`,onMouseEnter:()=>A(!0),onMouseLeave:()=>A(!1),role:"button",tabIndex:0,children:j}):j}),T?XN(Tb("div",{className:R?[`${dn}__content`,`${dn}--size-${y}`,I?`${dn}--v-top`:`${dn}--v-bottom`].filter(Boolean).join(" "):`${dn}__hidden-content`,"data-popup-id":e||void 0,ref:x,children:[Tb("div",{className:`${dn}__scroll-container${C?` ${dn}__scroll-container--show-scrollbar`:""}`,children:[g?.({close:()=>A(!1)}),a]}),i&&Um("div",{className:`${dn}__caret`})]}),document.body):null]})};import{jsx as Xm,jsxs as qN}from"react/jsx-runtime";import Ab,{useEffect as Sw}from"react";import{c as ZN}from"react/compiler-runtime";import{useEffect as YN,useRef as JN,useState as ww}from"react";var ji=(t,e)=>{let o=ZN(8),{root:n,rootMargin:r,threshold:s}=t===void 0?{}:t,i=n===void 0?null:n,a=r===void 0?"0px":r,l=s===void 0?0:s,[c,u]=ww(),[d,f]=ww(null),m=JN(typeof window<"u"&&"IntersectionObserver"in window&&!e?new window.IntersectionObserver(b=>{let[C]=b;return u(C)},{root:i,rootMargin:a,threshold:l}):null),p,h;o[0]!==e||o[1]!==d?(p=()=>{if(e)return;let{current:b}=m;return b.disconnect(),d&&b.observe(d),()=>b.disconnect()},h=[d,e],o[0]=e,o[1]=d,o[2]=p,o[3]=h):(p=o[2],h=o[3]),YN(p,h);let g;return o[4]!==c||o[5]!==d||o[6]!==f?(g=[f,c,d],o[4]=c,o[5]=d,o[6]=f,o[7]=g):g=o[7],g};var Po=t=>{let{alignCaret:e="center",boundingRef:o,children:n,className:r,delay:s=350,position:i,show:a=!0,staticPositioning:l=!1}=t,[c,u]=Ab.useState(a),[d,f]=Ab.useState("top"),m=g=>typeof g=="string"?g:"",[p,h]=ji({root:o?.current||null,rootMargin:"-145px 0px 0px 100px",threshold:0},l);return Sw(()=>{let g;return s&&a?g=setTimeout(()=>{u(a)},s):u(a),()=>{g&&clearTimeout(g)}},[a,s]),Sw(()=>{l||f(h?.isIntersecting?"top":"bottom")},[h,l]),qN(Ab.Fragment,{children:[!l&&Xm("aside",{"aria-hidden":"true",className:["tooltip",r,`tooltip--caret-${e}`,"tooltip--position-top"].filter(Boolean).join(" "),ref:p,style:{opacity:"0"},children:Xm("div",{className:"tooltip-content",children:n})}),Xm("aside",{className:["tooltip",r,c&&"tooltip--show",`tooltip--caret-${e}`,`tooltip--position-${i||d}`].filter(Boolean).join(" "),title:m(n),children:Xm("div",{className:"tooltip-content",children:n})})]})};var tL={chevron:He,edit:Cr,link:wb,plus:ar,swap:Sb,x:yt},yo="btn",Zm=({children:t,icon:e,showTooltip:o,tooltip:n})=>{let r=tL[e];return Ym(KN,{children:[n&&xr(Po,{className:`${yo}__tooltip`,show:o,children:n}),Ym("span",{className:`${yo}__content`,children:[t&&xr("span",{className:`${yo}__label`,children:t}),e&&Ym("span",{className:`${yo}__icon`,children:[eL(e)&&e,r&&xr(r,{})]})]})]})},K=t=>{let{id:e,type:o="button","aria-label":n,buttonStyle:r="primary",children:s,className:i,disabled:a,el:l="button",enableSubMenu:c,extraButtonProps:u={},icon:d,iconPosition:f="right",iconStyle:m="without-border",margin:p=!0,newTab:h,onClick:g,onMouseDown:b,ref:C,round:y,size:v="medium",SubMenuPopupContent:x,to:_,tooltip:w,url:T}=t,[S,R]=QN.useState(!1),D=[yo,i&&i,d&&`${yo}--icon`,m&&`${yo}--icon-style-${m}`,d&&!s&&`${yo}--icon-only`,v&&`${yo}--size-${v}`,d&&f&&`${yo}--icon-position-${f}`,w&&`${yo}--has-tooltip`,!x&&`${yo}--withoutPopup`,!p&&`${yo}--no-margin`].filter(Boolean).join(" ");function I(L){R(!1),o!=="submit"&&g&&L.preventDefault(),g&&g(L)}let F=[r&&`${yo}--style-${r}`,a&&`${yo}--disabled`,y&&`${yo}--round`,x?`${yo}--withPopup`:`${yo}--withoutPopup`].filter(Boolean).join(" "),A={id:e,type:o,"aria-disabled":a,"aria-label":n,className:x?D:[D,F].join(" "),disabled:a,onClick:a?void 0:I,onMouseDown:a?void 0:b,onPointerEnter:w?()=>R(!0):void 0,onPointerLeave:w?()=>R(!1):void 0,rel:h?"noopener noreferrer":void 0,target:h?"_blank":void 0,title:n,...u},k;switch(l){case"anchor":k=xr("a",{...A,href:a?void 0:T,ref:C,children:xr(Zm,{icon:d,showTooltip:S,tooltip:w,children:s})});break;case"link":a&&(k=xr("div",{...A,children:xr(Zm,{icon:d,showTooltip:S,tooltip:w,children:s})})),k=xr(Jt,{...A,href:_||T,prefetch:!1,children:xr(Zm,{icon:d,showTooltip:S,tooltip:w,children:s})});break;default:k=xr(l,{ref:C,...A,children:xr(Zm,{icon:d,showTooltip:S,tooltip:w,children:s})});break}return x?Ym("div",{className:F,children:[k,xr(st,{button:xr(He,{}),buttonSize:v,className:a&&!c?`${yo}--popup-disabled`:"",disabled:a&&!c,horizontalAlign:"right",id:`${e}-popup`,noBackground:!0,render:({close:L})=>x({close:()=>L()}),size:"large",verticalAlign:"bottom"})]}):k};import{fieldAffectsData as Iw,fieldHasSubFields as _w}from"payload/shared";function Tw({data:t,path:e,...o}){return typeof t>"u"||!e||!o.type?!1:o.type==="blocks"?oL({blocksFromClipboard:o.blocks,blocksFromConfig:o.schemaBlocks}):Pb({fieldsFromClipboard:o.fields,fieldsFromConfig:o.schemaFields})}function Pb({fieldsFromClipboard:t,fieldsFromConfig:e}){return!e||t.length!==e?.length?!1:t.every((o,n)=>{let r=e[n];if(o.type!==r.type||Iw(o)&&Iw(r)&&o.name!==r.name)return!1;let i=_w(r),a=_w(o);return a!==i?!1:a&&i?Pb({fieldsFromClipboard:o.fields,fieldsFromConfig:r.fields}):!0})}function oL({blocksFromClipboard:t,blocksFromConfig:e}){let o=new Map(e?.map(r=>[r.slug,r]));if(!o.size)return!1;let n=new Set;for(let r of t){let s=r.slug;if(!n.has(s)){let i=o.get(s);if(!i||!Pb({fieldsFromClipboard:r.fields,fieldsFromConfig:i.fields}))return!1;n.add(s)}}return!0}var Fw="_payloadClipboard";function qa(t){let{getDataToCopy:e,t:o,...n}=t,r={data:e(),...n};try{return localStorage.setItem(Fw,JSON.stringify(r)),!0}catch{return o("error:unableToCopy")}}function Qa({onPaste:t,path:e,t:o,...n}){let r;try{let i=localStorage.getItem(Fw);if(!i)return o("error:invalidClipboardData");r=JSON.parse(i)}catch{return o("error:invalidClipboardData")}let s={...r,...n,fieldPath:e};return Tw(s)?(t(r),!0):o("error:invalidClipboardData")}import{jsx as el,jsxs as aL}from"react/jsx-runtime";import{useCallback as Aw}from"react";import{jsx as Eb,jsxs as rL}from"react/jsx-runtime";import"react";var Oc=({className:t})=>rL("svg",{className:["icon icon--more",t].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[Eb("path",{className:"fill",d:"M10 10.6666C10.3682 10.6666 10.6667 10.3682 10.6667 9.99998C10.6667 9.63179 10.3682 9.33331 10 9.33331C9.63182 9.33331 9.33334 9.63179 9.33334 9.99998C9.33334 10.3682 9.63182 10.6666 10 10.6666Z",strokeLinecap:"square"}),Eb("path",{className:"fill",d:"M14.6667 10.6666C15.0349 10.6666 15.3333 10.3682 15.3333 9.99998C15.3333 9.63179 15.0349 9.33331 14.6667 9.33331C14.2985 9.33331 14 9.63179 14 9.99998C14 10.3682 14.2985 10.6666 14.6667 10.6666Z",strokeLinecap:"square"}),Eb("path",{className:"fill",d:"M5.33334 10.6666C5.70153 10.6666 6.00001 10.3682 6.00001 9.99998C6.00001 9.63179 5.70153 9.33331 5.33334 9.33331C4.96515 9.33331 4.66667 9.63179 4.66667 9.99998C4.66667 10.3682 4.96515 10.6666 5.33334 10.6666Z",strokeLinecap:"square"})]});import{c as nL}from"react/compiler-runtime";import{jsx as Dw,jsxs as sL}from"react/jsx-runtime";import{Fragment as iL}from"react";import{jsx as Rw}from"react/jsx-runtime";import"react";var $i=()=>Rw("svg",{className:"icon icon--copy",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Rw("path",{className:"stroke",d:"M4.66666 12.6667C3.93333 12.6667 3.33333 12.0667 3.33333 11.3333V4.66668C3.33333 3.93334 3.93333 3.33334 4.66666 3.33334H11.3333C12.0667 3.33334 12.6667 3.93334 12.6667 4.66668M8.66666 7.33334H15.3333C16.0697 7.33334 16.6667 7.9303 16.6667 8.66668V15.3333C16.6667 16.0697 16.0697 16.6667 15.3333 16.6667H8.66666C7.93028 16.6667 7.33333 16.0697 7.33333 15.3333V8.66668C7.33333 7.9303 7.93028 7.33334 8.66666 7.33334Z",strokeLinecap:"square"})});var Ka=t=>{let e=nL(4),{isPaste:o,isRow:n}=t,{t:r}=P(),s;if(e[0]!==o||e[1]!==n||e[2]!==r){let i=r("general:copyField");!n&&o?i=r("general:pasteField"):n&&!o?i=r("general:copyRow"):n&&o&&(i=r("general:pasteRow")),s=sL(iL,{children:[o?Dw(Cr,{}):Dw($i,{})," ",i]}),e[0]=o,e[1]=n,e[2]=r,e[3]=s}else s=e[3];return s};var lL="clipboard-action",Jm=({allowCopy:t,allowPaste:e,className:o,copyClassName:n,disabled:r,isRow:s,onPaste:i,pasteClassName:a,path:l,...c})=>{let{t:u}=P(),d=[`${lL}__popup`,o].filter(Boolean).join(" "),f=Aw(()=>{let p=qa({path:l,t:u,...c});typeof p=="string"?oe.error(p):oe.success(u("general:copied"))},[u,c,l]),m=Aw(()=>{let p=Qa(c.type==="array"?{onPaste:i,path:l,schemaFields:c.fields,t:u}:{onPaste:i,path:l,schemaBlocks:c.blocks,t:u});typeof p=="string"&&oe.error(p)},[i,c,l,u]);return!e&&!t?null:el(st,{button:el(Oc,{}),className:d,disabled:r,horizontalAlign:"center",render:({close:p})=>aL(we.ButtonGroup,{children:[el(we.Button,{className:n,disabled:!t,onClick:()=>{f(),p()},children:el(Ka,{isRow:s})}),el(we.Button,{className:a,disabled:!e,onClick:()=>{m(),p()},children:el(Ka,{isPaste:!0,isRow:s})})]}),size:"large",verticalAlign:"bottom"})};function tl({formState:t,path:e,rowIndex:o}){let n={},r=typeof o!="number"?e:`${e}.${o}`;for(let s in t){if(!s.startsWith(r))continue;let{customComponents:i,validate:a,...l}=t[s];Array.isArray(l.rows)&&(l.rows=l.rows.map(c=>{if(!c||typeof c!="object")return c;let{customComponents:u,...d}=c;return d})),n[s]=l}return n}function ol({dataFromClipboard:t,formState:e,path:o,rowIndex:n}){let{type:r,data:s,path:i,rowIndex:a}=t,l=typeof a!="number",c=typeof n!="number",u=!l&&c,d=r==="array",f;l&&c?f=i:l?f=`${i}.${n}`:f=`${i}.${a}`;let m;if(c?u?m=`${o}.0`:m=o:m=`${o}.${n}`,u){let p=`${o}.0`,h=s[`${f}.id`].value,g=e[o].rows?.length;e[o].rows=[{...g&&d?e[o].rows[0]:{},id:h,isLoading:!1,lastRenderedPath:p}],e[o].value=1,e[o].initialValue=1,e[o].disableFormData=!0;for(let b in e)b!==o&&!b.startsWith(p)&&b.startsWith(o)&&delete e[b]}for(let p in s){if(!c&&p.endsWith(".id")||!p.startsWith(f))continue;let h=p.replace(f,m),g=d?e[h]?.customComponents:void 0,b=d?e[h]?.validate:void 0;e[h]={customComponents:g,validate:b,...s[p]}}return e}import{c as ML}from"react/compiler-runtime";import{jsx as OL}from"react/jsx-runtime";import{Fragment as VL}from"react";import{c as BL}from"react/compiler-runtime";import Bw,{useMemo as Qm,useRef as kb,useEffect as Km,useState as bL,useContext as vL}from"react";import{useDndContext as yL,getClientRect as CL,useDroppable as xL,useDraggable as wL,closestCorners as SL,getFirstCollision as IL,getScrollableAncestors as _L,KeyboardCode as Zs}from"@dnd-kit/core";import{useMemo as Pw,useLayoutEffect as cL,useEffect as uL,useRef as Mne,useCallback as One}from"react";function Ew(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return Pw(()=>n=>{e.forEach(r=>r(n))},e)}var dL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function mL(t){let e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function fL(t){return"nodeType"in t}function Nw(t){var e,o;return t?mL(t)?t:fL(t)&&(e=(o=t.ownerDocument)==null?void 0:o.defaultView)!=null?e:window:window}var Lb=dL?cL:uL;var Nb={};function Lw(t,e){return Pw(()=>{if(e)return e;let o=Nb[t]==null?0:Nb[t]+1;return Nb[t]=o,t+"-"+o},[t,e])}function pL(t){return function(e){for(var o=arguments.length,n=new Array(o>1?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];return n.reduce((s,i)=>{let a=Object.entries(i);for(let[l,c]of a){let u=s[l];u!=null&&(s[l]=u+t*c)}return s},{...e})}}var kw=pL(-1);function hL(t){return"clientX"in t&&"clientY"in t}function jw(t){if(!t)return!1;let{KeyboardEvent:e}=Nw(t.target);return e&&t instanceof e}function gL(t){if(!t)return!1;let{TouchEvent:e}=Nw(t.target);return e&&t instanceof e}function $w(t){if(gL(t)){if(t.touches&&t.touches.length){let{clientX:e,clientY:o}=t.touches[0];return{x:e,y:o}}else if(t.changedTouches&&t.changedTouches.length){let{clientX:e,clientY:o}=t.changedTouches[0];return{x:e,y:o}}}return hL(t)?{x:t.clientX,y:t.clientY}:null}var Vc=Object.freeze({Translate:{toString(t){if(!t)return;let{x:e,y:o}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(o?Math.round(o):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;let{scaleX:e,scaleY:o}=t;return"scaleX("+e+") scaleY("+o+")"}},Transform:{toString(t){if(t)return[Vc.Translate.toString(t),Vc.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:o,easing:n}=t;return e+" "+o+"ms "+n}}});function tf(t,e,o){let n=t.slice();return n.splice(o<0?n.length+o:o,0,n.splice(e,1)[0]),n}function TL(t,e){return t.reduce((o,n,r)=>{let s=e.get(n);return s&&(o[r]=s),o},Array(t.length))}function qm(t){return t!==null&&t>=0}function FL(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}function RL(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}var Mw=t=>{let{rects:e,activeIndex:o,overIndex:n,index:r}=t,s=tf(e,n,o),i=e[r],a=s[r];return!a||!i?null:{x:a.left-i.left,y:a.top-i.top,scaleX:a.width/i.width,scaleY:a.height/i.height}};var Ow="Sortable",Vw=Bw.createContext({activeIndex:-1,containerId:Ow,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Mw,disabled:{draggable:!1,droppable:!1}});function Gw(t){let{children:e,id:o,items:n,strategy:r=Mw,disabled:s=!1}=t,{active:i,dragOverlay:a,droppableRects:l,over:c,measureDroppableContainers:u}=yL(),d=Lw(Ow,o),f=a.rect!==null,m=Qm(()=>n.map(_=>typeof _=="object"&&"id"in _?_.id:_),[n]),p=i!=null,h=i?m.indexOf(i.id):-1,g=c?m.indexOf(c.id):-1,b=kb(m),C=!FL(m,b.current),y=g!==-1&&h===-1||C,v=RL(s);Lb(()=>{C&&p&&u(m)},[C,m,p,u]),Km(()=>{b.current=m},[m]);let x=Qm(()=>({activeIndex:h,containerId:d,disabled:v,disableTransforms:y,items:m,overIndex:g,useDragOverlay:f,sortedRects:TL(m,l),strategy:r}),[h,d,v.draggable,v.droppable,y,m,g,l,f,r]);return Bw.createElement(Vw.Provider,{value:x},e)}var DL=t=>{let{id:e,items:o,activeIndex:n,overIndex:r}=t;return tf(o,n,r).indexOf(e)},AL=t=>{let{containerId:e,isSorting:o,wasDragging:n,index:r,items:s,newIndex:i,previousItems:a,previousContainerId:l,transition:c}=t;return!c||!n||a!==s&&r===i?!1:o?!0:i!==r&&e===l},PL={duration:200,easing:"ease"},zw="transform",EL=Vc.Transition.toString({property:zw,duration:0,easing:"linear"}),NL={roleDescription:"sortable"};function LL(t){let{disabled:e,index:o,node:n,rect:r}=t,[s,i]=bL(null),a=kb(o);return Lb(()=>{if(!e&&o!==a.current&&n.current){let l=r.current;if(l){let c=CL(n.current,{ignoreTransform:!0}),u={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(u.x||u.y)&&i(u)}}o!==a.current&&(a.current=o)},[e,o,n,r]),Km(()=>{s&&i(null)},[s]),s}function Ww(t){let{animateLayoutChanges:e=AL,attributes:o,disabled:n,data:r,getNewIndex:s=DL,id:i,strategy:a,resizeObserverConfig:l,transition:c=PL}=t,{items:u,containerId:d,activeIndex:f,disabled:m,disableTransforms:p,sortedRects:h,overIndex:g,useDragOverlay:b,strategy:C}=vL(Vw),y=kL(n,m),v=u.indexOf(i),x=Qm(()=>({sortable:{containerId:d,index:v,items:u},...r}),[d,r,v,u]),_=Qm(()=>u.slice(u.indexOf(i)),[u,i]),{rect:w,node:T,isOver:S,setNodeRef:R}=xL({id:i,data:x,disabled:y.droppable,resizeObserverConfig:{updateMeasurementsFor:_,...l}}),{active:D,activatorEvent:I,activeNodeRect:F,attributes:A,setNodeRef:k,listeners:L,isDragging:N,over:B,setActivatorNodeRef:j,transform:E}=wL({id:i,data:x,attributes:{...NL,...o},disabled:y.draggable}),$=Ew(R,k),M=!!D,O=M&&!p&&qm(f)&&qm(g),G=!b&&N,W=G&&O?E:null,z=O?W??(a??C)({rects:h,activeNodeRect:F,activeIndex:f,overIndex:g,index:v}):null,J=qm(f)&&qm(g)?s({id:i,items:u,activeIndex:f,overIndex:g}):v,Z=D?.id,X=kb({activeId:Z,items:u,newIndex:J,containerId:d}),ae=u!==X.current.items,Y=e({active:D,containerId:d,isDragging:N,isSorting:M,id:i,index:v,items:u,newIndex:X.current.newIndex,previousItems:X.current.items,previousContainerId:X.current.containerId,transition:c,wasDragging:X.current.activeId!=null}),ne=LL({disabled:!Y,index:v,node:T,rect:w});return Km(()=>{M&&X.current.newIndex!==J&&(X.current.newIndex=J),d!==X.current.containerId&&(X.current.containerId=d),u!==X.current.items&&(X.current.items=u)},[M,J,d,u]),Km(()=>{if(Z===X.current.activeId)return;if(Z!=null&&X.current.activeId==null){X.current.activeId=Z;return}let de=setTimeout(()=>{X.current.activeId=Z},50);return()=>clearTimeout(de)},[Z]),{active:D,activeIndex:f,attributes:A,data:x,rect:w,index:v,newIndex:J,items:u,isOver:S,isSorting:M,isDragging:N,listeners:L,node:T,overIndex:g,over:B,setNodeRef:$,setActivatorNodeRef:j,setDroppableNodeRef:R,setDraggableNodeRef:k,transform:ne??z,transition:Q()};function Q(){if(ne||ae&&X.current.newIndex===v)return EL;if(!(G&&!jw(I)||!c)&&(M||Y))return Vc.Transition.toString({...c,property:zw})}}function kL(t,e){var o,n;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(o=t?.draggable)!=null?o:e.draggable,droppable:(n=t?.droppable)!=null?n:e.droppable}}function ef(t){if(!t)return!1;let e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}var jL=[Zs.Down,Zs.Right,Zs.Up,Zs.Left],Hw=(t,e)=>{let{context:{active:o,collisionRect:n,droppableRects:r,droppableContainers:s,over:i,scrollableAncestors:a}}=e;if(jL.includes(t.code)){if(t.preventDefault(),!o||!n)return;let l=[];s.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;let f=r.get(d.id);if(f)switch(t.code){case Zs.Down:n.top<f.top&&l.push(d);break;case Zs.Up:n.top>f.top&&l.push(d);break;case Zs.Left:n.left>f.left&&l.push(d);break;case Zs.Right:n.left<f.left&&l.push(d);break}});let c=SL({active:o,collisionRect:n,droppableRects:r,droppableContainers:l,pointerCoordinates:null}),u=IL(c,"id");if(u===i?.id&&c.length>1&&(u=c[1].id),u!=null){let d=s.get(o.id),f=s.get(u),m=f?r.get(f.id):null,p=f?.node.current;if(p&&m&&d&&f){let g=_L(p).some((_,w)=>a[w]!==_),b=Uw(d,f),C=$L(d,f),y=g||!b?{x:0,y:0}:{x:C?n.width-m.width:0,y:C?n.height-m.height:0},v={x:m.left,y:m.top};return y.x&&y.y?v:kw(v,y)}}}};function Uw(t,e){return!ef(t)||!ef(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function $L(t,e){return!ef(t)||!ef(e)||!Uw(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}var rl=t=>{let e=BL(17),{id:o,disabled:n}=t,r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={duration:250,easing:"cubic-bezier(0, 0.2, 0.2, 1)"},e[0]=r):r=e[0];let s;e[1]!==n||e[2]!==o?(s={id:o,disabled:n,transition:r},e[1]=n,e[2]=o,e[3]=s):s=e[3];let{attributes:i,isDragging:a,listeners:l,setNodeRef:c,transform:u,transition:d}=Ww(s),f=a?"grabbing":"grab",m;e[4]!==f||e[5]!==d?(m={cursor:f,transition:d},e[4]=f,e[5]=d,e[6]=m):m=e[6];let p;e[7]!==i||e[8]!==m?(p={...i,style:m},e[7]=i,e[8]=m,e[9]=p):p=e[9];let h=u&&`translate3d(${u.x}px, ${u.y}px, 0)`,g;return e[10]!==a||e[11]!==l||e[12]!==c||e[13]!==p||e[14]!==h||e[15]!==d?(g={attributes:p,isDragging:a,listeners:l,setNodeRef:c,transform:h,transition:d},e[10]=a,e[11]=l,e[12]=c,e[13]=p,e[14]=h,e[15]=d,e[16]=g):g=e[16],g};var Nn=t=>{let e=ML(12),{id:o,children:n,disabled:r}=t,s;e[0]!==r||e[1]!==o?(s={id:o,disabled:r},e[0]=r,e[1]=o,e[2]=s):s=e[2];let{attributes:i,isDragging:a,listeners:l,setNodeRef:c,transform:u,transition:d}=rl(s),f=a?"grabbing":"grab",m;return e[3]!==i||e[4]!==n||e[5]!==a||e[6]!==l||e[7]!==c||e[8]!==f||e[9]!==u||e[10]!==d?(m=OL(VL,{children:n({attributes:{...i,style:{cursor:f}},isDragging:a,listeners:l,setNodeRef:c,transform:u,transition:d})}),e[3]=i,e[4]=n,e[5]=a,e[6]=l,e[7]=c,e[8]=f,e[9]=u,e[10]=d,e[11]=m):m=e[11],m};import{c as GL}from"react/compiler-runtime";import{jsx as jb}from"react/jsx-runtime";import{closestCenter as zL,DndContext as WL,KeyboardSensor as HL,PointerSensor as UL,useDroppable as XL,useSensor as Xw,useSensors as ZL}from"@dnd-kit/core";import{useId as YL}from"react";var zr=t=>{let e=GL(18),{children:o,className:n,ids:r,onDragEnd:s,onDragStart:i}=t,a=YL(),l;e[0]!==a?(l={id:a},e[0]=a,e[1]=l):l=e[1];let{setNodeRef:c}=XL(l),u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u={activationConstraint:{distance:5}},e[2]=u):u=e[2];let d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d={coordinateGetter:Hw},e[3]=d):d=e[3];let f=ZL(Xw(UL,u),Xw(HL,d)),m;e[4]!==r||e[5]!==s?(m=C=>{let{active:y,over:v}=C;C.activatorEvent.stopPropagation(),!(!y||!v)&&typeof s=="function"&&s({event:C,moveFromIndex:r.findIndex(x=>x===y.id),moveToIndex:r.findIndex(x=>x===v.id)})},e[4]=r,e[5]=s,e[6]=m):m=e[6];let p=m,h;e[7]!==i?(h=C=>{let{active:y}=C;y&&typeof i=="function"&&i({id:y.id,event:C})},e[7]=i,e[8]=h):h=e[8];let g=h,b;return e[9]!==o||e[10]!==n||e[11]!==p||e[12]!==g||e[13]!==a||e[14]!==r||e[15]!==f||e[16]!==c?(b=jb(WL,{collisionDetection:zL,id:a,onDragEnd:p,onDragStart:g,sensors:f,children:jb(Gw,{items:r,children:jb("div",{className:n,ref:c,children:o})})}),e[9]=o,e[10]=n,e[11]=p,e[12]=g,e[13]=a,e[14]=r,e[15]=f,e[16]=c,e[17]=b):b=e[17],b};import{jsx as Zw,jsxs as JL}from"react/jsx-runtime";import"react";var of="error-pill",_o=t=>{let{className:e,count:o,i18n:n,withMessage:r}=t,s=!r&&o<99,i=[of,s&&`${of}--fixed-width`,e&&e].filter(Boolean).join(" ");return o===0?null:Zw("div",{className:i,children:JL("div",{className:`${of}__content`,children:[Zw("span",{className:`${of}__count`,children:o}),r&&` ${o>1?n.t("general:errors"):n.t("general:error")}`]})})};import{c as qL}from"react/compiler-runtime";import{jsx as QL}from"react/jsx-runtime";import{getTranslation as KL}from"@payloadcms/translations";import"react";var Yw="field-description",Ue=t=>{let e=qL(8),{className:o,description:n,marginPlacement:r,path:s}=t,{i18n:i}=P();if(n){let a=`field-description-${s?.replace(/\./g,"__")}`,l=r&&`${Yw}--margin-${r}`,c;e[0]!==o||e[1]!==a||e[2]!==l?(c=[Yw,o,a,l].filter(Boolean),e[0]=o,e[1]=a,e[2]=l,e[3]=c):c=e[3];let u=c.join(" "),d;return e[4]!==n||e[5]!==i||e[6]!==u?(d=QL("div",{className:u,children:KL(n,i)}),e[4]=n,e[5]=i,e[6]=u,e[7]=d):d=e[7],d}return null};import{c as e9}from"react/compiler-runtime";import{jsx as t9}from"react/jsx-runtime";import"react";var o9="field-error",Ze=t=>{let e=e9(8),{alignCaret:o,message:n,path:r,showError:s}=t,i=o===void 0?"right":o,a=uo(),l;e[0]!==r?(l=d=>{let[f]=d;return f&&f?.[r]||null},e[0]=r,e[1]=l):l=e[1];let c=Mt(l),u;if(e[2]!==i||e[3]!==c||e[4]!==a||e[5]!==n||e[6]!==s){u=Symbol.for("react.early_return_sentinel");e:{let{errorMessage:d,valid:f}=c||{},m=n||d;if((s||a&&f===!1)&&m?.length){u=t9(Po,{alignCaret:i,className:o9,delay:0,staticPositioning:!0,children:m});break e}}e[2]=i,e[3]=c,e[4]=a,e[5]=n,e[6]=s,e[7]=u}else u=e[7];return u!==Symbol.for("react.early_return_sentinel")?u:null};import{jsx as ck,jsxs as P2}from"react/jsx-runtime";import{getTranslation as uk}from"@payloadcms/translations";import"react";import{c as r9}from"react/compiler-runtime";import{jsx as n9}from"react/jsx-runtime";import{createContext as s9,use as i9}from"react";var Jw=s9(0),ls=t=>{let e=r9(3),{children:o}=t,r=dt()+1,s;return e[0]!==o||e[1]!==r?(s=n9(Jw,{value:r,children:o}),e[0]=o,e[1]=r,e[2]=s):s=e[2],s},dt=()=>i9(Jw);import{c as tk}from"react/compiler-runtime";import{jsx as _2}from"react/jsx-runtime";import{useSearchParams as ok}from"next/navigation.js";import{formatAdminURL as rk}from"payload/shared";import nk,{createContext as F2,use as R2,useEffect as T2,useRef as sk,useState as ik}from"react";var Ys=(t,e)=>!t?.locales||t.locales.length===0?null:t.locales.find(o=>o?.code===e);import{jsx as Y9}from"react/jsx-runtime";import{jsx as Hb}from"react/jsx-runtime";import{useRef as a2,useEffect as Oi,useState as Ub}from"react";import C9 from"react-dom";function Pe(){return Pe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)({}).hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},Pe.apply(null,arguments)}function nl(t,e){if(t==null)return{};var o={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;o[n]=t[n]}return o}function sl(t,e){return sl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,n){return o.__proto__=n,o},sl(t,e)}function rf(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,sl(t,e)}function $b(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function Bb(t,e){t.classList?t.classList.add(e):$b(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function qw(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Mb(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=qw(t.className,e):t.setAttribute("class",qw(t.className&&t.className.baseVal||"",e))}import Kw from"react";import sf from"react";import af from"react-dom";var Ob={disabled:!1};import a9 from"react";var Vb=a9.createContext(null);var nf=function(e){return e.scrollTop};var Gc="unmounted",Bi="exited",Mi="entering",al="entered",Gb="exiting",cs=function(t){rf(e,t);function e(n,r){var s;s=t.call(this,n,r)||this;var i=r,a=i&&!i.isMounting?n.enter:n.appear,l;return s.appearStatus=null,n.in?a?(l=Bi,s.appearStatus=Mi):l=al:n.unmountOnExit||n.mountOnEnter?l=Gc:l=Bi,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(r,s){var i=r.in;return i&&s.status===Gc?{status:Bi}:null};var o=e.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(r){var s=null;if(r!==this.props){var i=this.state.status;this.props.in?i!==Mi&&i!==al&&(s=Mi):(i===Mi||i===al)&&(s=Gb)}this.updateStatus(!1,s)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var r=this.props.timeout,s,i,a;return s=i=a=r,r!=null&&typeof r!="number"&&(s=r.exit,i=r.enter,a=r.appear!==void 0?r.appear:i),{exit:s,enter:i,appear:a}},o.updateStatus=function(r,s){if(r===void 0&&(r=!1),s!==null)if(this.cancelNextCallback(),s===Mi){if(this.props.unmountOnExit||this.props.mountOnEnter){var i=this.props.nodeRef?this.props.nodeRef.current:af.findDOMNode(this);i&&nf(i)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Bi&&this.setState({status:Gc})},o.performEnter=function(r){var s=this,i=this.props.enter,a=this.context?this.context.isMounting:r,l=this.props.nodeRef?[a]:[af.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!r&&!i||Ob.disabled){this.safeSetState({status:al},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Mi},function(){s.props.onEntering(c,u),s.onTransitionEnd(f,function(){s.safeSetState({status:al},function(){s.props.onEntered(c,u)})})})},o.performExit=function(){var r=this,s=this.props.exit,i=this.getTimeouts(),a=this.props.nodeRef?void 0:af.findDOMNode(this);if(!s||Ob.disabled){this.safeSetState({status:Bi},function(){r.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Gb},function(){r.props.onExiting(a),r.onTransitionEnd(i.exit,function(){r.safeSetState({status:Bi},function(){r.props.onExited(a)})})})},o.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(r,s){s=this.setNextCallback(s),this.setState(r,s)},o.setNextCallback=function(r){var s=this,i=!0;return this.nextCallback=function(a){i&&(i=!1,s.nextCallback=null,r(a))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},o.onTransitionEnd=function(r,s){this.setNextCallback(s);var i=this.props.nodeRef?this.props.nodeRef.current:af.findDOMNode(this),a=r==null&&!this.props.addEndListener;if(!i||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}r!=null&&setTimeout(this.nextCallback,r)},o.render=function(){var r=this.state.status;if(r===Gc)return null;var s=this.props,i=s.children,a=s.in,l=s.mountOnEnter,c=s.unmountOnExit,u=s.appear,d=s.enter,f=s.exit,m=s.timeout,p=s.addEndListener,h=s.onEnter,g=s.onEntering,b=s.onEntered,C=s.onExit,y=s.onExiting,v=s.onExited,x=s.nodeRef,_=nl(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return sf.createElement(Vb.Provider,{value:null},typeof i=="function"?i(r,_):sf.cloneElement(sf.Children.only(i),_))},e}(sf.Component);cs.contextType=Vb;cs.propTypes={};function il(){}cs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:il,onEntering:il,onEntered:il,onExit:il,onExiting:il,onExited:il};cs.UNMOUNTED=Gc;cs.EXITED=Bi;cs.ENTERING=Mi;cs.ENTERED=al;cs.EXITING=Gb;var Qw=cs;var l9=function(e,o){return e&&o&&o.split(" ").forEach(function(n){return Bb(e,n)})},zb=function(e,o){return e&&o&&o.split(" ").forEach(function(n){return Mb(e,n)})},Wb=function(t){rf(e,t);function e(){for(var n,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s))||this,n.appliedClasses={appear:{},enter:{},exit:{}},n.onEnter=function(a,l){var c=n.resolveArguments(a,l),u=c[0],d=c[1];n.removeClasses(u,"exit"),n.addClass(u,d?"appear":"enter","base"),n.props.onEnter&&n.props.onEnter(a,l)},n.onEntering=function(a,l){var c=n.resolveArguments(a,l),u=c[0],d=c[1],f=d?"appear":"enter";n.addClass(u,f,"active"),n.props.onEntering&&n.props.onEntering(a,l)},n.onEntered=function(a,l){var c=n.resolveArguments(a,l),u=c[0],d=c[1],f=d?"appear":"enter";n.removeClasses(u,f),n.addClass(u,f,"done"),n.props.onEntered&&n.props.onEntered(a,l)},n.onExit=function(a){var l=n.resolveArguments(a),c=l[0];n.removeClasses(c,"appear"),n.removeClasses(c,"enter"),n.addClass(c,"exit","base"),n.props.onExit&&n.props.onExit(a)},n.onExiting=function(a){var l=n.resolveArguments(a),c=l[0];n.addClass(c,"exit","active"),n.props.onExiting&&n.props.onExiting(a)},n.onExited=function(a){var l=n.resolveArguments(a),c=l[0];n.removeClasses(c,"exit"),n.addClass(c,"exit","done"),n.props.onExited&&n.props.onExited(a)},n.resolveArguments=function(a,l){return n.props.nodeRef?[n.props.nodeRef.current,a]:[a,l]},n.getClassNames=function(a){var l=n.props.classNames,c=typeof l=="string",u=c&&l?l+"-":"",d=c?""+u+a:l[a],f=c?d+"-active":l[a+"Active"],m=c?d+"-done":l[a+"Done"];return{baseClassName:d,activeClassName:f,doneClassName:m}},n}var o=e.prototype;return o.addClass=function(r,s,i){var a=this.getClassNames(s)[i+"ClassName"],l=this.getClassNames("enter"),c=l.doneClassName;s==="appear"&&i==="done"&&c&&(a+=" "+c),i==="active"&&r&&nf(r),a&&(this.appliedClasses[s][i]=a,l9(r,a))},o.removeClasses=function(r,s){var i=this.appliedClasses[s],a=i.base,l=i.active,c=i.done;this.appliedClasses[s]={},a&&zb(r,a),l&&zb(r,l),c&&zb(r,c)},o.render=function(){var r=this.props,s=r.classNames,i=nl(r,["classNames"]);return Kw.createElement(Qw,Pe({},i,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(Kw.Component);Wb.defaultProps={classNames:""};Wb.propTypes={};var zc=Wb;function e2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}import{useContext as u9}from"react";import{createContext as c9}from"react";var lf=c9({});var ie=()=>u9(lf);var cf=t=>t?{appear:`${t}--appear`,appearActive:`${t}--appearActive`,appearDone:`${t}--appearDone`,enter:`${t}--enter`,enterActive:`${t}--enterActive`,enterDone:`${t}--enterDone`,exit:`${t}--exit`,exitActive:`${t}--exitActive`,exitDone:`${t}--exitDone`}:{};F5();function t2(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),o.push.apply(o,n)}return o}function o2(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?t2(Object(o),!0).forEach(function(n){d9(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):t2(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}function d9(t,e,o){return e=f9(e),e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function m9(t,e){if(typeof t!="object"||t===null)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var n=o.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f9(t){var e=m9(t,"string");return typeof e=="symbol"?e:String(e)}var r2={activateTrap:function(e,o){if(e.length>0){var n=e[e.length-1];n!==o&&n.pause()}var r=e.indexOf(o);r===-1||e.splice(r,1),e.push(o)},deactivateTrap:function(e,o){var n=e.indexOf(o);n!==-1&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},p9=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},h9=function(e){return e?.key==="Escape"||e?.key==="Esc"||e?.keyCode===27},Hc=function(e){return e?.key==="Tab"||e?.keyCode===9},g9=function(e){return Hc(e)&&!e.shiftKey},b9=function(e){return Hc(e)&&e.shiftKey},n2=function(e){return setTimeout(e,0)},s2=function(e,o){var n=-1;return e.every(function(r,s){return o(r)?(n=s,!1):!0}),n},Wc=function(e){for(var o=arguments.length,n=new Array(o>1?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];return typeof e=="function"?e.apply(void 0,n):e},uf=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},v9=[],i2=function(e,o){var n=o?.document||document,r=o?.trapStack||v9,s=o2({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:g9,isKeyBackward:b9},o),i={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,l=function(I,F,A){return I&&I[F]!==void 0?I[F]:s[A||F]},c=function(I,F){var A=typeof F?.composedPath=="function"?F.composedPath():void 0;return i.containerGroups.findIndex(function(k){var L=k.container,N=k.tabbableNodes;return L.contains(I)||A?.includes(L)||N.find(function(B){return B===I})})},u=function(I){var F=s[I];if(typeof F=="function"){for(var A=arguments.length,k=new Array(A>1?A-1:0),L=1;L<A;L++)k[L-1]=arguments[L];F=F.apply(void 0,k)}if(F===!0&&(F=void 0),!F){if(F===void 0||F===!1)return F;throw new Error("`".concat(I,"` was specified but was not a node, or did not return a node"))}var N=F;if(typeof F=="string"&&(N=n.querySelector(F),!N))throw new Error("`".concat(I,"` as selector refers to no known node"));return N},d=function(){var I=u("initialFocus");if(I===!1)return!1;if(I===void 0||!Am(I,s.tabbableOptions))if(c(n.activeElement)>=0)I=n.activeElement;else{var F=i.tabbableGroups[0],A=F&&F.firstTabbableNode;I=A||u("fallbackFocus")}if(!I)throw new Error("Your focus-trap needs to have at least one focusable element");return I},f=function(){if(i.containerGroups=i.containers.map(function(I){var F=Bx(I,s.tabbableOptions),A=Mx(I,s.tabbableOptions),k=F.length>0?F[0]:void 0,L=F.length>0?F[F.length-1]:void 0,N=A.find(function(E){return Ei(E)}),B=A.slice().reverse().find(function(E){return Ei(E)}),j=!!F.find(function(E){return Za(E)>0});return{container:I,tabbableNodes:F,focusableNodes:A,posTabIndexesFound:j,firstTabbableNode:k,lastTabbableNode:L,firstDomTabbableNode:N,lastDomTabbableNode:B,nextTabbableNode:function($){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,O=F.indexOf($);return O<0?M?A.slice(A.indexOf($)+1).find(function(G){return Ei(G)}):A.slice(0,A.indexOf($)).reverse().find(function(G){return Ei(G)}):F[O+(M?1:-1)]}}}),i.tabbableGroups=i.containerGroups.filter(function(I){return I.tabbableNodes.length>0}),i.tabbableGroups.length<=0&&!u("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(i.containerGroups.find(function(I){return I.posTabIndexesFound})&&i.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function D(I){var F=I.activeElement;if(F)return F.shadowRoot&&F.shadowRoot.activeElement!==null?D(F.shadowRoot):F},p=function D(I){if(I!==!1&&I!==m(document)){if(!I||!I.focus){D(d());return}I.focus({preventScroll:!!s.preventScroll}),i.mostRecentlyFocusedNode=I,p9(I)&&I.select()}},h=function(I){var F=u("setReturnFocus",I);return F||(F===!1?!1:I)},g=function(I){var F=I.target,A=I.event,k=I.isBackward,L=k===void 0?!1:k;F=F||uf(A),f();var N=null;if(i.tabbableGroups.length>0){var B=c(F,A),j=B>=0?i.containerGroups[B]:void 0;if(B<0)L?N=i.tabbableGroups[i.tabbableGroups.length-1].lastTabbableNode:N=i.tabbableGroups[0].firstTabbableNode;else if(L){var E=s2(i.tabbableGroups,function(U){var z=U.firstTabbableNode;return F===z});if(E<0&&(j.container===F||Am(F,s.tabbableOptions)&&!Ei(F,s.tabbableOptions)&&!j.nextTabbableNode(F,!1))&&(E=B),E>=0){var $=E===0?i.tabbableGroups.length-1:E-1,M=i.tabbableGroups[$];N=Za(F)>=0?M.lastTabbableNode:M.lastDomTabbableNode}else Hc(A)||(N=j.nextTabbableNode(F,!1))}else{var O=s2(i.tabbableGroups,function(U){var z=U.lastTabbableNode;return F===z});if(O<0&&(j.container===F||Am(F,s.tabbableOptions)&&!Ei(F,s.tabbableOptions)&&!j.nextTabbableNode(F))&&(O=B),O>=0){var G=O===i.tabbableGroups.length-1?0:O+1,W=i.tabbableGroups[G];N=Za(F)>=0?W.firstTabbableNode:W.firstDomTabbableNode}else Hc(A)||(N=j.nextTabbableNode(F))}}else N=u("fallbackFocus");return N},b=function(I){var F=uf(I);if(!(c(F,I)>=0)){if(Wc(s.clickOutsideDeactivates,I)){a.deactivate({returnFocus:s.returnFocusOnDeactivate});return}Wc(s.allowOutsideClick,I)||I.preventDefault()}},C=function(I){var F=uf(I),A=c(F,I)>=0;if(A||F instanceof Document)A&&(i.mostRecentlyFocusedNode=F);else{I.stopImmediatePropagation();var k,L=!0;if(i.mostRecentlyFocusedNode)if(Za(i.mostRecentlyFocusedNode)>0){var N=c(i.mostRecentlyFocusedNode),B=i.containerGroups[N].tabbableNodes;if(B.length>0){var j=B.findIndex(function(E){return E===i.mostRecentlyFocusedNode});j>=0&&(s.isKeyForward(i.recentNavEvent)?j+1<B.length&&(k=B[j+1],L=!1):j-1>=0&&(k=B[j-1],L=!1))}}else i.containerGroups.some(function(E){return E.tabbableNodes.some(function($){return Za($)>0})})||(L=!1);else L=!1;L&&(k=g({target:i.mostRecentlyFocusedNode,isBackward:s.isKeyBackward(i.recentNavEvent)})),p(k||i.mostRecentlyFocusedNode||d())}i.recentNavEvent=void 0},y=function(I){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i.recentNavEvent=I;var A=g({event:I,isBackward:F});A&&(Hc(I)&&I.preventDefault(),p(A))},v=function(I){if(h9(I)&&Wc(s.escapeDeactivates,I)!==!1){I.preventDefault(),a.deactivate();return}(s.isKeyForward(I)||s.isKeyBackward(I))&&y(I,s.isKeyBackward(I))},x=function(I){var F=uf(I);c(F,I)>=0||Wc(s.clickOutsideDeactivates,I)||Wc(s.allowOutsideClick,I)||(I.preventDefault(),I.stopImmediatePropagation())},_=function(){if(i.active)return r2.activateTrap(r,a),i.delayInitialFocusTimer=s.delayInitialFocus?n2(function(){p(d())}):p(d()),n.addEventListener("focusin",C,!0),n.addEventListener("mousedown",b,{capture:!0,passive:!1}),n.addEventListener("touchstart",b,{capture:!0,passive:!1}),n.addEventListener("click",x,{capture:!0,passive:!1}),n.addEventListener("keydown",v,{capture:!0,passive:!1}),a},w=function(){if(i.active)return n.removeEventListener("focusin",C,!0),n.removeEventListener("mousedown",b,!0),n.removeEventListener("touchstart",b,!0),n.removeEventListener("click",x,!0),n.removeEventListener("keydown",v,!0),a},T=function(I){var F=I.some(function(A){var k=Array.from(A.removedNodes);return k.some(function(L){return L===i.mostRecentlyFocusedNode})});F&&p(d())},S=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(T):void 0,R=function(){S&&(S.disconnect(),i.active&&!i.paused&&i.containers.map(function(I){S.observe(I,{subtree:!0,childList:!0})}))};return a={get active(){return i.active},get paused(){return i.paused},activate:function(I){if(i.active)return this;var F=l(I,"onActivate"),A=l(I,"onPostActivate"),k=l(I,"checkCanFocusTrap");k||f(),i.active=!0,i.paused=!1,i.nodeFocusedBeforeActivation=n.activeElement,F?.();var L=function(){k&&f(),_(),R(),A?.()};return k?(k(i.containers.concat()).then(L,L),this):(L(),this)},deactivate:function(I){if(!i.active)return this;var F=o2({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},I);clearTimeout(i.delayInitialFocusTimer),i.delayInitialFocusTimer=void 0,w(),i.active=!1,i.paused=!1,R(),r2.deactivateTrap(r,a);var A=l(F,"onDeactivate"),k=l(F,"onPostDeactivate"),L=l(F,"checkCanReturnFocus"),N=l(F,"returnFocus","returnFocusOnDeactivate");A?.();var B=function(){n2(function(){N&&p(h(i.nodeFocusedBeforeActivation)),k?.()})};return N&&L?(L(h(i.nodeFocusedBeforeActivation)).then(B,B),this):(B(),this)},pause:function(I){if(i.paused||!i.active)return this;var F=l(I,"onPause"),A=l(I,"onPostPause");return i.paused=!0,F?.(),w(),R(),A?.(),this},unpause:function(I){if(!i.paused||!i.active)return this;var F=l(I,"onUnpause"),A=l(I,"onPostUnpause");return i.paused=!1,F?.(),f(),_(),R(),A?.(),this},updateContainerElements:function(I){var F=[].concat(I).filter(Boolean);return i.containers=F.map(function(A){return typeof A=="string"?n.querySelector(A):A}),i.active&&f(),R(),this}},a.updateContainerElements(e),a};var y9=function(t,e){var o={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(o[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(o[n[r]]=t[n[r]]);return o},us="modal-item",l2=(t,e)=>n=>{let r=ie(),s=a2(null),[i,a]=Ub(!1),l=a2(!1),[c,u]=Ub(null),{modalState:d,classPrefix:f,containerRef:m,transTime:p,setCloseOnBlur:h,setBodyScrollLock:g,openModal:b}=r,{className:C,htmlElement:y="dialog",slug:v="",closeOnBlur:x=!0,lockBodyScroll:_=!0,classPrefix:w,onEnter:T,onEntering:S,onEntered:R,onExit:D,onExiting:I,onExited:F,openOnInit:A,trapFocus:k=!0,focusTrapOptions:L={}}=n,N=y9(n,["className","htmlElement","slug","closeOnBlur","lockBodyScroll","classPrefix","onEnter","onEntering","onEntered","onExit","onExiting","onExited","openOnInit","trapFocus","focusTrapOptions"]),B=w||f,j=e||v,E=d[j]&&d[j].isOpen;Oi(()=>{if(k){let O=s.current;if(l.current===!1&&O){let G=i2(O,Object.assign(Object.assign({},L),{fallbackFocus:L?.fallbackFocus||O,allowOutsideClick:typeof L.allowOutsideClick<"u"?L.allowOutsideClick:!0}));u(G),l.current=!0}}},[k,i,L]),Oi(()=>{a(!0)},[]),Oi(()=>(c&&(E?c.activate():c.deactivate()),()=>{c&&c.deactivate()}),[E,c]),Oi(()=>{E&&h(x)},[E,x,h]),Oi(()=>{let O=s.current;return O&&g(!!(E&&_),O),()=>{O&&g(!1,O)}},[E,_,g]);let[$,M]=Ub(E);if(Oi(()=>{E?M(E):setTimeout(()=>M(!1),p)},[E,p]),Oi(()=>{A&&b(j)},[j,A,b]),m.current){let O=B?`${B}__${us}`:us,G=[O,`${O}--slug-${j}`,C].filter(Boolean).join(" "),W=Object.assign({role:y!=="dialog"?"dialog":void 0,open:y==="dialog"?$||E:void 0,"aria-modal":!0,"aria-label":N["aria-labelledby"]?void 0:j},N);return C9.createPortal(Hb(zc,{nodeRef:s,timeout:p,in:E,classNames:cf(O),appear:!0,onEnter:T,onEntering:S,onEntered:R,onExit:D,onExiting:I,onExited:F,children:Hb(y,Object.assign({ref:s,id:N?.id||j,className:G},W,{children:Hb(t,Object.assign({},n,{isOpen:E,modal:r}))}))}),m.current)}return null};import{jsx as c2}from"react/jsx-runtime";import{Fragment as u2}from"react";var x9=t=>{let{children:e}=t;return e?typeof e=="function"?c2(u2,{children:e(t)}):c2(u2,{children:e}):null},wr=l2(x9);import{jsx as d2}from"react/jsx-runtime";var w9=function(t,e){var o={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(o[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(o[n[r]]=t[n[r]]);return o},ds="modal-container",Xb=t=>{let{oneModalIsOpen:e,classPrefix:o,transTime:n,setContainerRef:r,containerRef:s,closeAllModals:i,closeOnBlur:a}=ie(),{className:l,htmlElement:c="div",children:u,onClick:d}=t,f=w9(t,["className","htmlElement","children","onClick"]),m=o?`${o}__${ds}`:ds,p=[m,l].filter(Boolean).join(" "),h=Object.assign(Object.assign({},f),{onClick:g=>{a&&i(),typeof d=="function"&&d(g)}});return d2(zc,{nodeRef:s,in:e,timeout:n,classNames:cf(m),appear:!0,children:d2(c,Object.assign({className:p,ref:r},h,{children:u&&u}))})};import{jsx as v2,jsxs as A9}from"react/jsx-runtime";import{Fragment as P9,useState as pf,useRef as y2,useEffect as hf,useCallback as Js,useReducer as E9}from"react";function S9(t){if(Array.isArray(t)){for(var e=0,o=Array(t.length);e<t.length;e++)o[e]=t[e];return o}else return Array.from(t)}var Yb=!1;typeof window<"u"&&(Zb={get passive(){Yb=!0}},window.addEventListener("testPassive",null,Zb),window.removeEventListener("testPassive",null,Zb));var Zb,df=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),Gi=[],mf=!1,m2=-1,Uc=void 0,Vi=void 0,Xc=void 0,f2=function(e){return Gi.some(function(o){return!!(o.options.allowTouchMove&&o.options.allowTouchMove(e))})},ff=function(e){var o=e||window.event;return f2(o.target)||o.touches.length>1?!0:(o.preventDefault&&o.preventDefault(),!1)},I9=function(e){if(Xc===void 0){var o=!!e&&e.reserveScrollBarGap===!0,n=window.innerWidth-document.documentElement.clientWidth;if(o&&n>0){var r=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);Xc=document.body.style.paddingRight,document.body.style.paddingRight=r+n+"px"}}Uc===void 0&&(Uc=document.body.style.overflow,document.body.style.overflow="hidden")},_9=function(){Xc!==void 0&&(document.body.style.paddingRight=Xc,Xc=void 0),Uc!==void 0&&(document.body.style.overflow=Uc,Uc=void 0)},T9=function(){return window.requestAnimationFrame(function(){if(Vi===void 0){Vi={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,o=e.scrollY,n=e.scrollX,r=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-o,document.body.style.left=-n,setTimeout(function(){return window.requestAnimationFrame(function(){var s=r-window.innerHeight;s&&o>=r&&(document.body.style.top=-(o+s))})},300)}})},F9=function(){if(Vi!==void 0){var e=-parseInt(document.body.style.top,10),o=-parseInt(document.body.style.left,10);document.body.style.position=Vi.position,document.body.style.top=Vi.top,document.body.style.left=Vi.left,window.scrollTo(o,e),Vi=void 0}},R9=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},D9=function(e,o){var n=e.targetTouches[0].clientY-m2;return f2(e.target)?!1:o&&o.scrollTop===0&&n>0||R9(o)&&n<0?ff(e):(e.stopPropagation(),!0)},p2=function(e,o){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!Gi.some(function(r){return r.targetElement===e})){var n={targetElement:e,options:o||{}};Gi=[].concat(S9(Gi),[n]),df?T9():I9(o),df&&(e.ontouchstart=function(r){r.targetTouches.length===1&&(m2=r.targetTouches[0].clientY)},e.ontouchmove=function(r){r.targetTouches.length===1&&D9(r,e)},mf||(document.addEventListener("touchmove",ff,Yb?{passive:!1}:void 0),mf=!0))}};var h2=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}Gi=Gi.filter(function(o){return o.targetElement!==e}),df&&(e.ontouchstart=null,e.ontouchmove=null,mf&&Gi.length===0&&(document.removeEventListener("touchmove",ff,Yb?{passive:!1}:void 0),mf=!1)),df?F9():_9()};var g2=({classPrefix:t,zIndex:e})=>{let o=t?`${t}__`:"";return`
    .${o}${ds} {
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      position: fixed;
      pointer-events: none;
      visibility: hidden;
      z-index: -1;
    }

    .${o}${ds}--appear,
    .${o}${ds}--appearDone,
    .${o}${ds}--enter,
    .${o}${ds}--enterDone,
    .${o}${ds}--exit {
      pointer-events: all;
      visibility: visible;
      z-index: ${e};
    }

    .${o}${us} {
      position: absolute;
      visibility: hidden;
    }

    .${o}${us}--appear,
    .${o}${us}--appearDone,
    .${o}${us}--enter,
    .${o}${us}--enterDone,
    .${o}${us}--exit {
      visibility: visible;
    }
  `};var b2=(t,e)=>{let o=Object.assign({},t),{type:n,payload:r}=e;switch(n){case"UPDATE_MODAL":{let{slug:s}=r;s&&(o[s]=Object.assign(Object.assign({},o[s]),r));break}case"OPEN_MODAL":{let{slug:s}=r;s&&(s in o&&o[s].isOpen||(o[s]=Object.assign(Object.assign({},o[s]),{slug:s,openedOn:Date.now(),isOpen:!0})));break}case"TOGGLE_MODAL":{let{slug:s}=r;if(s){let i=s in o&&o[s].isOpen;o[s]=Object.assign(Object.assign({},o[s]),{slug:s,openedOn:i?void 0:Date.now(),isOpen:!i})}break}case"CLOSE_MODAL":{let{slug:s}=r;s&&(o[s]=Object.assign(Object.assign({},o[s]),{slug:s,openedOn:void 0,isOpen:!1}));break}case"REMOVE_MODAL":{let{slug:s}=r;s&&s in o&&delete o[s];break}case"CLOSE_LATEST_MODAL":{let s=Object.keys(o).reduce((i,a)=>{let l=o[a];return l.isOpen&&typeof l.openedOn=="number"&&(!i||typeof i.openedOn=="number"&&l.openedOn>i.openedOn)?l:i},void 0);s&&(o[s.slug]=Object.assign(Object.assign({},o[s.slug]),{isOpen:!1,openedOn:void 0}));break}case"CLOSE_ALL_MODALS":{o=Object.entries(o).reduce((s,[i,a])=>(s[i]=Object.assign(Object.assign({},a),{isOpen:!1,openedOn:void 0}),s),{});break}default:break}return o};var N9=()=>{if(typeof window<"u")return new URLSearchParams(window.location.search)},L9=()=>{let t=N9(),e=[];if(t){let o=t.get("modal");o&&(o.includes(",")?e=o.split(","):e=[o])}return e},Jb=t=>{let{classPrefix:e,minifyCSS:o=!0,generateCSS:n=!0,zIndex:r=9999,handleParamChange:s,children:i,transTime:a=250}=t,l=y2(null),[c,u]=E9(b2,{},()=>L9().reduce((k,L)=>(k[L]={slug:L,isOpen:!0,openedOn:Date.now()},k),{})),[d,f]=pf(!1),[m,p]=pf(!1),[h,g]=pf(!1),[b,C]=pf(""),y=y2(!1),v=Js(F=>{F.keyCode===27&&u({type:"CLOSE_LATEST_MODAL"})},[]);hf(()=>(y.current||(document.addEventListener("keydown",F=>v(F),!1),y.current=!0),()=>{y.current&&document.removeEventListener("keydown",F=>v(F),!1)}),[v]),hf(()=>{if(n){let F="";F=g2({classPrefix:e,zIndex:r}),o&&(F=F.replace(/\n/g,"").replace(/\s\s+/g," ")),C(F)}},[n,o,r,e]),hf(()=>{if(typeof s=="function"&&s(c),typeof s=="boolean"&&s){let F=Object.keys(c).filter(N=>c[N].isOpen),A=new URLSearchParams;for(let N of F)A.append("modal",N);let k=A.toString()?`?${A}`:"",L=`${window.location.pathname}${k}`;window.history.pushState({},"",L)}},[c,s]),hf(()=>{let F=Object.keys(c).some(A=>c[A].isOpen);f(F)},[c]);let x=Js((F,A)=>{A&&(F?(p2(A),g(!0)):(h2(A),g(!1)))},[]),_=Js(F=>{l.current=F},[]),w=Js(F=>{u({type:"OPEN_MODAL",payload:{slug:F}})},[]),T=Js(F=>{u({type:"CLOSE_MODAL",payload:{slug:F}})},[]),S=Js(()=>{u({type:"CLOSE_ALL_MODALS"})},[]),R=Js(F=>{u({type:"TOGGLE_MODAL",payload:{slug:F}})},[]),D=Js(F=>c[F]&&c[F].isOpen,[c]),I=Object.assign({},t);return delete I.children,A9(P9,{children:[n&&v2("style",{dangerouslySetInnerHTML:{__html:b}}),v2(lf.Provider,{value:Object.assign(Object.assign({},I),{transTime:a,containerRef:l,modalState:c,oneModalIsOpen:d,isModalOpen:D,closeOnBlur:m,bodyScrollIsLocked:h,classPrefix:e,closeAllModals:S,setCloseOnBlur:p,openModal:w,closeModal:T,toggleModal:R,setBodyScrollLock:x,setContainerRef:_}),children:i})]})};import{usePathname as J9,useRouter as q9}from"next/navigation.js";import{formatAdminURL as zi}from"payload/shared";import*as S2 from"qs-esm";import vf,{createContext as Q9,use as K9,useCallback as Wi,useEffect as yf,useState as ll}from"react";import{c as H9}from"react/compiler-runtime";import{jsx as U9}from"react/jsx-runtime";import{useRouter as X9}from"next/navigation.js";import{formatAdminURL as Z9}from"payload/shared";import"react";import{c as z9}from"react/compiler-runtime";import{jsx as qc,jsxs as Kb}from"react/jsx-runtime";import W9 from"react";import{c as qb}from"react/compiler-runtime";import{jsx as ms,jsxs as gf}from"react/jsx-runtime";import{createContext as B9,use as M9,useLayoutEffect as O9,useState as V9}from"react";import{jsx as k9}from"react/jsx-runtime";import"react";var Zc="gutter",To=t=>{let{children:e,className:o,left:n=!0,negativeLeft:r=!1,negativeRight:s=!1,ref:i,right:a=!0}=t,l=n&&!r,c=a&&!s;return k9("div",{className:[Zc,l&&`${Zc}--left`,c&&`${Zc}--right`,r&&`${Zc}--negative-left`,s&&`${Zc}--negative-right`,o].filter(Boolean).join(" "),ref:i,children:e})};import{c as j9}from"react/compiler-runtime";import{useId as $9}from"react";var Yc=t=>{let e=j9(3),o=$9(),n=dt(),r=`${t}-${o}`,s;return e[0]!==n||e[1]!==r?(s=Jc({slug:r,depth:n}),e[0]=n,e[1]=r,e[2]=s):s=e[2],s};var mn="drawer",Qb=100,Jc=({slug:t,depth:e})=>`drawer_${e}_${t}`,fs=t=>{let e=qb(4),{slug:o,children:n,className:r,disabled:s,onClick:i,...a}=t,{openModal:l}=ie(),c;return e[0]!==i||e[1]!==l||e[2]!==o?(c=d=>{l(o),typeof i=="function"&&i(d)},e[0]=i,e[1]=l,e[2]=o,e[3]=c):c=e[3],ms("button",{className:r,disabled:s,onClick:c,type:"button",...a,children:n})},St=t=>{let e=qb(22),{slug:o,children:n,className:r,gutter:s,Header:i,hoverTitle:a,title:l}=t,c=s===void 0?!0:s,{t:u}=P(),{closeModal:d,modalState:f}=ie(),m=Wr(),p=!!f[o]?.isOpen,[h,g]=V9(p),b,C;if(e[0]!==p?(b=()=>{g(p)},C=[p],e[0]=p,e[1]=b,e[2]=C):(b=e[1],C=e[2]),O9(b,C),p){let y=h&&`${mn}--is-open`,v=m>1&&`${mn}--nested`,x;e[3]!==r||e[4]!==y||e[5]!==v?(x=[r,mn,y,v].filter(Boolean),e[3]=r,e[4]=y,e[5]=v,e[6]=x):x=e[6];let _=x.join(" "),w=Qb+m,T;if(e[7]!==i||e[8]!==n||e[9]!==d||e[10]!==m||e[11]!==c||e[12]!==a||e[13]!==o||e[14]!==u||e[15]!==_||e[16]!==w||e[17]!==l){let S;e[19]!==d||e[20]!==o?(S=()=>d(o),e[19]=d,e[20]=o,e[21]=S):S=e[21],T=ms(G9,{children:gf(wr,{className:_,closeOnBlur:!1,slug:o,style:{zIndex:w},children:[(!m||m===1)&&ms("div",{className:`${mn}__blur-bg`}),ms("button",{"aria-label":u("general:close"),className:`${mn}__close`,id:`close-drawer__${o}`,onClick:S,type:"button"}),gf("div",{className:`${mn}__content`,style:{width:`calc(100% - (${m} * var(--gutter-h)))`},children:[ms("div",{className:`${mn}__blur-bg-content`}),gf(To,{className:`${mn}__content-children`,left:c,right:c,children:[i,i===void 0&&gf("div",{className:`${mn}__header`,children:[ms("h2",{className:`${mn}__header__title`,title:a?l:null,children:l}),ms("button",{"aria-label":u("general:close"),className:`${mn}__header__close`,id:`close-drawer__${o}`,onClick:()=>d(o),type:"button",children:ms(yt,{})})]}),n]})]})]})}),e[7]=i,e[8]=n,e[9]=d,e[10]=m,e[11]=c,e[12]=a,e[13]=o,e[14]=u,e[15]=_,e[16]=w,e[17]=l,e[18]=T}else T=e[18];return T}return null},C2=B9(1),G9=t=>{let e=qb(3),{children:o}=t,r=Wr()+1,s;return e[0]!==o||e[1]!==r?(s=ms(C2,{value:r,children:o}),e[0]=o,e[1]=r,e[2]=s):s=e[2],s},Wr=()=>M9(C2);var bf="confirmation-modal";function et(t){let e=z9(25),{body:o,cancelLabel:n,className:r,confirmingLabel:s,confirmLabel:i,heading:a,modalSlug:l,onCancel:c,onConfirm:u}=t,d=Wr(),[f,m]=W9.useState(!1),{closeModal:p,isModalOpen:h}=ie(),{t:g}=P(),b;e[0]!==p||e[1]!==f||e[2]!==l||e[3]!==u?(b=async()=>{f||(m(!0),typeof u=="function"&&await u(),m(!1),p(l))},e[0]=p,e[1]=f,e[2]=l,e[3]=u,e[4]=b):b=e[4];let C=b,y;e[5]!==p||e[6]!==f||e[7]!==l||e[8]!==c?(y=()=>{f||(p(l),typeof c=="function"&&c())},e[5]=p,e[6]=f,e[7]=l,e[8]=c,e[9]=y):y=e[9];let v=y;if(!h(l))return null;let x;e[10]!==r?(x=[bf,r].filter(Boolean),e[10]=r,e[11]=x):x=e[11];let _=x.join(" "),w=Qb+d,T;return e[12]!==o||e[13]!==n||e[14]!==i||e[15]!==f||e[16]!==s||e[17]!==a||e[18]!==l||e[19]!==v||e[20]!==C||e[21]!==g||e[22]!==_||e[23]!==w?(T=qc(wr,{className:_,closeOnBlur:!1,slug:l,style:{zIndex:w},children:Kb("div",{className:`${bf}__wrapper`,children:[Kb("div",{className:`${bf}__content`,children:[typeof a=="string"?qc("h1",{children:a}):a,typeof o=="string"?qc("p",{children:o}):o]}),Kb("div",{className:`${bf}__controls`,children:[qc(K,{buttonStyle:"secondary",disabled:f,id:"confirm-cancel",onClick:v,size:"large",type:"button",children:n||g("general:cancel")}),qc(K,{id:"confirm-action",onClick:C,size:"large",children:f?s||`${g("general:loading")}...`:i||g("general:confirm")})]})]})}),e[12]=o,e[13]=n,e[14]=i,e[15]=f,e[16]=s,e[17]=a,e[18]=l,e[19]=v,e[20]=C,e[21]=g,e[22]=_,e[23]=w,e[24]=T):T=e[24],T}var e1="stay-logged-in",x2=()=>{let t=H9(11),{refreshCookie:e}=Se(),o=X9(),{config:n}=H(),{admin:r,routes:s}=n,{routes:i}=r,{logout:a}=i,{admin:l}=s,{t:c}=P(),{startRouteTransition:u}=Xe(),d;t[0]!==l||t[1]!==a||t[2]!==o||t[3]!==u?(d=()=>u(()=>o.push(Z9({adminRoute:l,path:a}))),t[0]=l,t[1]=a,t[2]=o,t[3]=u,t[4]=d):d=t[4];let f=d,m;t[5]!==e?(m=()=>{e()},t[5]=e,t[6]=m):m=t[6];let p=m,h;return t[7]!==p||t[8]!==f||t[9]!==c?(h=U9(et,{body:c("authentication:youAreInactive"),cancelLabel:c("authentication:stayLoggedIn"),confirmLabel:c("authentication:logOut"),heading:c("authentication:stayLoggedIn"),modalSlug:e1,onCancel:p,onConfirm:f}),t[7]=p,t[8]=f,t[9]=c,t[10]=h):h=t[10],h};import*as w2 from"qs-esm";var Ge={delete:(t,e={headers:{}})=>{let o=e&&e.headers?{...e.headers}:{},n={...e,credentials:"include",headers:{...o},method:"delete"};return fetch(t,n)},get:(t,e={headers:{}})=>{let o="";return e.params&&(o=w2.stringify(e.params,{addQueryPrefix:!0})),fetch(`${t}${o}`,{credentials:"include",...e})},patch:(t,e={headers:{}})=>{let o=e&&e.headers?{...e.headers}:{},n={...e,credentials:"include",headers:{...o},method:"PATCH"};return fetch(t,n)},post:(t,e={headers:{}})=>{let o=e&&e.headers?{...e.headers}:{},n={...e,credentials:"include",headers:{...o},method:"post"};return fetch(`${t}`,n)},put:(t,e={headers:{}})=>{let o=e&&e.headers?{...e.headers}:{},n={...e,credentials:"include",headers:{...o},method:"put"};return fetch(t,n)}};var I2=Q9({}),ek=2147483647;function t1({children:t,permissions:e,user:o}){let n=J9(),r=q9(),{config:s}=H(),{admin:{autoLogin:i,autoRefresh:a,routes:{inactivity:l},user:c},routes:{admin:u,api:d}}=s,{i18n:f}=P(),{closeAllModals:m,openModal:p}=ie(),{startRouteTransition:h}=Xe(),[g,b]=ll(o),[C,y]=ll(),[v,x]=ll(),[_,w]=ll(e),[T,S]=ll(12e4),[R,D]=ll(!1),I=vf.useRef(null),F=vf.useRef(null),A=vf.useRef(null),k=g?.id,L=Wi(()=>{let z=zi({adminRoute:u,path:""});h(()=>r.replace(zi({adminRoute:u,path:`${l}${window.location.pathname.startsWith(z)?`?redirect=${encodeURIComponent(window.location.pathname)}`:""}`}))),m()},[r,u,l,m,h]),N=Wi(()=>{b(null),y(void 0),x(void 0),clearTimeout(I.current)},[]),B=Je(()=>{a?W():p(e1)}),j=Wi(z=>{if(clearTimeout(F.current),clearTimeout(A.current),z?.user){b(z.user),y(z.token),x(z.exp*1e3);let J=Math.max(0,Math.min((z.exp??0)*1e3-Date.now(),ek));if(J){let Z=Math.min(6e4,J/2);S(Z),F.current=setTimeout(B,Math.max(J-Z,0)),A.current=setTimeout(()=>{N(),L()},J)}}else N()},[L,N]),E=Wi(z=>{if(!k)return;let J=Math.max(0,(v??0)-Date.now());(z||v&&J<T*2)&&(clearTimeout(I.current),I.current=setTimeout(async()=>{try{let Z=await Ge.post(zi({apiRoute:d,path:`/${c}/refresh-token?refresh`}),{headers:{"Accept-Language":f.language}});if(Z.status===200){let X=await Z.json();j(X)}else j(null),L()}catch(Z){oe.error(Z.message)}},1e3))},[d,f.language,L,j,v,c,T,k]),$=Wi(async z=>{try{let J=await Ge.post(zi({apiRoute:d,path:`/${c}/refresh-token`}),{headers:{"Accept-Language":f.language}});if(J.status===200){let Z=await J.json();return z||j(Z),Z.user}g&&(j(null),L())}catch(J){oe.error(`Refreshing token failed: ${J.message}`)}return null},[d,f.language,L,j,c,g]),M=Wi(async()=>{try{g&&g.collection&&(j(null),await Ge.post(zi({apiRoute:d,path:`/${g.collection}/logout`})))}catch{}return!0},[d,j,g]),O=Wi(async({locale:z}={})=>{let J=S2.stringify({locale:z},{addQueryPrefix:!0});try{let Z=await Ge.get(zi({apiRoute:d,path:`/access${J}`}),{headers:{"Accept-Language":f.language}});if(Z.status===200){let X=await Z.json();w(X)}else throw new Error(`Fetching permissions failed with status code ${Z.status}`)}catch(Z){oe.error(`Refreshing permissions failed: ${Z.message}`)}},[d,f]),G=vf.useCallback(async()=>{try{let z=await Ge.get(zi({apiRoute:d,path:`/${c}/me`}),{credentials:"include",headers:{"Accept-Language":f.language}});if(z.status===200){let J=await z.json();return j(J),J?.user||null}}catch(z){oe.error(`Fetching user failed: ${z.message}`)}return null},[d,c,f.language,j]),W=Je(E);yf(()=>{W()},[n]);let U=Je(G);return yf(()=>{async function z(){await U(),D(!0)}z()},[]),yf(()=>{!g&&i&&!i.prefillOnly&&U()},[g,i]),yf(()=>()=>{clearTimeout(I.current),clearTimeout(F.current),clearTimeout(A.current)},[]),!g&&!R?null:Y9(I2,{value:{fetchFullUser:G,logOut:M,permissions:_,refreshCookie:E,refreshCookieAsync:$,refreshPermissions:O,setPermissions:w,setUser:j,token:C,tokenExpirationMs:v,user:g},children:t})}var Se=()=>K9(I2);var D2=F2({}),A2=F2({localeIsLoading:!1,setLocaleIsLoading:t=>{}}),ak=async(t,e)=>await fetch(`${e}/payload-preferences/${t}`,{credentials:"include",headers:{"Content-Type":"application/json"},method:"GET"})?.then(o=>o.json()),o1=t=>{let e=tk(28),{children:o,locale:n}=t,{config:r}=H(),{localization:s,routes:i}=r,a=s===void 0?!1:s,{api:l}=i,{user:c}=Se(),u=a?a.defaultLocale:"en",d=ok(),f;e[0]!==d?(f=d.get("locale"),e[0]=d,e[1]=f):f=e[1];let m=f,p;e[2]!==u||e[3]!==n||e[4]!==m||e[5]!==a?(p=()=>!a||a&&!a.locales.length?{}:Ys(a,m)||Ys(a,n)||Ys(a,u)||Ys(a,a.locales[0].code),e[2]=u,e[3]=n,e[4]=m,e[5]=a,e[6]=p):p=e[6];let[h,g]=nk.useState(p),[b,C]=ik(!1),y=sk(h),v,x;e[7]!==h?(v=()=>{h.code!==y.current.code&&C(!1),y.current=h},x=[h],e[7]=h,e[8]=v,e[9]=x):(v=e[8],x=e[9]),T2(v,x);let _;e[10]!==l?(_=rk({apiRoute:l,path:""}),e[10]=l,e[11]=_):_=e[11];let w=_,T;e[12]!==u||e[13]!==w||e[14]!==m||e[15]!==a||e[16]!==c?.id?(T=()=>{(async function(){if(a&&c?.id){let A=m||await ak("locale",w)?.then(lk),k=Ys(a,A)||Ys(a,u)||Ys(a,a?.locales?.[0]?.code);k&&g(k)}})()},e[12]=u,e[13]=w,e[14]=m,e[15]=a,e[16]=c?.id,e[17]=T):T=e[17];let S=c?.id,R;e[18]!==u||e[19]!==w||e[20]!==m||e[21]!==a||e[22]!==S?(R=[u,a,w,m,S],e[18]=u,e[19]=w,e[20]=m,e[21]=a,e[22]=S,e[23]=R):R=e[23],T2(T,R);let D;return e[24]!==o||e[25]!==b||e[26]!==h?(D=_2(D2,{value:h,children:_2(A2,{value:{localeIsLoading:b,setLocaleIsLoading:C},children:o})}),e[24]=o,e[25]=b,e[26]=h,e[27]=D):D=e[27],D},Cf=()=>R2(A2),Ie=()=>R2(D2);function lk(t){return t.value}var xf=(t,e,o)=>{if(t)return`field-${t.replace(/\./g,"__")}${e>1?`-${e}`:""}${o?`-${o}`:""}`};var _e=t=>{let{as:e,hideLocale:o,htmlFor:n,label:r,localized:s,path:i,required:a,unstyled:l}=t,c=e===void 0?"label":e,u=o===void 0?!1:o,d=s===void 0?!1:s,f=a===void 0?!1:a,m=l===void 0?!1:l,{uuid:p}=Oe(),h=dt(),g=n||xf(i,h,p),{i18n:b}=P(),{code:C,label:y}=Ie(),v=c==="label"?g?"label":"span":c||"span";return r?P2(v,{className:`field-label${m?" unstyled":""}`,htmlFor:g,children:[uk(r,b),f&&!m&&ck("span",{className:"required",children:"*"}),d&&!u&&P2("span",{className:"localized",children:["\u2014 ",typeof y=="string"?y:C]})]}):null};var wf=({collapsed:t,rowID:e,rows:o})=>o.reduce((n,r)=>(e===r.id&&(r.collapsed=t),r.collapsed&&n.collapsedIDs.push(r.id),n.updatedRows.push(r),n),{collapsedIDs:[],updatedRows:[]}),Sf=({collapsed:t,rows:e})=>e.reduce((o,n)=>(n.collapsed=t,t&&o.collapsedIDs.push(n.id),o.updatedRows.push(n),o),{collapsedIDs:[],updatedRows:[]});import{c as mj}from"react/compiler-runtime";import{jsx as L3}from"react/jsx-runtime";import*as k3 from"react";import{jsx as iu,jsxs as lj}from"react/jsx-runtime";import{rtlLanguages as cj}from"@payloadcms/translations";import{useCallback as N3,useMemo as uj}from"react";import{c as oj}from"react/compiler-runtime";import b1,{useRef as R3}from"react";import{c as dk}from"react/compiler-runtime";import{useEffect as mk,useRef as fk}from"react";var Hi=(t,e,o)=>{let n=dk(9),r;n[0]!==o?(r=o===void 0?[]:o,n[0]=o,n[1]=r):r=n[1];let s=r,i;n[2]===Symbol.for("react.memo_cache_sentinel")?(i=Date.now(),n[2]=i):i=n[2];let a=fk(i),l;n[3]!==t||n[4]!==e?(l=()=>{let u=setTimeout(()=>{Date.now()-a.current>=e&&(t(),a.current=Date.now())},e-(Date.now()-a.current));return()=>{clearTimeout(u)}},n[3]=t,n[4]=e,n[5]=l):l=n[5];let c;n[6]!==e||n[7]!==s?(c=[e,...s],n[6]=e,n[7]=s,n[8]=c):c=n[8],mk(l,c)};import{jsx as Af}from"react/jsx-runtime";import{formatAdminURL as Xk}from"payload/shared";import*as _3 from"qs-esm";import Zk,{createContext as Yk,use as Jk,useCallback as fl,useEffect as S3,useMemo as qk,useRef as I3,useState as tu}from"react";import{getTranslation as Lk}from"@payloadcms/translations";var pk={},Qc={};function cl(t,e){try{let n=(pk[t]||=new Intl.DateTimeFormat("en-GB",{timeZone:t,hour:"numeric",timeZoneName:"longOffset"}).format)(e).split("GMT")[1]||"";return n in Qc?Qc[n]:E2(n,n.split(":"))}catch{if(t in Qc)return Qc[t];let o=t?.match(hk);return o?E2(t,o.slice(1)):NaN}}var hk=/([+-]\d\d):?(\d\d)?/;function E2(t,e){let o=+e[0],n=+(e[1]||0);return Qc[t]=o>0?o*60+n:o*60-n}var no=class t extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(cl(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),L2(this,NaN),r1(this)):this.setTime(Date.now())}static tz(e,...o){return o.length?new t(...o,e):new t(Date.now(),e)}withTimeZone(e){return new t(+this,e)}getTimezoneOffset(){return-cl(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),r1(this),+this}[Symbol.for("constructDateFrom")](e){return new t(+new Date(e),this.timeZone)}},N2=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!N2.test(t))return;let e=t.replace(N2,"$1UTC");no.prototype[e]&&(t.startsWith("get")?no.prototype[t]=function(){return this.internal[e]()}:(no.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),gk(this),+this},no.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),r1(this),+this}))});function r1(t){t.internal.setTime(+t),t.internal.setUTCMinutes(t.internal.getUTCMinutes()-t.getTimezoneOffset())}function gk(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),L2(t)}function L2(t){let e=cl(t.timeZone,t),o=new Date(+t);o.setUTCHours(o.getUTCHours()-1);let n=-new Date(+t).getTimezoneOffset(),r=-new Date(+o).getTimezoneOffset(),s=n-r,i=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();s&&i&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+s);let a=n-e;a&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+a);let l=cl(t.timeZone,t),u=-new Date(+t).getTimezoneOffset()-l,d=l!==e,f=u-a;if(d&&f){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+f);let m=cl(t.timeZone,t),p=l-m;p&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+p),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+p))}}var bk=Math.pow(10,8)*24*60*60*1e3,Rle=-bk,If=6048e5,k2=864e5;var Kc=43200,n1=1440;var vk=3600;var j2=vk*24,Dle=j2*7,yk=j2*365.2425,Ck=yk/12,Ale=Ck*3,s1=Symbol.for("constructDateFrom");function fo(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&s1 in t?t[s1](e):t instanceof Date?new t.constructor(e):new Date(e)}function it(t,e){return fo(e||t,t)}var xk={};function Ln(){return xk}function ps(t,e){let o=Ln(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0,r=it(t,e?.in),s=r.getDay(),i=(s<n?7:0)+s-n;return r.setDate(r.getDate()-i),r.setHours(0,0,0,0),r}function Ui(t,e){return ps(t,{...e,weekStartsOn:1})}function _f(t,e){let o=it(t,e?.in),n=o.getFullYear(),r=fo(o,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);let s=Ui(r),i=fo(o,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);let a=Ui(i);return o.getTime()>=s.getTime()?n+1:o.getTime()>=a.getTime()?n:n-1}function ul(t){let e=it(t),o=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return o.setUTCFullYear(e.getFullYear()),+t-+o}function kn(t,...e){let o=fo.bind(null,t||e.find(n=>typeof n=="object"));return e.map(o)}function qs(t,e){let o=it(t,e?.in);return o.setHours(0,0,0,0),o}function $2(t,e,o){let[n,r]=kn(o?.in,t,e),s=qs(n),i=qs(r),a=+s-ul(s),l=+i-ul(i);return Math.round((a-l)/k2)}function B2(t,e){let o=_f(t,e),n=fo(e?.in||t,0);return n.setFullYear(o,0,4),n.setHours(0,0,0,0),Ui(n)}function dl(t,e){let o=+it(t)-+it(e);return o<0?-1:o>0?1:o}function Tf(t){return fo(t,Date.now())}function M2(t,e,o){let[n,r]=kn(o?.in,t,e);return+qs(n)==+qs(r)}function O2(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function V2(t){return!(!O2(t)&&typeof t!="number"||isNaN(+it(t)))}function G2(t,e,o){let[n,r]=kn(o?.in,t,e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function z2(t){return e=>{let n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function W2(t,e){return+it(t)-+it(e)}function Ff(t,e){let o=it(t,e?.in);return o.setHours(23,59,59,999),o}function H2(t,e){let o=it(t,e?.in),n=o.getMonth();return o.setFullYear(o.getFullYear(),n+1,0),o.setHours(23,59,59,999),o}function U2(t,e){let o=it(t,e?.in);return+Ff(o,e)==+H2(o,e)}function X2(t,e,o){let[n,r,s]=kn(o?.in,t,t,e),i=dl(r,s),a=Math.abs(G2(r,s));if(a<1)return 0;r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*a);let l=dl(r,s)===-i;U2(n)&&a===1&&dl(n,s)===1&&(l=!1);let c=i*(a-+l);return c===0?0:c}function Z2(t,e,o){let n=W2(t,e)/1e3;return z2(o?.roundingMethod)(n)}function Y2(t,e){let o=it(t,e?.in);return o.setFullYear(o.getFullYear(),0,1),o.setHours(0,0,0,0),o}function J2(t){return Ff(Date.now(),t)}function q2(t,e){let o=it(t,e?.in);return $2(o,Y2(o))+1}function Q2(t,e){let o=it(t,e?.in),n=+Ui(o)-+B2(o);return Math.round(n/If)+1}function Rf(t,e){let o=it(t,e?.in),n=o.getFullYear(),r=Ln(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=fo(e?.in||t,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);let a=ps(i,e),l=fo(e?.in||t,0);l.setFullYear(n,0,s),l.setHours(0,0,0,0);let c=ps(l,e);return+o>=+a?n+1:+o>=+c?n:n-1}function K2(t,e){let o=Ln(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,r=Rf(t,e),s=fo(e?.in||t,0);return s.setFullYear(r,0,n),s.setHours(0,0,0,0),ps(s,e)}function e3(t,e){let o=it(t,e?.in),n=+ps(o,e)-+K2(o,e);return Math.round(n/If)+1}function ht(t,e){let o=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return o+n}var hs={y(t,e){let o=t.getFullYear(),n=o>0?o:1-o;return ht(e==="yy"?n%100:n,e.length)},M(t,e){let o=t.getMonth();return e==="M"?String(o+1):ht(o+1,2)},d(t,e){return ht(t.getDate(),e.length)},a(t,e){let o=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return o.toUpperCase();case"aaa":return o;case"aaaaa":return o[0];case"aaaa":default:return o==="am"?"a.m.":"p.m."}},h(t,e){return ht(t.getHours()%12||12,e.length)},H(t,e){return ht(t.getHours(),e.length)},m(t,e){return ht(t.getMinutes(),e.length)},s(t,e){return ht(t.getSeconds(),e.length)},S(t,e){let o=e.length,n=t.getMilliseconds(),r=Math.trunc(n*Math.pow(10,o-3));return ht(r,e.length)}};var ml={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},i1={G:function(t,e,o){let n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return o.era(n,{width:"abbreviated"});case"GGGGG":return o.era(n,{width:"narrow"});case"GGGG":default:return o.era(n,{width:"wide"})}},y:function(t,e,o){if(e==="yo"){let n=t.getFullYear(),r=n>0?n:1-n;return o.ordinalNumber(r,{unit:"year"})}return hs.y(t,e)},Y:function(t,e,o,n){let r=Rf(t,n),s=r>0?r:1-r;if(e==="YY"){let i=s%100;return ht(i,2)}return e==="Yo"?o.ordinalNumber(s,{unit:"year"}):ht(s,e.length)},R:function(t,e){let o=_f(t);return ht(o,e.length)},u:function(t,e){let o=t.getFullYear();return ht(o,e.length)},Q:function(t,e,o){let n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return ht(n,2);case"Qo":return o.ordinalNumber(n,{unit:"quarter"});case"QQQ":return o.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return o.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,o){let n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return ht(n,2);case"qo":return o.ordinalNumber(n,{unit:"quarter"});case"qqq":return o.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return o.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,o){let n=t.getMonth();switch(e){case"M":case"MM":return hs.M(t,e);case"Mo":return o.ordinalNumber(n+1,{unit:"month"});case"MMM":return o.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return o.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,o){let n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return ht(n+1,2);case"Lo":return o.ordinalNumber(n+1,{unit:"month"});case"LLL":return o.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return o.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,o,n){let r=e3(t,n);return e==="wo"?o.ordinalNumber(r,{unit:"week"}):ht(r,e.length)},I:function(t,e,o){let n=Q2(t);return e==="Io"?o.ordinalNumber(n,{unit:"week"}):ht(n,e.length)},d:function(t,e,o){return e==="do"?o.ordinalNumber(t.getDate(),{unit:"date"}):hs.d(t,e)},D:function(t,e,o){let n=q2(t);return e==="Do"?o.ordinalNumber(n,{unit:"dayOfYear"}):ht(n,e.length)},E:function(t,e,o){let n=t.getDay();switch(e){case"E":case"EE":case"EEE":return o.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return o.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(n,{width:"short",context:"formatting"});case"EEEE":default:return o.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,o,n){let r=t.getDay(),s=(r-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return ht(s,2);case"eo":return o.ordinalNumber(s,{unit:"day"});case"eee":return o.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return o.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(r,{width:"short",context:"formatting"});case"eeee":default:return o.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,o,n){let r=t.getDay(),s=(r-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return ht(s,e.length);case"co":return o.ordinalNumber(s,{unit:"day"});case"ccc":return o.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return o.day(r,{width:"narrow",context:"standalone"});case"cccccc":return o.day(r,{width:"short",context:"standalone"});case"cccc":default:return o.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,o){let n=t.getDay(),r=n===0?7:n;switch(e){case"i":return String(r);case"ii":return ht(r,e.length);case"io":return o.ordinalNumber(r,{unit:"day"});case"iii":return o.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return o.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return o.day(n,{width:"short",context:"formatting"});case"iiii":default:return o.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,o){let r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,o){let n=t.getHours(),r;switch(n===12?r=ml.noon:n===0?r=ml.midnight:r=n/12>=1?"pm":"am",e){case"b":case"bb":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,o){let n=t.getHours(),r;switch(n>=17?r=ml.evening:n>=12?r=ml.afternoon:n>=4?r=ml.morning:r=ml.night,e){case"B":case"BB":case"BBB":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,o){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),o.ordinalNumber(n,{unit:"hour"})}return hs.h(t,e)},H:function(t,e,o){return e==="Ho"?o.ordinalNumber(t.getHours(),{unit:"hour"}):hs.H(t,e)},K:function(t,e,o){let n=t.getHours()%12;return e==="Ko"?o.ordinalNumber(n,{unit:"hour"}):ht(n,e.length)},k:function(t,e,o){let n=t.getHours();return n===0&&(n=24),e==="ko"?o.ordinalNumber(n,{unit:"hour"}):ht(n,e.length)},m:function(t,e,o){return e==="mo"?o.ordinalNumber(t.getMinutes(),{unit:"minute"}):hs.m(t,e)},s:function(t,e,o){return e==="so"?o.ordinalNumber(t.getSeconds(),{unit:"second"}):hs.s(t,e)},S:function(t,e){return hs.S(t,e)},X:function(t,e,o){let n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return o3(n);case"XXXX":case"XX":return Xi(n);case"XXXXX":case"XXX":default:return Xi(n,":")}},x:function(t,e,o){let n=t.getTimezoneOffset();switch(e){case"x":return o3(n);case"xxxx":case"xx":return Xi(n);case"xxxxx":case"xxx":default:return Xi(n,":")}},O:function(t,e,o){let n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+t3(n,":");case"OOOO":default:return"GMT"+Xi(n,":")}},z:function(t,e,o){let n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+t3(n,":");case"zzzz":default:return"GMT"+Xi(n,":")}},t:function(t,e,o){let n=Math.trunc(+t/1e3);return ht(n,e.length)},T:function(t,e,o){return ht(+t,e.length)}};function t3(t,e=""){let o=t>0?"-":"+",n=Math.abs(t),r=Math.trunc(n/60),s=n%60;return s===0?o+String(r):o+String(r)+e+ht(s,2)}function o3(t,e){return t%60===0?(t>0?"-":"+")+ht(Math.abs(t)/60,2):Xi(t,e)}function Xi(t,e=""){let o=t>0?"-":"+",n=Math.abs(t),r=ht(Math.trunc(n/60),2),s=ht(n%60,2);return o+r+e+s}var r3=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},n3=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},wk=(t,e)=>{let o=t.match(/(P+)(p+)?/)||[],n=o[1],r=o[2];if(!r)return r3(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",r3(n,e)).replace("{{time}}",n3(r,e))},s3={p:n3,P:wk};var Sk=/^D+$/,Ik=/^Y+$/,_k=["D","DD","YY","YYYY"];function i3(t){return Sk.test(t)}function a3(t){return Ik.test(t)}function l3(t,e,o){let n=Tk(t,e,o);if(console.warn(n),_k.includes(t))throw new RangeError(n)}function Tk(t,e,o){let n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${o}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var Fk=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Rk=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Dk=/^'([^]*?)'?$/,Ak=/''/g,Pk=/[a-zA-Z]/;function a1(t,e,o){let n=Ln(),r=o?.locale??n.locale??Nc,s=o?.firstWeekContainsDate??o?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=o?.weekStartsOn??o?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=it(t,o?.in);if(!V2(a))throw new RangeError("Invalid time value");let l=e.match(Rk).map(u=>{let d=u[0];if(d==="p"||d==="P"){let f=s3[d];return f(u,r.formatLong)}return u}).join("").match(Fk).map(u=>{if(u==="''")return{isToken:!1,value:"'"};let d=u[0];if(d==="'")return{isToken:!1,value:Ek(u)};if(i1[d])return{isToken:!0,value:u};if(d.match(Pk))throw new RangeError("Format string contains an unescaped latin alphabet character `"+d+"`");return{isToken:!1,value:u}});r.localize.preprocessor&&(l=r.localize.preprocessor(a,l));let c={firstWeekContainsDate:s,weekStartsOn:i,locale:r};return l.map(u=>{if(!u.isToken)return u.value;let d=u.value;(!o?.useAdditionalWeekYearTokens&&a3(d)||!o?.useAdditionalDayOfYearTokens&&i3(d))&&l3(d,e,String(t));let f=i1[d[0]];return f(a,d,r.localize,c)}).join("")}function Ek(t){let e=t.match(Dk);return e?e[1].replace(Ak,"'"):t}function c3(t,e,o){let n=Ln(),r=o?.locale??n.locale??Nc,s=2520,i=dl(t,e);if(isNaN(i))throw new RangeError("Invalid time value");let a=Object.assign({},o,{addSuffix:o?.addSuffix,comparison:i}),[l,c]=kn(o?.in,...i>0?[e,t]:[t,e]),u=Z2(c,l),d=(ul(c)-ul(l))/1e3,f=Math.round((u-d)/60),m;if(f<2)return o?.includeSeconds?u<5?r.formatDistance("lessThanXSeconds",5,a):u<10?r.formatDistance("lessThanXSeconds",10,a):u<20?r.formatDistance("lessThanXSeconds",20,a):u<40?r.formatDistance("halfAMinute",0,a):u<60?r.formatDistance("lessThanXMinutes",1,a):r.formatDistance("xMinutes",1,a):f===0?r.formatDistance("lessThanXMinutes",1,a):r.formatDistance("xMinutes",f,a);if(f<45)return r.formatDistance("xMinutes",f,a);if(f<90)return r.formatDistance("aboutXHours",1,a);if(f<n1){let p=Math.round(f/60);return r.formatDistance("aboutXHours",p,a)}else{if(f<s)return r.formatDistance("xDays",1,a);if(f<Kc){let p=Math.round(f/n1);return r.formatDistance("xDays",p,a)}else if(f<Kc*2)return m=Math.round(f/Kc),r.formatDistance("aboutXMonths",m,a)}if(m=X2(c,l),m<12){let p=Math.round(f/Kc);return r.formatDistance("xMonths",p,a)}else{let p=m%12,h=Math.trunc(m/12);return p<3?r.formatDistance("aboutXYears",h,a):p<9?r.formatDistance("overXYears",h,a):r.formatDistance("almostXYears",h+1,a)}}function u3(t,e){return c3(t,Tf(t),e)}function fn(t,e){let o=Nk(e)?new e(0):fo(e,0);return o.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),o.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),o}function Nk(t){return typeof t=="function"&&t.prototype?.constructor===t}function d3(t,e){return M2(fo(e?.in||t,t),Tf(e?.in||t))}var Hr=({date:t,i18n:e,pattern:o,timezone:n})=>{let r=new no(new Date(t));if(n){let s=no.tz(n),i=r.withTimeZone(n),a=fn(i,s);return e.dateFNS?a1(a,o,{locale:e.dateFNS}):`${e.t("general:loading")}...`}return e.dateFNS?a1(r,o,{locale:e.dateFNS}):`${e.t("general:loading")}...`},l1=({date:t,i18n:e})=>{let o=typeof t=="string"?new Date(t):t;return e?.dateFNS?u3(o,{locale:e.dateFNS}):`${e.t("general:loading")}...`};function c1(t){return typeof t=="object"&&"root"in t}function Df(t,e){for(let o of t)"text"in o&&o.text?e+=o.text:"children"in o||(e+=`[${o.type}]`),"children"in o&&o.children&&(e+=Df(o.children,e));return e}var m3=t=>Array.isArray(t)?t.map(e=>typeof e=="object"&&e!==null?e.id:String(e)).filter(Boolean).join(", "):typeof t=="object"&&t!==null?t.id||"":String(t);var Zo=({collectionConfig:t,data:e,dateFormat:o,fallback:n,globalConfig:r,i18n:s})=>{let i;if(t){let a=t?.admin?.useAsTitle;if(a&&(i=e?.[a],i)){let l=t.fields.find(d=>"name"in d&&d.name===a),c=l?.type==="date",u=l?.type==="relationship";if(c){let d="date"in l.admin&&l?.admin?.date?.displayFormat||o;i=Hr({date:i,i18n:s,pattern:d})||i}u&&(i=m3(e[a]))}}return r&&(i=Lk(r?.label,s)||r?.slug),i&&c1(i)&&(i=Df(i.root.children?.[0]?.children||[],"")),!i&&c1(n)&&(i=Df(n.root.children?.[0]?.children||[],"")),i||(i=typeof n=="string"?n:`[${s.t("general:untitled")}]`),i};import{jsx as kk}from"react/jsx-runtime";import{createContext as jk,use as $k,useEffect as Bk,useState as Mk}from"react";var f3=jk({}),Eo=()=>$k(f3),p3=({children:t})=>{let{id:e,collectionSlug:o,data:n,docConfig:r,globalSlug:s,initialData:i}=Te(),{config:{admin:{dateFormat:a}}}=H(),{i18n:l}=P(),[c,u]=Mk(()=>Zo({collectionConfig:o?r:void 0,data:{...i||{},id:e},dateFormat:a,fallback:e?.toString(),globalConfig:s?r:void 0,i18n:l}));return Bk(()=>{u(Zo({collectionConfig:o?r:void 0,data:{...n,id:e},dateFormat:a,fallback:e?.toString(),globalConfig:s?r:void 0,i18n:l}))},[n,a,l,e,o,r,s]),kk(f3,{value:{setDocumentTitle:u,title:c},children:t})};import{jsx as Ok}from"react/jsx-runtime";import{dequal as h3}from"dequal/lite";import{formatAdminURL as d1}from"payload/shared";import{createContext as Vk,use as Gk,useCallback as g3,useEffect as zk,useRef as m1}from"react";function u1(t,e){let o={...t};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(typeof e[n]=="object"&&!Array.isArray(e[n])&&t[n]?o[n]=u1(t[n],e[n]):o[n]=e[n]);return o}var v3=Vk({}),b3=(t,e)=>({body:JSON.stringify({value:t}),headers:{"Accept-Language":e,"Content-Type":"application/json"}}),f1=({children:t})=>{let e=m1({}),o=m1({}),n=m1({}),{config:r}=H(),{user:s}=Se(),{i18n:i}=P(),{routes:{api:a}}=r;zk(()=>{s||(o.current={})},[s]);let l=g3(async u=>{let d=o.current;if(typeof d[u]<"u")return d[u];let f=new Promise(m=>{(async()=>{let p=await Ge.get(d1({apiRoute:a,path:`/payload-preferences/${u}`}),{credentials:"include",headers:{"Accept-Language":i.language}}),h=null;p.status===200&&(h=(await p.json()).value),o.current[u]=h,m(h)})()});return d[u]=f,f},[i.language,a,o]),c=g3(async(u,d,f=!1)=>{if(f===!1){o.current[u]=d,await Ge.post(d1({apiRoute:a,path:`/payload-preferences/${u}`}),b3(d,i.language));return}let m=d,p=await l(u);if(typeof d=="object"&&typeof p=="object"&&typeof m=="object"){if(p&&(m=u1(p,m)),h3(m,p))return;n.current[u]={...n.current[u],...m}}else{if(m===p)return;n.current[u]=m}let h=async()=>{h3(n.current[u],o.current[u])||(o.current[u]=n.current[u],await Ge.post(d1({apiRoute:a,path:`/payload-preferences/${u}`}),b3(o.current[u],i.language)),delete n.current[u])};setTimeout(()=>{h()})},[a,l,i.language,n]);return e.current.getPreference=l,e.current.setPreference=c,Ok(v3,{value:e.current,children:t})},so=()=>Gk(v3);import{c as Wk}from"react/compiler-runtime";import{jsx as Hk}from"react/jsx-runtime";import p1 from"react";var y3=p1.createContext({getUploadEdits:()=>{},resetUploadEdits:void 0,updateUploadEdits:void 0,uploadEdits:void 0}),h1=t=>{let e=Wk(10),{children:o,initialUploadEdits:n}=t,r;e[0]!==n?(r=n||{},e[0]=n,e[1]=r):r=e[1];let[s,i]=p1.useState(r),a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{i({})},e[2]=a):a=e[2];let l=a,c;e[3]===Symbol.for("react.memo_cache_sentinel")?(c=p=>{i(h=>({...h||{},...p||{}}))},e[3]=c):c=e[3];let u=c,d;e[4]!==s?(d=()=>s,e[4]=s,e[5]=d):d=e[5];let f=d,m;return e[6]!==o||e[7]!==f||e[8]!==s?(m=Hk(y3,{value:{getUploadEdits:f,resetUploadEdits:l,updateUploadEdits:u,uploadEdits:s},children:o}),e[6]=o,e[7]=f,e[8]=s,e[9]=m):m=e[9],m},Zi=()=>p1.use(y3);import{formatAdminURL as x3}from"payload/shared";import*as g1 from"qs-esm";import Uk from"react";var eu=t=>{let{collectionSlug:e,docPermissions:o,globalSlug:n,isEditing:r}=t;return e?!!(r&&o?.update||!r&&o?.create):n?!!o?.update:!1};var C3=({id:t,collectionSlug:e,globalSlug:o})=>!!(o||e&&t);var w3=({id:t,api:e,collectionSlug:o,globalSlug:n,i18n:r,locale:s,permissions:i,setDocPermissions:a,setHasPublishPermission:l,setHasSavePermission:c})=>Uk.useCallback(async u=>{let d={locale:s||void 0},f=u?.id||t,m=C3({id:f,collectionSlug:o,globalSlug:n});if(m){let p=o?`/${o}/access/${f}`:n?`/globals/${n}/access`:null;if(p){let g=await(await fetch(x3({apiRoute:e,path:`${p}${g1.stringify(d,{addQueryPrefix:!0})}`}),{body:JSON.stringify({...u||{},_status:"draft"}),credentials:"include",headers:{"Accept-Language":r.language,"Content-Type":"application/json"},method:"post"})).json(),b=await fetch(x3({apiRoute:e,path:`${p}${g1.stringify(d,{addQueryPrefix:!0})}`}),{body:JSON.stringify({...u||{},_status:"published"}),credentials:"include",headers:{"Accept-Language":r.language,"Content-Type":"application/json"},method:"POST"}).then(C=>C.json());a(g),c(eu({collectionSlug:o,docPermissions:g,globalSlug:n,isEditing:m})),l(b?.update)}}else{let p=o?i?.collections?.[o]:i?.globals?.[n];a(p),c(eu({collectionSlug:o,docPermissions:p,globalSlug:n,isEditing:m}))}},[s,t,o,n,e,r.language,a,c,l,i?.collections,i?.globals]);var T3=Yk({}),Te=()=>Jk(T3),Qk=({children:t,...e})=>{let{id:o,collectionSlug:n,currentEditor:r,docPermissions:s,globalSlug:i,hasPublishedDoc:a,hasPublishPermission:l,hasSavePermission:c,initialData:u,initialState:d,isLocked:f,lastUpdateTime:m,mostRecentVersionIsAutosaved:p,unpublishedVersionCount:h,versionCount:g}=e,[b,C]=nr(s),[y,v]=nr(c),[x,_]=nr(l),{permissions:w}=Se(),{config:{admin:{dateFormat:T},collections:S,routes:{api:R}},getEntityConfig:D}=H(),I=D({collectionSlug:n}),F=D({globalSlug:i}),A=S.some(Be=>Be.slug==="payload-locked-documents"),k=I3(new AbortController),L=I||F,{i18n:N}=P(),{uploadEdits:B}=Zi(),[j,E]=tu(()=>Zo({collectionConfig:I,data:{...u||{},id:o},dateFormat:T,fallback:o?.toString(),globalConfig:F,i18n:N})),[$,M]=tu(p),[O,G]=tu(g),[W,U]=tu(a),[z,J]=tu(h),[Z,X]=nr(f),[ae,Y]=nr(r),[ne,Q]=nr(m),[de,ve]=nr(u),[fe,$e]=nr("idle"),Me=I3({hasShownLockedModal:!1,isLocked:!1,user:null}),Ne=fl(Be=>{$e(Be)},[$e]),{getPreference:be,setPreference:Ve}=so(),{code:Ye}=Ie(),{localeIsLoading:se}=Cf(),xe=qk(()=>d===void 0||u===void 0||se,[u,d,se]),V=Xk({apiRoute:R,path:""}),le,q,me;i&&(le=i,q="globals",me=`global-${le}`),n&&(le=n,q="collections",o&&(me=`collection-${le}-${o}`));let pe=fl(async(Be,qe)=>{if(A)try{let wt=qe===i,ro=await Ge.get(`${V}/payload-locked-documents`,{credentials:"include",params:wt?{"where[globalSlug][equals]":qe}:{"where[document.relationTo][equals]":qe,"where[document.value][equals]":Be}}),{docs:wo}=await ro.json();if(wo?.length>0){let $t=wo[0].id;await Ge.delete(`${V}/payload-locked-documents/${$t}`,{credentials:"include",headers:{"Content-Type":"application/json"}}),X(!1)}}catch(wt){console.error("Failed to unlock the document",wt)}},[V,i,X,A]),re=fl(async(Be,qe,wt)=>{if(A)try{let ro=qe===i,wo=await Ge.get(`${V}/payload-locked-documents`,{credentials:"include",params:ro?{"where[globalSlug][equals]":qe}:{"where[document.relationTo][equals]":qe,"where[document.value][equals]":Be}}),{docs:$t}=await wo.json();if($t?.length>0){let tr=$t[0].id,Re=typeof wt=="object"?{relationTo:wt.collection,value:wt.id}:{relationTo:"users",value:wt};await Ge.patch(`${V}/payload-locked-documents/${tr}`,{body:JSON.stringify({user:Re}),credentials:"include",headers:{"Content-Type":"application/json"}})}}catch(ro){console.error("Failed to update the document editor",ro)}},[V,i,A]),ee=w3({id:o,api:R,collectionSlug:n,globalSlug:i,i18n:N,locale:Ye,permissions:w,setDocPermissions:C,setHasPublishPermission:_,setHasSavePermission:v}),he=fl(()=>be(me),[be,me]),te=fl(async(Be,qe)=>{let wt=await he();if(me)try{await Ve(me,{...wt,fields:{...wt?.fields||{},[Be]:{...wt?.fields?.[Be],...qe}}})}catch(ro){console.error(ro)}},[Ve,me,he]),ge=fl(()=>{let Be=O+1;I&&I.versions?I.versions.maxPerDoc>0?G(Math.min(Be,I.versions.maxPerDoc)):G(Be):F&&F.versions&&(F.versions.max>0?G(Math.min(Be,F.versions.max)):G(Be))},[I,F,O]);S3(()=>{E(Zo({collectionConfig:I,data:{...de,id:o},dateFormat:T,fallback:o?.toString(),globalConfig:F,i18n:N}))},[I,F,de,T,N,o]),S3(()=>{let Be=k.current;return()=>{if(Be)try{Be.abort()}catch{}}},[]);let ye=Zk.useMemo(()=>{let Be=`${q==="globals"?"/globals":""}/${le}${o?`/${o}`:""}`;return`${V}${Be}${_3.stringify({depth:0,"fallback-locale":"null",locale:Ye,uploadEdits:B||void 0},{addQueryPrefix:!0})}`},[V,Ye,q,o,le,B]),rt={...e,action:ye,currentEditor:ae,data:de,docConfig:L,docPermissions:b,documentIsLocked:Z,documentLockState:Me,getDocPermissions:ee,getDocPreferences:he,hasPublishedDoc:W,hasPublishPermission:x,hasSavePermission:y,incrementVersionCount:ge,initialData:u,initialState:d,isInitializing:xe,lastUpdateTime:ne,mostRecentVersionIsAutosaved:$,preferencesKey:me,savedDocumentData:de,setCurrentEditor:Y,setData:ve,setDocFieldPreferences:te,setDocumentIsLocked:X,setDocumentTitle:E,setHasPublishedDoc:U,setLastUpdateTime:Q,setMostRecentVersionIsAutosaved:M,setUnpublishedVersionCount:J,setUploadStatus:Ne,title:j,unlockDocument:pe,unpublishedVersionCount:z,updateDocumentEditor:re,updateSavedDocumentData:ve,uploadStatus:fe,versionCount:O};return Af(T3,{value:rt,children:Af(p3,{children:t})})},ou=t=>Af(h1,{children:Af(Qk,{...t})});import{jsx as Kk}from"react/jsx-runtime";import{createContext as ej,use as tj}from"react";var Pf=ej(""),ru=({children:t,operation:e})=>Kk(Pf,{value:e,children:t}),Sr=()=>tj(Pf);import F3 from"react";var gs=F3.createContext(void 0),Ef=()=>{let t=F3.useContext(gs);if(t)return t};var rj=t=>{let e=oj(65),o;e[0]!==t?(o=t||{},e[0]=t,e[1]=o):o=e[1];let{disableFormData:n,hasRows:r,path:s,potentiallyStalePath:i,validate:a}=o,l=n===void 0?!1:n,c=Ef(),u=s||c||i,d=uo(),f=Gr(),m=Li(),{user:p}=Se(),{id:h,collectionSlug:g}=Te(),b=Sr(),C=Mt(nj),y;e[2]!==u?(y=ve=>{let[fe]=ve;return fe&&fe?.[u]||null},e[2]=u,e[3]=y):y=e[3];let v=Mt(y),{t:x}=P(),{config:_}=H(),{getData:w,getDataByPath:T,getSiblingData:S,setModified:R}=Oe(),D=Ya(),I=v?.filterOptions,F=v?.value,A=v?.initialValue,k=typeof v?.valid=="boolean"?v.valid:!0,L=k===!1&&d,N=R3(k),B=R3(v?.errorMessage),j;e[4]!==u?(j=u?u.split("."):[],e[4]=u,e[5]=j):j=e[5];let E=j,$;e[6]!==l||e[7]!==C||e[8]!==r||e[9]!==u||e[10]!==R?($=(ve,fe)=>{let $e=fe===void 0?!1:fe,Ne=ve&&typeof ve=="object"&&typeof ve.preventDefault=="function"&&typeof ve.stopPropagation=="function"?ve.target.value:ve;C({type:"UPDATE",disableFormData:l||r&&Ne>0,path:u,value:Ne}),$e||R(!0)},e[6]=l,e[7]=C,e[8]=r,e[9]=u,e[10]=R,e[11]=$):$=e[11];let M=$,O=v?.blocksFilterOptions,G=v?.customComponents,W=f||m,U=v?.errorMessage,z;e[12]!==v?.errorPaths?(z=v?.errorPaths||[],e[12]=v?.errorPaths,e[13]=z):z=e[13];let J=v?.rows,Z=v?.selectFilterOptions,X=v?.valid,ae;e[14]!==I||e[15]!==A||e[16]!==m||e[17]!==u||e[18]!==f||e[19]!==M||e[20]!==L||e[21]!==d||e[22]!==J||e[23]!==Z||e[24]!==X||e[25]!==O||e[26]!==G||e[27]!==W||e[28]!==U||e[29]!==z||e[30]!==F?(ae={blocksFilterOptions:O,customComponents:G,disabled:W,errorMessage:U,errorPaths:z,filterOptions:I,formInitializing:m,formProcessing:f,formSubmitted:d,initialValue:A,path:u,rows:J,selectFilterOptions:Z,setValue:M,showError:L,valid:X,value:F},e[14]=I,e[15]=A,e[16]=m,e[17]=u,e[18]=f,e[19]=M,e[20]=L,e[21]=d,e[22]=J,e[23]=Z,e[24]=X,e[25]=O,e[26]=G,e[27]=W,e[28]=U,e[29]=z,e[30]=F,e[31]=ae):ae=e[31];let Y=ae,ne;e[32]!==g||e[33]!==_||e[34]!==l||e[35]!==C||e[36]!==D||e[37]!==v||e[38]!==w||e[39]!==T||e[40]!==S||e[41]!==r||e[42]!==h||e[43]!==b||e[44]!==u||e[45]!==E||e[46]!==x||e[47]!==p||e[48]!==a||e[49]!==F?(ne=()=>{(async()=>{let fe=F;v?.rows&&Array.isArray(v.rows)&&(fe=T(u));let $e=B.current,Me=N.current,Ne=w(),be=typeof a=="function"?await a(fe,{id:h,blockData:void 0,collectionSlug:g,data:D?.getData?D.getData():Ne,event:"onChange",operation:b,path:E,preferences:{},req:{payload:{config:_},t:x,user:p},siblingData:S(u)}):typeof B.current=="string"?B.current:N.current;if(typeof be=="string"?(Me=!1,$e=be):typeof be=="boolean"&&(Me=be,$e=void 0),Me!==N.current||$e!==B.current){N.current=Me,B.current=$e;let Ve={type:"UPDATE",errorMessage:$e,path:u,rows:v?.rows,valid:Me,validate:a,value:F};(l||r&&typeof F=="number"&&F>0)&&(Ve.disableFormData=!0),typeof C=="function"&&C(Ve)}})()},e[32]=g,e[33]=_,e[34]=l,e[35]=C,e[36]=D,e[37]=v,e[38]=w,e[39]=T,e[40]=S,e[41]=r,e[42]=h,e[43]=b,e[44]=u,e[45]=E,e[46]=x,e[47]=p,e[48]=a,e[49]=F,e[50]=ne):ne=e[50];let Q=v?.rows,de;return e[51]!==g||e[52]!==l||e[53]!==C||e[54]!==w||e[55]!==T||e[56]!==S||e[57]!==h||e[58]!==b||e[59]!==u||e[60]!==Q||e[61]!==p||e[62]!==a||e[63]!==F?(de=[F,l,C,w,S,T,h,b,u,p,a,Q,g],e[51]=g,e[52]=l,e[53]=C,e[54]=w,e[55]=T,e[56]=S,e[57]=h,e[58]=b,e[59]=u,e[60]=Q,e[61]=p,e[62]=a,e[63]=F,e[64]=de):de=e[64],Hi(ne,150,de),Y},D3=b1.createContext(void 0),Fe=t=>{let e=Ef(),o=b1.use(D3),n=b1.useRef(null);if(n.current===null){let r=t?.path||e||t?.potentiallyStalePath;n.current=!!(o&&r&&o.path===r)}if(n.current===!0){if(!o)throw new Error("FieldContext was removed after mount. This breaks hook ordering.");return o}return rj(t)};function nj(t){let[,e]=t;return e}import{jsx as A3}from"react/jsx-runtime";import"react";import{c as sj}from"react/compiler-runtime";var v1=t=>{let e=sj(2),{children:o,path:n}=t,r;e[0]!==n?(r=a=>{let[l]=a;return l&&l?.[n]||null},e[0]=n,e[1]=r):r=e[1];let s=Mt(r),{passesCondition:i}=s||{};return i===!1?null:o};var ze=t=>o=>{let{path:n}=o;return A3(v1,{path:n,children:A3(t,{...o})})};var Qe=t=>({...t?.admin?.style||{},...t?.admin?.width?{"--field-width":t.admin.width}:{flex:"1 1 auto"},...t?.admin?.style?.flex?{flex:t.admin.style.flex}:{}});var Ae="field-type";function pl({fieldLocalized:t,fieldRTL:e,locale:o,localizationConfig:n}){let r=o&&n&&n.locales&&n.locales.length>1,s=o?.code===n?.defaultLocale;return e!==!1&&o?.rtl===!0&&(t||!t&&!r||!t&&s)||e===!0}import{c as ij}from"react/compiler-runtime";import{jsx as nu,jsxs as x1}from"react/jsx-runtime";import{useId as aj}from"react";import{jsx as P3}from"react/jsx-runtime";import"react";var y1=()=>P3("svg",{className:"icon icon--check",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:P3("path",{className:"stroke",d:"M15.3333 6.00001L8.00001 13.3333L4.66667 10",strokeLinecap:"square"})});import{jsx as E3}from"react/jsx-runtime";import"react";var C1=()=>E3("svg",{className:"icon icon--line",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:E3("path",{className:"stroke",d:"M5.33333 10H14.6667",strokeLinecap:"square"})});var su="checkbox-input",po=t=>{let e=ij(22),{id:o,name:n,AfterInput:r,BeforeInput:s,checked:i,className:a,inputRef:l,Label:c,label:u,localized:d,onToggle:f,partialChecked:m,readOnly:p,required:h}=t,g=aj(),b=o||g,C=i&&`${su}--checked`,y=p&&`${su}--read-only`,v;e[0]!==a||e[1]!==C||e[2]!==y?(v=[a,su,C,y].filter(Boolean),e[0]=a,e[1]=C,e[2]=y,e[3]=v):v=e[3];let x=v.join(" "),_=!!i,w;if(e[4]!==r||e[5]!==s||e[6]!==c||e[7]!==i||e[8]!==b||e[9]!==l||e[10]!==u||e[11]!==d||e[12]!==n||e[13]!==f||e[14]!==m||e[15]!==p||e[16]!==h||e[17]!==x||e[18]!==_){let T=nu("input",{"aria-label":"","aria-labelledby":n,defaultChecked:_,disabled:p,id:b,name:n,onInput:f,ref:l,required:h,title:n,type:"checkbox"}),S=!i&&m?"partial":"check",R;e[20]!==S?(R=[`${su}__icon`,S].filter(Boolean),e[20]=S,e[21]=R):R=e[21],w=x1("div",{className:x,children:[x1("div",{className:`${su}__input`,children:[s,T,x1("span",{className:R.join(" "),children:[i&&nu(y1,{}),!i&&m&&nu(C1,{})]}),r]}),nu(ue,{CustomComponent:c,Fallback:nu(_e,{htmlFor:b,label:u,localized:d,required:h})})]}),e[4]=r,e[5]=s,e[6]=c,e[7]=i,e[8]=b,e[9]=l,e[10]=u,e[11]=d,e[12]=n,e[13]=f,e[14]=m,e[15]=p,e[16]=h,e[17]=x,e[18]=_,e[19]=w}else w=e[19];return w};var w1="checkbox";var dj=t=>{let{id:e,checked:o,disableFormData:n,field:r,field:{admin:{className:s,description:i}={},label:a,required:l}={},onChange:c,partialChecked:u,path:d,readOnly:f,validate:m}=t,{uuid:p}=Oe(),h=dt(),{i18n:{language:g}}=P(),b=cj.includes(g),C=N3((N,B)=>{if(typeof m=="function")return m(N,{...B,required:l})},[m,l]),{customComponents:{AfterInput:y,BeforeInput:v,Description:x,Error:_,Label:w}={},disabled:T,path:S,setValue:R,showError:D,value:I}=Fe({disableFormData:n,potentiallyStalePath:d,validate:C}),F=N3(()=>{f||(R(!I),typeof c=="function"&&c(!I))},[c,f,R,I]),A=o||!!I,k=e||xf(S,h,p),L=uj(()=>Qe(r),[r]);return lj("div",{className:[Ae,w1,D&&"error",s,I&&`${w1}--checked`,(f||T)&&`${w1}--read-only`].filter(Boolean).join(" "),style:L,children:[iu(ue,{CustomComponent:_,Fallback:iu(Ze,{alignCaret:b?"right":"left",path:S,showError:D})}),iu(po,{AfterInput:y,BeforeInput:v,checked:A,id:k,inputRef:null,Label:w,label:a,name:S,onToggle:F,partialChecked:u,readOnly:f||T,required:l}),iu(ue,{CustomComponent:x,Fallback:iu(Ue,{description:i,path:S})})]})},Ur=ze(dj);var fj="nullify-locale-field",au=t=>{let e=mj(13),{fieldValue:o,localized:n,path:r,readOnly:s}=t,i=s===void 0?!1:s,{code:a}=Ie(),{config:l}=H(),{localization:c}=l,[u,d]=k3.useState(typeof o!="number"),{t:f}=P(),{dispatchFields:m,setModified:p}=Oe();if(!n||!c||c.defaultLocale===a||!c.fallback)return null;let h;e[0]!==u||e[1]!==m||e[2]!==o||e[3]!==r||e[4]!==p?(h=()=>{let C=!u;m({type:"UPDATE",path:r,value:C?null:o||0}),p(!0),d(C)},e[0]=u,e[1]=m,e[2]=o,e[3]=r,e[4]=p,e[5]=h):h=e[5];let g=h;if(o){let C=!1;if(typeof o=="number"&&o>0&&(C=!0),Array.isArray(o)&&o.length>0&&(C=!0),C)return u&&d(!1),null}let b;return e[6]!==u||e[7]!==o||e[8]!==g||e[9]!==r||e[10]!==i||e[11]!==f?(b=L3(un,{className:fj,children:!o&&i?f("general:fallbackToDefaultLocale"):L3(Ur,{checked:u,field:{name:"",label:f("general:fallbackToDefaultLocale")},id:`field-${r.replace(/\./g,"__")}`,onChange:g,path:r,schemaPath:""})}),e[6]=u,e[7]=o,e[8]=g,e[9]=r,e[10]=i,e[11]=f,e[12]=b):b=e[12],b};var hl=t=>{let e=document.getElementById(t);if(e){let o=e.getBoundingClientRect();window.scrollBy({behavior:"smooth",top:o.top-100})}};import{c as YH}from"react/compiler-runtime";import{jsx as yi,jsxs as JH}from"react/jsx-runtime";import{getTranslation as qH}from"@payloadcms/translations";import"react";import{c as pj}from"react/compiler-runtime";import{jsx as Ir,jsxs as Yi}from"react/jsx-runtime";import hj from"react";var No="array-actions",Nf=t=>{let e=pj(12),{addRow:o,copyRow:n,duplicateRow:r,hasMaxRows:s,index:i,isSortable:a,moveRow:l,pasteRow:c,removeRow:u,rowCount:d}=t,{t:f}=P(),m;return e[0]!==o||e[1]!==n||e[2]!==r||e[3]!==s||e[4]!==i||e[5]!==a||e[6]!==l||e[7]!==c||e[8]!==u||e[9]!==d||e[10]!==f?(m=Ir(st,{button:Ir(Oc,{}),buttonClassName:`${No}__button`,className:No,horizontalAlign:"center",render:p=>{let{close:h}=p;return Yi(we.ButtonGroup,{buttonSize:"small",children:[a&&i!==0&&Yi(we.Button,{className:`${No}__action ${No}__move-up`,onClick:()=>{l(i,i-1),h()},children:[Ir("div",{className:`${No}__action-chevron`,children:Ir(He,{direction:"up"})}),f("general:moveUp")]}),a&&i<d-1&&Yi(we.Button,{className:`${No}__action`,onClick:()=>{l(i,i+1),h()},children:[Ir("div",{className:`${No}__action-chevron`,children:Ir(He,{})}),f("general:moveDown")]}),!s&&Yi(hj.Fragment,{children:[Yi(we.Button,{className:`${No}__action ${No}__add`,onClick:()=>{o(i+1),h()},children:[Ir(ar,{}),f("general:addBelow")]}),Yi(we.Button,{className:`${No}__action ${No}__duplicate`,onClick:()=>{r(i),h()},children:[Ir($i,{}),f("general:duplicate")]})]}),Ir(we.Button,{className:`${No}__action ${No}__copy`,onClick:()=>{n(i),h()},children:Ir(Ka,{isRow:!0})}),Ir(we.Button,{className:`${No}__action ${No}__paste`,onClick:()=>{c(i),h()},children:Ir(Ka,{isPaste:!0,isRow:!0})}),Yi(we.Button,{className:`${No}__action ${No}__remove`,onClick:()=>{u(i),h()},children:[Ir(yt,{}),f("general:remove")]})]})},size:"medium"}),e[0]=o,e[1]=n,e[2]=r,e[3]=s,e[4]=i,e[5]=a,e[6]=l,e[7]=c,e[8]=u,e[9]=d,e[10]=f,e[11]=m):m=e[11],m};import{c as _j}from"react/compiler-runtime";import{jsx as hn,jsxs as _1}from"react/jsx-runtime";import{useState as O3}from"react";import{jsx as gl,jsxs as gj}from"react/jsx-runtime";import"react";var pn=({className:t})=>gj("svg",{className:["icon icon--drag-handle",t].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[gl("path",{className:"fill",d:"M7.99999 10.6667C8.36818 10.6667 8.66666 10.3682 8.66666 9.99999C8.66666 9.6318 8.36818 9.33332 7.99999 9.33332C7.63181 9.33332 7.33333 9.6318 7.33333 9.99999C7.33333 10.3682 7.63181 10.6667 7.99999 10.6667Z",strokeLinecap:"square"}),gl("path",{className:"fill",d:"M7.99999 5.99999C8.36818 5.99999 8.66666 5.70151 8.66666 5.33332C8.66666 4.96513 8.36818 4.66666 7.99999 4.66666C7.63181 4.66666 7.33333 4.96513 7.33333 5.33332C7.33333 5.70151 7.63181 5.99999 7.99999 5.99999Z",strokeLinecap:"square"}),gl("path",{className:"fill",d:"M7.99999 15.3333C8.36818 15.3333 8.66666 15.0348 8.66666 14.6667C8.66666 14.2985 8.36818 14 7.99999 14C7.63181 14 7.33333 14.2985 7.33333 14.6667C7.33333 15.0348 7.63181 15.3333 7.99999 15.3333Z",strokeLinecap:"square"}),gl("path",{className:"fill",d:"M12 10.6667C12.3682 10.6667 12.6667 10.3682 12.6667 9.99999C12.6667 9.6318 12.3682 9.33332 12 9.33332C11.6318 9.33332 11.3333 9.6318 11.3333 9.99999C11.3333 10.3682 11.6318 10.6667 12 10.6667Z",strokeLinecap:"square"}),gl("path",{className:"fill",d:"M12 5.99999C12.3682 5.99999 12.6667 5.70151 12.6667 5.33332C12.6667 4.96513 12.3682 4.66666 12 4.66666C11.6318 4.66666 11.3333 4.96513 11.3333 5.33332C11.3333 5.70151 11.6318 5.99999 12 5.99999Z",strokeLinecap:"square"}),gl("path",{className:"fill",d:"M12 15.3333C12.3682 15.3333 12.6667 15.0348 12.6667 14.6667C12.6667 14.2985 12.3682 14 12 14C11.6318 14 11.3333 14.2985 11.3333 14.6667C11.3333 15.0348 11.6318 15.3333 12 15.3333Z",strokeLinecap:"square"})]});import{jsx as $3}from"react/jsx-runtime";import Lf,{useEffect as Cj,useRef as I1}from"react";import{useEffect as bj,useMemo as vj,useRef as S1,useState as yj}from"react";var j3=({containerRef:t,contentRef:e,duration:o,open:n})=>{let r=vj(()=>typeof CSS<"u"&&CSS&&CSS.supports?CSS.supports("interpolate-size","allow-keywords"):!1,[]),s=S1(!1),i=S1(n),[a,l]=yj(!1),c=S1(null);return bj(()=>{let u=t.current,d=e.current;if(!u||!d||r)return;let f=h=>{u.style.height=h},m=()=>{u&&(u.style.transition="",u.style.height=n?"auto":"0px",l(!1))};return(()=>{if(!s.current&&n){f("auto"),l(!1);return}s.current=!0,i.current!==n&&f(n?"0px":`${d.scrollHeight}px`),u.offsetHeight,l(!0),u.style.transition=`height ${o}ms ease`,f(n?`${d.scrollHeight}px`:"0px");let h=()=>{m(),u.removeEventListener("transitionend",h)};u.addEventListener("transitionend",h)})(),i.current=n,c.current=new ResizeObserver(()=>{a&&(u.style.height=n?`${d.scrollHeight}px`:"0px")}),c.current.observe(d),()=>{u&&(u.style.transition="",u.style.height=""),c.current?.disconnect()}},[n,o,t,e,r]),{browserSupportsKeywordAnimation:r}};var _r=({id:t,children:e,className:o,duration:n=300,height:r})=>{let[s,i]=Lf.useState(()=>!!r),a=I1(s),[l,c]=Lf.useState(()=>s?"":"none"),[u,d]=Lf.useState(()=>s?"":"hidden"),[f,m]=Lf.useState(!1),p=I1(null),h=I1(null);return Cj(()=>{let g,b,C=!!r,y=a.current!==C;return a.current=C,y&&(m(!0),d("hidden"),C?c(""):g=window.setTimeout(()=>{c("none")},n),i(C),b=window.setTimeout(()=>{d(""),m(!1)},n)),()=>{g&&clearTimeout(g),b&&clearTimeout(b)}},[r,n]),j3({containerRef:p,contentRef:h,duration:n,open:s}),$3("div",{"aria-hidden":!s,className:[o,"rah-static",s&&r==="auto"&&"rah-static--height-auto",f&&`rah-animating--${s?"down":"up"}`,f&&r==="auto"&&"rah-animating--to-height-auto"].filter(Boolean).join(" "),id:t,ref:p,style:{overflow:u,transition:`height ${n}ms ease`},children:$3("div",{ref:h,...l?{style:{display:l}}:{},children:e})})};import{jsx as xj}from"react/jsx-runtime";import wj,{createContext as Sj,use as Ij}from"react";var B3=Sj({isCollapsed:void 0,isVisible:void 0,isWithinCollapsible:void 0,toggle:()=>{}}),M3=({children:t,isCollapsed:e,isWithinCollapsible:o=!0,toggle:n})=>{let{isCollapsed:r,isVisible:s}=Qs(),i=wj.useMemo(()=>({isCollapsed:e,isVisible:s&&!r,isWithinCollapsible:o,toggle:n}),[e,o,n,r,s]);return xj(B3,{value:i,children:t})},Qs=()=>Ij(B3);var Bo="collapsible";var Ji=t=>{let e=_j(25),{actions:o,AfterCollapsible:n,children:r,className:s,collapsibleStyle:i,disableHeaderToggle:a,disableToggleIndicator:l,dragHandleProps:c,header:u,initCollapsed:d,isCollapsed:f,onToggle:m}=t,p=i===void 0?"default":i,h=a===void 0?!1:a,g=l===void 0?!1:l,[b,C]=O3(!!d),[y,v]=O3(!1),{isWithinCollapsible:x}=Qs(),{t:_}=P(),w=typeof f=="boolean"?f:b,T;e[0]!==w||e[1]!==m?(T=()=>{typeof m=="function"&&m(!w),C(!w)},e[0]=w,e[1]=m,e[2]=T):T=e[2];let S=T,R=c&&`${Bo}--has-drag-handle`,D=w&&`${Bo}--collapsed`,I=x&&`${Bo}--nested`,F=y&&!h&&`${Bo}--hovered`,A=`${Bo}--style-${p}`,k;e[3]!==s||e[4]!==R||e[5]!==D||e[6]!==I||e[7]!==F||e[8]!==A?(k=[Bo,s,R,D,I,F,A].filter(Boolean),e[3]=s,e[4]=R,e[5]=D,e[6]=I,e[7]=F,e[8]=A,e[9]=k):k=e[9];let L=k.join(" "),N=`${Bo}__toggle-wrap${h?" toggle-disabled":""}`,B,j;e[10]===Symbol.for("react.memo_cache_sentinel")?(B=()=>v(!0),j=()=>v(!1),e[10]=B,e[11]=j):(B=e[10],j=e[11]);let E;return e[12]!==n||e[13]!==o||e[14]!==r||e[15]!==h||e[16]!==g||e[17]!==c||e[18]!==u||e[19]!==w||e[20]!==_||e[21]!==L||e[22]!==N||e[23]!==S?(E=hn("div",{className:L,children:_1(M3,{isCollapsed:w,toggle:S,children:[_1("div",{className:N,onMouseEnter:B,onMouseLeave:j,children:[!h&&hn("button",{className:[`${Bo}__toggle`,`${Bo}__toggle--${w?"collapsed":"open"}`].filter(Boolean).join(" "),onClick:S,type:"button",children:hn("span",{children:_("fields:toggleBlock")})}),c&&hn("div",{className:`${Bo}__drag`,...c.attributes,...c.listeners,children:hn(pn,{})}),u?hn("div",{className:[`${Bo}__header-wrap`,c&&`${Bo}__header-wrap--has-drag-handle`].filter(Boolean).join(" "),children:u}):null,_1("div",{className:`${Bo}__actions-wrap`,children:[o?hn("div",{className:`${Bo}__actions`,children:o}):null,!g&&hn("div",{className:`${Bo}__indicator`,children:hn(He,{direction:w?void 0:"up"})})]})]}),hn(_r,{height:w?0:"auto",children:hn("div",{className:`${Bo}__content`,children:r})}),n]})}),e[12]=n,e[13]=o,e[14]=r,e[15]=h,e[16]=g,e[17]=c,e[18]=u,e[19]=w,e[20]=_,e[21]=L,e[22]=N,e[23]=S,e[24]=E):E=e[24],E};import{c as HH}from"react/compiler-runtime";import{jsx as q0}from"react/jsx-runtime";import{fieldIsHiddenOrDisabled as UH,getFieldPaths as XH,getFieldPermissions as ZH}from"payload/shared";import"react";import{c as Tj}from"react/compiler-runtime";import{jsx as Fj}from"react/jsx-runtime";import V3 from"react";var G3=t=>{let e=Tj(9),{children:o,className:n,forceRender:r}=t,[s,i]=V3.useState(!!r),a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a={rootMargin:"1000px"},e[0]=a):a=e[0];let[l,c]=ji(a,!!r),u=!!c?.isIntersecting,d=c?.boundingClientRect?.top<0,f=r||u||d,m,p;e[1]!==s||e[2]!==f?(m=()=>{f&&!s&&i(!0)},p=[f,s],e[1]=s,e[2]=f,e[3]=m,e[4]=p):(m=e[3],p=e[4]),V3.useEffect(m,p);let h=s?o:null,g;return e[5]!==n||e[6]!==l||e[7]!==h?(g=Fj("div",{className:n,ref:l,children:h}),e[5]=n,e[6]=l,e[7]=h,e[8]=g):g=e[8],g};import{c as WH}from"react/compiler-runtime";import{jsx as Xt}from"react/jsx-runtime";import"react";import{jsx as qt,jsxs as vs}from"react/jsx-runtime";import{getTranslation as P1}from"@payloadcms/translations";import o$,{Fragment as iS,useCallback as $n,useMemo as aS}from"react";import{c as Kj}from"react/compiler-runtime";import{jsx as bn,jsxs as nS,Fragment as e$}from"react/jsx-runtime";import{getTranslation as t$}from"@payloadcms/translations";import"react";import{c as Rj}from"react/compiler-runtime";import{jsx as lu,jsxs as Dj}from"react/jsx-runtime";import"react";var Xr="pill",Aj=t=>{let e=Rj(12),{id:o,className:n}=t,r;e[0]!==o?(r={id:o},e[0]=o,e[1]=r):r=e[1];let{attributes:s,isDragging:i,listeners:a,setNodeRef:l,transform:c}=rl(r),u=i&&`${Xr}--is-dragging`,d;e[2]!==n||e[3]!==u?(d=[u,n].filter(Boolean),e[2]=n,e[3]=u,e[4]=d):d=e[4];let f=d.join(" "),m;return e[5]!==s||e[6]!==a||e[7]!==t||e[8]!==l||e[9]!==f||e[10]!==c?(m=lu(z3,{...t,className:f,elementProps:{...a,...s,ref:l,style:{transform:c}}}),e[5]=s,e[6]=a,e[7]=t,e[8]=l,e[9]=f,e[10]=c,e[11]=m):m=e[11],m},z3=t=>{let{id:e,alignIcon:o="right","aria-checked":n,"aria-controls":r,"aria-expanded":s,"aria-label":i,children:a,className:l,draggable:c,elementProps:u,icon:d,onClick:f,pillStyle:m="light",rounded:p,size:h="medium",to:g}=t,b=[Xr,`${Xr}--style-${m}`,`${Xr}--size-${h}`,l&&l,g&&`${Xr}--has-link`,(g||f)&&`${Xr}--has-action`,d&&`${Xr}--has-icon`,d&&`${Xr}--align-icon-${o}`,c&&`${Xr}--draggable`,p&&`${Xr}--rounded`].filter(Boolean).join(" "),C="div";return f&&!g&&(C="button"),g&&(C=Jt),Dj(C,{...u,"aria-checked":n,"aria-controls":r,"aria-expanded":s,"aria-label":i,className:b,href:g||null,id:e,onClick:f,type:C==="button"?"button":void 0,children:[lu("span",{className:`${Xr}__label`,children:a}),!!d&&lu("span",{className:`${Xr}__icon`,children:d})]})},tt=t=>{let{draggable:e}=t;return e?lu(Aj,{...t}):lu(z3,{...t})};import{useEffect as Pj,useState as Ej}from"react";function kf(t,e){let[o,n]=Ej(t);return Pj(()=>{let r=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(r)}},[t,e]),o}import{c as Jj}from"react/compiler-runtime";import{jsx as K3,jsxs as qj}from"react/jsx-runtime";import eS from"react";import{c as Uj}from"react/compiler-runtime";import{jsx as Q3}from"react/jsx-runtime";import{getTranslation as Xj}from"@payloadcms/translations";import Zj,{useEffect as Yj}from"react";import{jsx as jn,jsxs as q3}from"react/jsx-runtime";import{getTranslation as R1}from"@payloadcms/translations";import{Fragment as Vj,useEffect as Gj,useMemo as zj,useState as Wj}from"react";import{c as Nj}from"react/compiler-runtime";import{jsx as W3,jsxs as Lj}from"react/jsx-runtime";import"react";var cu="thumbnail-card",jf=t=>{let e=Nj(13),{alignLabel:o,className:n,collection:r,doc:s,label:i,onClick:a,thumbnail:l}=t,{config:c}=H(),{i18n:u}=P(),d=typeof a=="function"&&`${cu}--has-on-click`,f=o&&`${cu}--align-label-${o}`,m;e[0]!==n||e[1]!==d||e[2]!==f?(m=[cu,n,d,f].filter(Boolean),e[0]=n,e[1]=d,e[2]=f,e[3]=m):m=e[3];let p=m.join(" "),h;if(e[4]!==p||e[5]!==r||e[6]!==c||e[7]!==s||e[8]!==u||e[9]!==i||e[10]!==a||e[11]!==l){let g=i;g||(g=Zo({collectionConfig:r,data:s,dateFormat:c.admin.dateFormat,fallback:s?.filename,i18n:u})),h=Lj("button",{className:p,onClick:a,title:g,type:"button",children:[W3("div",{className:`${cu}__thumbnail`,children:l}),W3("div",{className:`${cu}__label`,children:g})]}),e[4]=p,e[5]=r,e[6]=c,e[7]=s,e[8]=u,e[9]=i,e[10]=a,e[11]=l,e[12]=h}else h=e[12];return h};import{jsx as bs,jsxs as U3}from"react/jsx-runtime";import{useState as Bj}from"react";var Lo=[];for($f=0;$f<256;++$f)Lo.push(($f+256).toString(16).slice(1));var $f;function H3(t,e=0){return(Lo[t[e+0]]+Lo[t[e+1]]+Lo[t[e+2]]+Lo[t[e+3]]+"-"+Lo[t[e+4]]+Lo[t[e+5]]+"-"+Lo[t[e+6]]+Lo[t[e+7]]+"-"+Lo[t[e+8]]+Lo[t[e+9]]+"-"+Lo[t[e+10]]+Lo[t[e+11]]+Lo[t[e+12]]+Lo[t[e+13]]+Lo[t[e+14]]+Lo[t[e+15]]).toLowerCase()}var Bf,kj=new Uint8Array(16);function T1(){if(!Bf&&(Bf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Bf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Bf(kj)}var jj=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),F1={randomUUID:jj};function $j(t,e,o){if(F1.randomUUID&&!e&&!t)return F1.randomUUID();t=t||{};var n=t.random||(t.rng||T1)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){o=o||0;for(var r=0;r<16;++r)e[o+r]=n[r];return e}return H3(n)}var gn=$j;var uu=()=>{let[t]=Bj(()=>`pattern${gn()}`);return U3("svg",{fill:"none",height:"151",preserveAspectRatio:"xMidYMid slice",viewBox:"0 0 231 151",width:"231",xmlns:"http://www.w3.org/2000/svg",children:[U3("g",{clipPath:`url(#${t})`,children:[bs("rect",{fill:"#D9D9D9",height:"100%",rx:"2",width:"100%"}),bs("rect",{fill:"#BCBCBC",height:"116.063",transform:"rotate(52.0687 33.7051 79.3051)",width:"85.8593",x:"33.7051",y:"79.3051"}),bs("rect",{fill:"#BCBCBC",height:"116.063",transform:"rotate(52.0687 86.1219 92.6272)",width:"85.8593",x:"86.1219",y:"92.6272"}),bs("circle",{cx:"189",cy:"45",fill:"#BCBCBC",r:"19"}),bs("rect",{fill:"#B8B8B8",height:"5",rx:"2.5",width:"98",x:"66",y:"70"}),bs("rect",{fill:"#B8B8B8",height:"5",rx:"2.5",width:"76",x:"77",y:"82"})]}),bs("defs",{children:bs("clipPath",{id:`${t}`,children:bs("rect",{fill:"white",height:"151",width:"231"})})})]})};import{c as Mj}from"react/compiler-runtime";import{jsx as Z3,jsxs as Oj}from"react/jsx-runtime";import"react";import{jsx as X3}from"react/jsx-runtime";import"react";var qi=()=>X3("svg",{className:"icon icon--search",fill:"none",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:X3("path",{className:"stroke",d:"M16 16L13.1333 13.1333M14.6667 9.33333C14.6667 12.2789 12.2789 14.6667 9.33333 14.6667C6.38781 14.6667 4 12.2789 4 9.33333C4 6.38781 6.38781 4 9.33333 4C12.2789 4 14.6667 6.38781 14.6667 9.33333Z",strokeLinecap:"square"})});var Y3="block-search",J3=t=>{let e=Mj(5),{setSearchTerm:o}=t,{t:n}=P(),r;e[0]!==o?(r=a=>{o(a.target.value)},e[0]=o,e[1]=r):r=e[1];let s=r,i;return e[2]!==s||e[3]!==n?(i=Oj("div",{className:Y3,children:[Z3("input",{className:`${Y3}__input`,onChange:s,placeholder:n("fields:searchForBlock")}),Z3(qi,{})]}),e[2]=s,e[3]=n,e[4]=i):i=e[4],i};var Ks="blocks-drawer",Hj=(t,e)=>typeof t.labels.singular=="string"?t.labels.singular.toLowerCase():typeof t.labels.singular=="object"?R1(t.labels.singular,e).toLowerCase():"",D1=t=>{let{blocks:e,onSelect:o,searchTerm:n}=t,[r,s]=nr(n??""),[i,a]=Wj(e),{i18n:l}=P(),{config:c}=H(),u=zj(()=>{let d={_none:[]};return i.forEach(f=>{if(typeof f=="object"&&f.admin?.group){let m=f.admin.group,p=typeof m=="string"?m:R1(m,l);Object.hasOwn(d,p)?d[p].push(f):d[p]=[f]}else d._none.push(f)}),d},[i,l]);return Gj(()=>{let d=r.toLowerCase(),f=e?.reduce((m,p)=>{let h=typeof p=="string"?c.blocksMap[p]:p;return Hj(h,l).includes(d)&&m.push(h),m},[]);a(f)},[r,e,l,c.blocksMap]),q3(Vj,{children:[jn(J3,{setSearchTerm:s}),jn("div",{className:`${Ks}__blocks-wrapper`,children:jn("ul",{className:`${Ks}__block-groups`,children:Object.entries(u).map(([d,f])=>f.length?q3("li",{className:[`${Ks}__block-group`,d==="_none"&&`${Ks}__block-group-none`].filter(Boolean).join(" "),children:[d!=="_none"&&jn("h3",{className:`${Ks}__block-group-label`,children:d}),jn("ul",{className:`${Ks}__blocks`,children:f.map((m,p)=>{let h=typeof m=="string"?c.blocksMap[m]:m,{slug:g,imageAltText:b,imageURL:C,labels:y}=h;return jn("li",{className:`${Ks}__block`,children:jn(jf,{alignLabel:"center",label:R1(y?.singular,l),onClick:()=>{typeof o=="function"&&o(g)},thumbnail:jn("div",{className:`${Ks}__default-image`,children:C?jn("img",{alt:b,src:C}):jn(uu,{})})})},p)})})]},d):null)})})]})};var du=t=>{let e=Uj(19),{addRow:o,addRowIndex:n,blocks:r,drawerSlug:s,labels:i}=t,{closeModal:a,isModalOpen:l}=ie(),{i18n:c,t:u}=P(),[d,f]=Zj.useState(""),m,p;e[0]!==s||e[1]!==l?(m=()=>{l(s)||f("")},p=[l,s],e[0]=s,e[1]=l,e[2]=m,e[3]=p):(m=e[2],p=e[3]),Yj(m,p);let h;if(e[4]!==o||e[5]!==n||e[6]!==r||e[7]!==a||e[8]!==s||e[9]!==c||e[10]!==i.singular||e[11]!==d||e[12]!==u){let g;e[14]!==o||e[15]!==n||e[16]!==a||e[17]!==s?(g=b=>{o(n,b),a(s)},e[14]=o,e[15]=n,e[16]=a,e[17]=s,e[18]=g):g=e[18],h=Q3(St,{slug:s,title:u("fields:addLabel",{label:Xj(i.singular,c)}),children:Q3(D1,{blocks:r,onSelect:g,searchTerm:d})}),e[4]=o,e[5]=n,e[6]=r,e[7]=a,e[8]=s,e[9]=c,e[10]=i.singular,e[11]=d,e[12]=u,e[13]=h}else h=e[13];return h};var tS=t=>{let e=Jj(28),{addRow:o,blocks:n,blockType:r,copyRow:s,duplicateRow:i,hasMaxRows:a,isSortable:l,labels:c,moveRow:u,pasteRow:d,removeRow:f,rowCount:m,rowIndex:p}=t,{closeModal:h,openModal:g}=ie(),b=Yc("blocks-drawer"),[C,y]=eS.useState(null),v;e[0]!==o||e[1]!==h||e[2]!==b||e[3]!==C?(v=(_,w)=>{typeof o=="function"&&o(C,w),h(b)},e[0]=o,e[1]=h,e[2]=b,e[3]=C,e[4]=v):v=e[4];let x;if(e[5]!==r||e[6]!==n||e[7]!==s||e[8]!==b||e[9]!==i||e[10]!==a||e[11]!==l||e[12]!==c||e[13]!==u||e[14]!==g||e[15]!==d||e[16]!==f||e[17]!==m||e[18]!==p||e[19]!==v){let _;e[21]!==b||e[22]!==g?(_=T=>{y(T),g(b)},e[21]=b,e[22]=g,e[23]=_):_=e[23];let w;e[24]!==r||e[25]!==i||e[26]!==p?(w=()=>i(p,r),e[24]=r,e[25]=i,e[26]=p,e[27]=w):w=e[27],x=qj(eS.Fragment,{children:[K3(du,{addRow:v,addRowIndex:p,blocks:n,drawerSlug:b,labels:c}),K3(Nf,{addRow:_,copyRow:s,duplicateRow:w,hasMaxRows:a,index:p,isSortable:l,moveRow:u,pasteRow:d,removeRow:f,rowCount:m})]}),e[5]=r,e[6]=n,e[7]=s,e[8]=b,e[9]=i,e[10]=a,e[11]=l,e[12]=c,e[13]=u,e[14]=g,e[15]=d,e[16]=f,e[17]=m,e[18]=p,e[19]=v,e[20]=x}else x=e[20];return x};import{c as Qj}from"react/compiler-runtime";import{jsx as oS}from"react/jsx-runtime";import"react";var rS="section-title",A1=t=>{let e=Qj(14),{customOnChange:o,customValue:n,path:r,readOnly:s}=t,i;e[0]!==r?(i={path:r},e[0]=r,e[1]=i):i=e[1];let{setValue:a,value:l}=Fe(i),{t:c}=P(),u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=[rS].filter(Boolean),e[2]=u):u=e[2];let d=u.join(" "),f;e[3]!==o||e[4]!==a?(f=o||(g=>{g.stopPropagation(),g.preventDefault(),a(g.target.value)}),e[3]=o,e[4]=a,e[5]=f):f=e[5];let m=f,p=n||l,h;return e[6]!==n||e[7]!==m||e[8]!==r||e[9]!==s||e[10]!==c||e[11]!==p||e[12]!==l?(h=oS("div",{className:d,"data-value":p,children:oS("input",{className:`${rS}__input`,id:r,name:r,onChange:m,placeholder:c("general:untitled"),readOnly:s,type:"text",value:n||l||""})}),e[6]=n,e[7]=m,e[8]=r,e[9]=s,e[10]=c,e[11]=p,e[12]=l,e[13]=h):h=e[13],h};var ei="blocks-field",sS=t=>{let e=Kj(42),{addRow:o,attributes:n,block:r,blocks:s,copyRow:i,duplicateRow:a,errorCount:l,fields:c,hasMaxRows:u,isLoading:d,isSortable:f,Label:m,labels:p,listeners:h,moveRow:g,parentPath:b,pasteRow:C,path:y,permissions:v,readOnly:x,removeRow:_,row:w,rowCount:T,rowIndex:S,schemaPath:R,setCollapse:D,setNodeRef:I,transform:F}=t,A=kf(d,500),{i18n:k}=P(),N=uo()&&l>0,B=!r.admin?.disableBlockName,j=N?`${ei}__row--has-errors`:`${ei}__row--no-errors`,E;e[0]!==j?(E=[`${ei}__row`,j].filter(Boolean),e[0]=j,e[1]=E):E=e[1];let $=E.join(" "),M;if(e[2]!==m||e[3]!==o||e[4]!==n||e[5]!==r.fields||e[6]!==r.labels||e[7]!==r.slug||e[8]!==s||e[9]!==$||e[10]!==i||e[11]!==a||e[12]!==l||e[13]!==N||e[14]!==c||e[15]!==u||e[16]!==k||e[17]!==A||e[18]!==f||e[19]!==p||e[20]!==h||e[21]!==g||e[22]!==b||e[23]!==C||e[24]!==y||e[25]!==v||e[26]!==x||e[27]!==_||e[28]!==w.blockType||e[29]!==w.collapsed||e[30]!==w.id||e[31]!==T||e[32]!==S||e[33]!==R||e[34]!==D||e[35]!==I||e[36]!==B||e[37]!==F){let O;if(v===!0)O=!0;else{let W=v?.blocks?.[r.slug]||v?.blocks;if(W===!0)O=!0;else if(W?.fields)O=W.fields;else if(typeof v=="object"&&v&&!W){let U=v.read===!0,z=!v.create||!v.update;U&&(z||typeof v=="object"&&Object.keys(v).length===1&&v.read)?O={read:!0}:O=W?.fields}else O=W?.fields}let G;e[39]!==w.id||e[40]!==D?(G=W=>D(w.id,W),e[39]=w.id,e[40]=D,e[41]=G):G=e[41],M=bn("div",{id:`${b?.split(".").join("-")}-row-${S}`,ref:I,style:{transform:F},children:bn(Ji,{actions:x?void 0:bn(tS,{addRow:o,blocks:s,blockType:w.blockType,copyRow:i,duplicateRow:a,fields:r.fields,hasMaxRows:u,isSortable:f,labels:p,moveRow:g,pasteRow:C,removeRow:_,rowCount:T,rowIndex:S}),className:$,collapsibleStyle:N?"error":"default",dragHandleProps:f?{id:w.id,attributes:n,listeners:h}:void 0,header:A?bn(Dt,{height:"1rem",width:"8rem"}):nS("div",{className:`${ei}__block-header`,children:[bn(as,{CustomComponent:m,label:nS(e$,{children:[bn("span",{className:`${ei}__block-number`,children:String(S+1).padStart(2,"0")}),bn(tt,{className:`${ei}__block-pill ${ei}__block-pill-${w.blockType}`,pillStyle:"white",size:"small",children:t$(r.labels.singular,k)}),B&&bn(A1,{path:`${y}.blockName`,readOnly:x})]}),path:y,rowNumber:S}),N&&bn(_o,{count:l,i18n:k,withMessage:!0})]}),isCollapsed:w.collapsed,onToggle:G,children:A?bn(Dt,{}):bn(ko,{className:`${ei}__fields`,fields:c,margins:"small",parentIndexPath:"",parentPath:y,parentSchemaPath:R,permissions:O,readOnly:x})},w.id)},`${b}-row-${S}`),e[2]=m,e[3]=o,e[4]=n,e[5]=r.fields,e[6]=r.labels,e[7]=r.slug,e[8]=s,e[9]=$,e[10]=i,e[11]=a,e[12]=l,e[13]=N,e[14]=c,e[15]=u,e[16]=k,e[17]=A,e[18]=f,e[19]=p,e[20]=h,e[21]=g,e[22]=b,e[23]=C,e[24]=y,e[25]=v,e[26]=x,e[27]=_,e[28]=w.blockType,e[29]=w.collapsed,e[30]=w.id,e[31]=T,e[32]=S,e[33]=R,e[34]=D,e[35]=I,e[36]=B,e[37]=F,e[38]=M}else M=e[38];return M};var Zr="blocks-field",r$=t=>{let{i18n:e,t:o}=P(),{field:n,field:{name:r,type:s,admin:{className:i,description:a,isSortable:l=!0}={},blockReferences:c,blocks:u,label:d,labels:f,localized:m,maxRows:p,minRows:h,required:g},path:b,permissions:C,readOnly:y,schemaPath:v,validate:x}=t,_=v??r,w=h??g?1:0,{setDocFieldPreferences:T}=Te(),{addFieldRow:S,dispatchFields:R,getFields:D,moveFieldRow:I,removeFieldRow:F,replaceState:A,setModified:k}=Oe(),{code:L}=Ie(),{config:{localization:N},config:B}=H(),j=Yc("blocks-drawer"),E=uo(),$={plural:o("fields:blocks"),singular:o("fields:block"),...f},M=(()=>{if(N&&N.fallback){let te=N.defaultLocale;return L===te}return!0})(),O=$n((te,ge)=>{if(!M&&te===null)return!0;if(typeof x=="function")return x(te,{...ge,maxRows:p,minRows:w,required:g})},[p,w,g,x,M]),{blocksFilterOptions:G,customComponents:{AfterInput:W,BeforeInput:U,Description:z,Error:J,Label:Z}={},disabled:X,errorPaths:ae,path:Y,rows:ne=[],showError:Q,valid:de,value:ve}=Fe({hasRows:!0,potentiallyStalePath:b,validate:O}),{clientBlocks:fe,clientBlocksAfterFilter:$e}=aS(()=>{let te=[];if(!c)te=u;else for(let ge of c){let ye=typeof ge=="string"?B.blocksMap[ge]:ge;ye&&te.push(ye)}if(Array.isArray(G)){let ge=te.filter(ye=>{let rt=typeof ye=="string"?ye:ye.slug;return G.includes(rt)});return{clientBlocks:te,clientBlocksAfterFilter:ge}}return{clientBlocks:te,clientBlocksAfterFilter:te}},[c,u,G,B.blocksMap]),Me=$n((te,ge)=>{S({blockType:ge,path:Y,rowIndex:te,schemaPath:_}),setTimeout(()=>{hl(`${Y}-row-${te+1}`)},0)},[S,Y,_]),Ne=$n(te=>{R({type:"DUPLICATE_ROW",path:Y,rowIndex:te}),k(!0),setTimeout(()=>{hl(`${Y}-row-${te+1}`)},0)},[R,Y,k]),be=$n(te=>{F({path:Y,rowIndex:te})},[Y,F]),Ve=$n((te,ge)=>{I({moveFromIndex:te,moveToIndex:ge,path:Y})},[I,Y]),Ye=$n(te=>{let{collapsedIDs:ge,updatedRows:ye}=Sf({collapsed:te,rows:ne});R({type:"SET_ALL_ROWS_COLLAPSED",path:Y,updatedRows:ye}),T(Y,{collapsed:ge})},[R,Y,ne,T]),se=$n((te,ge)=>{let{collapsedIDs:ye,updatedRows:rt}=wf({collapsed:ge,rowID:te,rows:ne});R({type:"SET_ROW_COLLAPSED",path:Y,updatedRows:rt}),T(Y,{collapsed:ye})},[R,Y,ne,T]),xe=$n(te=>{let ge=qa({type:s,blocks:fe,getDataToCopy:()=>tl({formState:{...D()},path:Y,rowIndex:te}),path:Y,rowIndex:te,t:o});typeof ge=="string"?oe.error(ge):oe.success(o("general:copied"))},[fe,Y,o,s,D]),V=$n(te=>{let ye=Qa({onPaste:rt=>{let Be={...D()},qe=ol({dataFromClipboard:rt,formState:Be,path:Y,rowIndex:te});A(qe),k(!0)},path:Y,schemaBlocks:fe,t:o});typeof ye=="string"&&oe.error(ye)},[fe,D,Y,A,k,o]),le=$n(te=>{let ge={...D()},ye=ol({dataFromClipboard:te,formState:ge,path:Y});A(ye),k(!0)},[D,Y,A,k]),q=p&&ne.length>=p,me=ae.length,pe=E&&me+(de?0:1)>0,re=ne.length<w||g&&ne.length===0,ee=y&&ne.length===0,he=aS(()=>Qe(n),[n]);return vs("div",{className:[Ae,Zr,i,pe?`${Zr}--has-error`:`${Zr}--has-no-error`].filter(Boolean).join(" "),id:`field-${Y?.replace(/\./g,"__")}`,style:he,children:[Q&&qt(ue,{CustomComponent:J,Fallback:qt(Ze,{path:Y,showError:Q})}),vs("header",{className:`${Zr}__header`,children:[vs("div",{className:`${Zr}__header-wrap`,children:[vs("div",{className:`${Zr}__heading-with-error`,children:[qt("h3",{children:qt(ue,{CustomComponent:Z,Fallback:qt(_e,{as:"span",label:d,localized:m,path:Y,required:g})})}),pe&&me>0&&qt(_o,{count:me,i18n:e,withMessage:!0})]}),vs("ul",{className:`${Zr}__header-actions`,children:[ne.length>0&&vs(iS,{children:[qt("li",{children:qt("button",{className:`${Zr}__header-action`,onClick:()=>Ye(!0),type:"button",children:o("fields:collapseAll")})}),qt("li",{children:qt("button",{className:`${Zr}__header-action`,onClick:()=>Ye(!1),type:"button",children:o("fields:showAll")})})]}),qt("li",{children:qt(Jm,{allowCopy:ne?.length>0,allowPaste:!y,blocks:fe,className:`${Zr}__header-action`,disabled:X,getDataToCopy:()=>tl({formState:{...D()},path:Y}),onPaste:le,path:Y,type:s})})]})]}),qt(ue,{CustomComponent:z,Fallback:qt(Ue,{description:a,path:Y})})]}),U,qt(au,{fieldValue:ve,localized:m,path:Y,readOnly:y}),(ne.length>0||!de&&(ee||re))&&vs(zr,{className:`${Zr}__rows`,ids:ne.map(te=>te.id),onDragEnd:({moveFromIndex:te,moveToIndex:ge})=>Ve(te,ge),children:[ne.map((te,ge)=>{let{blockType:ye,isLoading:rt}=te,Be=B.blocksMap[ye]??fe.find(qe=>qe.slug===ye);if(Be){let qe=`${Y}.${ge}`,wt=ae.filter(ro=>ro.startsWith(qe+".")).length;return qt(Nn,{disabled:y||X||!l,id:te.id,children:ro=>qt(sS,{...ro,addRow:Me,block:Be,blocks:fe,copyRow:xe,duplicateRow:Ne,errorCount:wt,fields:Be.fields,hasMaxRows:q,isLoading:rt,isSortable:l,Label:ne?.[ge]?.customComponents?.RowLabel,labels:$,moveRow:Ve,parentPath:Y,pasteRow:V,path:qe,permissions:C,readOnly:y||X,removeRow:be,row:te,rowCount:ne.length,rowIndex:ge,schemaPath:_+Be.slug,setCollapse:se})},te.id)}return null}),!M&&vs(o$.Fragment,{children:[re&&qt(un,{type:"error",children:o("validation:requiresAtLeast",{count:w,label:P1(w>1?$.plural:$.singular,e)||o(w>1?"general:row":"general:rows")})}),ee&&qt(un,{children:o("validation:fieldHasNo",{label:P1($.plural,e)})})]})]}),!q&&vs(iS,{children:[qt(fs,{className:`${Zr}__drawer-toggler`,disabled:y||X,slug:j,children:qt(K,{buttonStyle:"icon-label",disabled:y||X,el:"span",icon:"plus",iconPosition:"left",iconStyle:"with-border",children:o("fields:addLabel",{label:P1($.singular,e)})})}),qt(du,{addRow:Me,addRowIndex:ne?.length||0,blocks:$e,drawerSlug:j,labels:$})]}),W]})},mu=ze(r$);import{jsx as Qi,jsxs as lS}from"react/jsx-runtime";import cS,{useCallback as uS,useEffect as a$,useMemo as l$,useState as c$}from"react";import{jsx as E1}from"react/jsx-runtime";import{lazy as n$,Suspense as s$}from"react";var i$=n$(()=>import("./CodeEditor-YTDBQA7A.js")),fu=t=>E1(s$,{fallback:E1(Dt,{}),children:E1(i$,{...t})});var u$={js:"javascript",ts:"typescript",tsx:"typescript"},d$="code-field",m$=t=>{let{field:e,field:{admin:{className:o,description:n,editorOptions:r,editorProps:s,language:i="javascript"}={},label:a,localized:l,required:c},onMount:u,path:d,readOnly:f,validate:m}=t,p=cS.useRef("formState"),[h,g]=c$(Date.now()),b=uS((L,N)=>{if(typeof m=="function")return m(L,{...N,required:c})},[m,c]),{customComponents:{AfterInput:C,BeforeInput:y,Description:v,Error:x,Label:_}={},disabled:w,initialValue:T,path:S,setValue:R,showError:D,value:I}=Fe({potentiallyStalePath:d,validate:b}),F=cS.useRef((I||T)!==void 0?I??T:void 0),A=uS(L=>{if(!(f||w)){p.current="internalEditor";try{R(L||null),F.current=L}catch{R(L||null),F.current=L}}},[f,w,R]);a$(()=>{p.current==="formState"&&(F.current=(I||T)!==void 0?I??T:void 0,g(Date.now())),p.current="formState"},[T,S,I]);let k=l$(()=>Qe(e),[e]);return lS("div",{className:[Ae,d$,o,D&&"error",(f||w)&&"read-only"].filter(Boolean).join(" "),style:k,children:[Qi(ue,{CustomComponent:_,Fallback:Qi(_e,{label:a,localized:l,path:S,required:c})}),lS("div",{className:`${Ae}__wrap`,children:[Qi(ue,{CustomComponent:x,Fallback:Qi(Ze,{path:S,showError:D})}),y,Qi(fu,{defaultLanguage:u$[i]||i,onChange:A,onMount:u,options:r,readOnly:f||w,recalculatedHeightAt:h,value:F.current,wrapperProps:{id:`field-${S?.replace(/\./g,"__")}`},...s||{}}),C]}),Qi(ue,{CustomComponent:v,Fallback:Qi(Ue,{description:n,path:S})})]})},pu=ze(m$);import{jsx as ea,jsxs as N1}from"react/jsx-runtime";import{getTranslation as p$}from"@payloadcms/translations";import{Fragment as h$,useCallback as g$,useEffect as b$,useMemo as v$,useState as mS}from"react";import{c as f$}from"react/compiler-runtime";import{fieldAffectsData as dS}from"payload/shared";var Mf=t=>t.reduce((e,o)=>{let n="fields"in o?o.fields:void 0;return n?dS(o)?e.push(`${o.name}.`):e.push(...Mf(n)):o.type==="tabs"?"tabs"in o&&o.tabs?.forEach(r=>{"name"in r?e.push(`${r.name}.`):e.push(...Mf(r.fields))}):dS(o)&&e.push(o.name),e},[]);var Ki=t=>{let e=f$(12),{fields:o,path:n,setErrorCount:r}=t,[s]=Xs(),i=uo(),a;e[0]!==o?(a=Mf(o),e[0]=o,e[1]=a):a=e[1];let l=a,c;e[2]!==s||e[3]!==i||e[4]!==n||e[5]!==l||e[6]!==r?(c=()=>{if(i){let d=0;Object.entries(s).forEach(f=>{let[m]=f;if(l?.some(h=>{let g=[...n,h].join(".");return g.endsWith(".")?m.startsWith(g):m===g})){let h=s[m];"valid"in h&&!h.valid&&(d=d+1)}}),r(d)}},e[2]=s,e[3]=i,e[4]=n,e[5]=l,e[6]=r,e[7]=c):c=e[7];let u;return e[8]!==o||e[9]!==s||e[10]!==i?(u=[s,i,o],e[8]=o,e[9]=s,e[10]=i,e[11]=u):u=e[11],Hi(c,250,u),null};var hu="collapsible-field",y$=t=>{let{field:e,field:{admin:{className:o,description:n,initCollapsed:r=!1}={},fields:s,label:i}={},indexPath:a,parentPath:l,parentSchemaPath:c,path:u,permissions:d,readOnly:f}=t,{i18n:m}=P(),{getPreference:p,setPreference:h}=so(),{preferencesKey:g}=Te(),[b,C]=mS(),y=`collapsible-${u?.replace(/\./g,"__")}`,[v,x]=mS(0),_=v>0,{customComponents:{AfterInput:w,BeforeInput:T,Description:S,Label:R}={},disabled:D}=Fe({path:u}),I=g$(async A=>{let k=await p(g);g&&h(g,{...k,...u?{fields:{...k?.fields||{},[u]:{...k?.fields?.[u],collapsed:A}}}:{fields:{...k?.fields||{},[y]:{...k?.fields?.[y],collapsed:A}}}})},[g,y,p,h,u]);b$(()=>{(async()=>{if(g){let k=await p(g),L=u?k?.fields?.[u]?.collapsed:k?.fields?.[y]?.collapsed;C(L!==void 0?!!L:typeof r=="boolean"?r:!1)}else C(typeof r=="boolean"?r:!1)})()},[p,g,y,r,u]);let F=v$(()=>Qe(e),[e]);return typeof b!="boolean"?null:N1(h$,{children:[ea(Ki,{fields:s,path:u.split(".").slice(0,-1),setErrorCount:x}),N1("div",{className:[Ae,hu,o,_?`${hu}--has-error`:`${hu}--has-no-error`].filter(Boolean).join(" "),id:`field-${y}`,style:F,children:[T,ea(Ji,{className:`${hu}__collapsible`,collapsibleStyle:_?"error":"default",header:N1("div",{className:`${hu}__row-label-wrap`,children:[ea(as,{CustomComponent:R,label:p$(i,m),path:u}),_&&ea(_o,{count:v,i18n:m,withMessage:!0})]}),initCollapsed:b,onToggle:I,children:ea(ko,{fields:s,margins:"small",parentIndexPath:a,parentPath:l,parentSchemaPath:c,permissions:d,readOnly:f||D})}),w,ea(ue,{CustomComponent:S,Fallback:ea(Ue,{description:n,path:u})})]})]})},gu=ze(y$);import{jsx as ni,jsxs as rT}from"react/jsx-runtime";import{getTranslation as yO}from"@payloadcms/translations";import{useCallback as wv,useMemo as Sv}from"react";import{jsx as L1}from"react/jsx-runtime";import{lazy as C$,Suspense as x$}from"react";var w$=C$(()=>import("./DatePicker-CGU25CJE.js")),bl=t=>L1(x$,{fallback:L1(Dt,{height:50}),children:L1(w$,{...t})});import{jsx as oT,jsxs as bO}from"react/jsx-runtime";import{useMemo as vO}from"react";import{jsx as sa}from"react/jsx-runtime";import{getTranslation as K_}from"@payloadcms/translations";import eT,{useEffect as fO,useId as pO}from"react";function vn(t){"@babel/helpers - typeof";return vn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vn(t)}function fS(t,e){if(vn(t)!="object"||!t)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var n=o.call(t,e||"default");if(vn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Of(t){var e=fS(t,"string");return vn(e)=="symbol"?e:e+""}function ta(t,e,o){return(e=Of(e))in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function pS(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),o.push.apply(o,n)}return o}function Ee(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?pS(Object(o),!0).forEach(function(n){ta(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):pS(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}function hS(t){if(Array.isArray(t))return t}function gS(t,e){var o=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(o!=null){var n,r,s,i,a=[],l=!0,c=!1;try{if(s=(o=o.call(t)).next,e===0){if(Object(o)!==o)return;l=!1}else for(;!(l=(n=s.call(o)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&o.return!=null&&(i=o.return(),Object(i)!==i))return}finally{if(c)throw r}}return a}}function bu(t,e){(e==null||e>t.length)&&(e=t.length);for(var o=0,n=Array(e);o<e;o++)n[o]=t[o];return n}function Vf(t,e){if(t){if(typeof t=="string")return bu(t,e);var o={}.toString.call(t).slice(8,-1);return o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set"?Array.from(t):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?bu(t,e):void 0}}function bS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yn(t,e){return hS(t)||gS(t,e)||Vf(t,e)||bS()}function lr(t,e){if(t==null)return{};var o,n,r=nl(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)o=s[n],e.indexOf(o)===-1&&{}.propertyIsEnumerable.call(t,o)&&(r[o]=t[o])}return r}import{useState as k1,useCallback as Gf}from"react";var S$=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function zf(t){var e=t.defaultInputValue,o=e===void 0?"":e,n=t.defaultMenuIsOpen,r=n===void 0?!1:n,s=t.defaultValue,i=s===void 0?null:s,a=t.inputValue,l=t.menuIsOpen,c=t.onChange,u=t.onInputChange,d=t.onMenuClose,f=t.onMenuOpen,m=t.value,p=lr(t,S$),h=k1(a!==void 0?a:o),g=yn(h,2),b=g[0],C=g[1],y=k1(l!==void 0?l:r),v=yn(y,2),x=v[0],_=v[1],w=k1(m!==void 0?m:i),T=yn(w,2),S=T[0],R=T[1],D=Gf(function(B,j){typeof c=="function"&&c(B,j),R(B)},[c]),I=Gf(function(B,j){var E;typeof u=="function"&&(E=u(B,j)),C(E!==void 0?E:B)},[u]),F=Gf(function(){typeof f=="function"&&f(),_(!0)},[f]),A=Gf(function(){typeof d=="function"&&d(),_(!1)},[d]),k=a!==void 0?a:b,L=l!==void 0?l:x,N=m!==void 0?m:S;return Ee(Ee({},p),{},{inputValue:k,menuIsOpen:L,onChange:D,onInputChange:I,onMenuClose:A,onMenuOpen:F,value:N})}import*as E_ from"react";import{forwardRef as XM,useMemo as Yve}from"react";function vS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yS(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Of(n.key),n)}}function CS(t,e,o){return e&&yS(t.prototype,e),o&&yS(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function xS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sl(t,e)}function vu(t){return vu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vu(t)}function j1(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j1=function(){return!!t})()}function wS(t,e){if(e&&(vn(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e2(t)}function SS(t){var e=j1();return function(){var o,n=vu(t);if(e){var r=vu(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return wS(this,o)}}function IS(t){if(Array.isArray(t))return bu(t)}function _S(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TS(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ti(t){return IS(t)||_S(t)||Vf(t)||TS()}import*as Ct from"react";import{useMemo as Fu,Fragment as sv,useRef as Pl,useCallback as ri,useEffect as x_,Component as cM}from"react";import*as Jr from"react";import{useContext as tB,forwardRef as oB}from"react";var I$=!1;function _$(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function T$(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var FS=function(){function t(o){var n=this;this._insertTag=function(r){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(r,s),n.tags.push(r)},this.isSpeedy=o.speedy===void 0?!I$:o.speedy,this.tags=[],this.ctr=0,this.nonce=o.nonce,this.key=o.key,this.container=o.container,this.prepend=o.prepend,this.insertionPoint=o.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(T$(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var s=_$(r);try{s.insertRule(n,s.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var r;return(r=n.parentNode)==null?void 0:r.removeChild(n)}),this.tags=[],this.ctr=0},t}();var jo="-ms-",yu="-moz-",mt="-webkit-",Wf="comm",vl="rule",yl="decl";var RS="@import";var Hf="@keyframes";var DS="@layer";var AS=Math.abs,oa=String.fromCharCode,PS=Object.assign;function ES(t,e){return io(t,0)^45?(((e<<2^io(t,0))<<2^io(t,1))<<2^io(t,2))<<2^io(t,3):0}function Uf(t){return t.trim()}function $1(t,e){return(t=e.exec(t))?t[0]:t}function at(t,e,o){return t.replace(e,o)}function Cu(t,e){return t.indexOf(e)}function io(t,e){return t.charCodeAt(e)|0}function oi(t,e,o){return t.slice(e,o)}function Yo(t){return t.length}function Cl(t){return t.length}function xl(t,e){return e.push(t),t}function B1(t,e){return t.map(e).join("")}var Xf=1,wl=1,NS=0,Jo=0,ho=0,Il="";function xu(t,e,o,n,r,s,i){return{value:t,root:e,parent:o,type:n,props:r,children:s,line:Xf,column:wl,length:i,return:""}}function _l(t,e){return PS(xu("",null,null,"",null,null,0),t,{length:-t.length},e)}function LS(){return ho}function kS(){return ho=Jo>0?io(Il,--Jo):0,wl--,ho===10&&(wl=1,Xf--),ho}function qo(){return ho=Jo<NS?io(Il,Jo++):0,wl++,ho===10&&(wl=1,Xf++),ho}function Yr(){return io(Il,Jo)}function wu(){return Jo}function Tl(t,e){return oi(Il,t,e)}function Sl(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Zf(t){return Xf=wl=1,NS=Yo(Il=t),Jo=0,[]}function Yf(t){return Il="",t}function Fl(t){return Uf(Tl(Jo-1,M1(t===91?t+2:t===40?t+1:t)))}function jS(t){for(;(ho=Yr())&&ho<33;)qo();return Sl(t)>2||Sl(ho)>3?"":" "}function $S(t,e){for(;--e&&qo()&&!(ho<48||ho>102||ho>57&&ho<65||ho>70&&ho<97););return Tl(t,wu()+(e<6&&Yr()==32&&qo()==32))}function M1(t){for(;qo();)switch(ho){case t:return Jo;case 34:case 39:t!==34&&t!==39&&M1(ho);break;case 40:t===41&&M1(t);break;case 92:qo();break}return Jo}function BS(t,e){for(;qo()&&t+ho!==57;)if(t+ho===84&&Yr()===47)break;return"/*"+Tl(e,Jo-1)+"*"+oa(t===47?t:qo())}function MS(t){for(;!Sl(Yr());)qo();return Tl(t,Jo)}function GS(t){return Yf(Jf("",null,null,null,[""],t=Zf(t),0,[0],t))}function Jf(t,e,o,n,r,s,i,a,l){for(var c=0,u=0,d=i,f=0,m=0,p=0,h=1,g=1,b=1,C=0,y="",v=r,x=s,_=n,w=y;g;)switch(p=C,C=qo()){case 40:if(p!=108&&io(w,d-1)==58){Cu(w+=at(Fl(C),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:w+=Fl(C);break;case 9:case 10:case 13:case 32:w+=jS(p);break;case 92:w+=$S(wu()-1,7);continue;case 47:switch(Yr()){case 42:case 47:xl(F$(BS(qo(),wu()),e,o),l);break;default:w+="/"}break;case 123*h:a[c++]=Yo(w)*b;case 125*h:case 59:case 0:switch(C){case 0:case 125:g=0;case 59+u:b==-1&&(w=at(w,/\f/g,"")),m>0&&Yo(w)-d&&xl(m>32?VS(w+";",n,o,d-1):VS(at(w," ","")+";",n,o,d-2),l);break;case 59:w+=";";default:if(xl(_=OS(w,e,o,c,u,r,a,y,v=[],x=[],d),s),C===123)if(u===0)Jf(w,e,_,_,v,s,d,a,x);else switch(f===99&&io(w,3)===110?100:f){case 100:case 108:case 109:case 115:Jf(t,_,_,n&&xl(OS(t,_,_,0,0,r,a,y,r,v=[],d),x),r,x,d,a,n?v:x);break;default:Jf(w,_,_,_,[""],x,0,a,x)}}c=u=m=0,h=b=1,y=w="",d=i;break;case 58:d=1+Yo(w),m=p;default:if(h<1){if(C==123)--h;else if(C==125&&h++==0&&kS()==125)continue}switch(w+=oa(C),C*h){case 38:b=u>0?1:(w+="\f",-1);break;case 44:a[c++]=(Yo(w)-1)*b,b=1;break;case 64:Yr()===45&&(w+=Fl(qo())),f=Yr(),u=d=Yo(y=w+=MS(wu())),C++;break;case 45:p===45&&Yo(w)==2&&(h=0)}}return s}function OS(t,e,o,n,r,s,i,a,l,c,u){for(var d=r-1,f=r===0?s:[""],m=Cl(f),p=0,h=0,g=0;p<n;++p)for(var b=0,C=oi(t,d+1,d=AS(h=i[p])),y=t;b<m;++b)(y=Uf(h>0?f[b]+" "+C:at(C,/&\f/g,f[b])))&&(l[g++]=y);return xu(t,e,o,r===0?vl:a,l,c,u)}function F$(t,e,o){return xu(t,e,o,Wf,oa(LS()),oi(t,2,-2),0)}function VS(t,e,o,n){return xu(t,e,o,yl,oi(t,0,n),oi(t,n+1,-1),n)}function ra(t,e){for(var o="",n=Cl(t),r=0;r<n;r++)o+=e(t[r],r,t,e)||"";return o}function zS(t,e,o,n){switch(t.type){case DS:if(t.children.length)break;case RS:case yl:return t.return=t.return||t.value;case Wf:return"";case Hf:return t.return=t.value+"{"+ra(t.children,n)+"}";case vl:t.value=t.props.join(",")}return Yo(o=ra(t.children,n))?t.return=t.value+"{"+o+"}":""}function WS(t){var e=Cl(t);return function(o,n,r,s){for(var i="",a=0;a<e;a++)i+=t[a](o,n,r,s)||"";return i}}function HS(t){return function(e){e.root||(e=e.return)&&t(e)}}function US(t){var e=Object.create(null);return function(o){return e[o]===void 0&&(e[o]=t(o)),e[o]}}var R$=function(e,o,n){for(var r=0,s=0;r=s,s=Yr(),r===38&&s===12&&(o[n]=1),!Sl(s);)qo();return Tl(e,Jo)},D$=function(e,o){var n=-1,r=44;do switch(Sl(r)){case 0:r===38&&Yr()===12&&(o[n]=1),e[n]+=R$(Jo-1,o,n);break;case 2:e[n]+=Fl(r);break;case 4:if(r===44){e[++n]=Yr()===58?"&\f":"",o[n]=e[n].length;break}default:e[n]+=oa(r)}while(r=qo());return e},A$=function(e,o){return Yf(D$(Zf(e),o))},XS=new WeakMap,P$=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var o=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&o.charCodeAt(0)!==58&&!XS.get(n))&&!r){XS.set(e,!0);for(var s=[],i=A$(o,s),a=n.props,l=0,c=0;l<i.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=s[l]?i[l].replace(/&\f/g,a[u]):a[u]+" "+i[l]}}},E$=function(e){if(e.type==="decl"){var o=e.value;o.charCodeAt(0)===108&&o.charCodeAt(2)===98&&(e.return="",e.value="")}};function ZS(t,e){switch(ES(t,e)){case 5103:return mt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return mt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return mt+t+yu+t+jo+t+t;case 6828:case 4268:return mt+t+jo+t+t;case 6165:return mt+t+jo+"flex-"+t+t;case 5187:return mt+t+at(t,/(\w+).+(:[^]+)/,mt+"box-$1$2"+jo+"flex-$1$2")+t;case 5443:return mt+t+jo+"flex-item-"+at(t,/flex-|-self/,"")+t;case 4675:return mt+t+jo+"flex-line-pack"+at(t,/align-content|flex-|-self/,"")+t;case 5548:return mt+t+jo+at(t,"shrink","negative")+t;case 5292:return mt+t+jo+at(t,"basis","preferred-size")+t;case 6060:return mt+"box-"+at(t,"-grow","")+mt+t+jo+at(t,"grow","positive")+t;case 4554:return mt+at(t,/([^-])(transform)/g,"$1"+mt+"$2")+t;case 6187:return at(at(at(t,/(zoom-|grab)/,mt+"$1"),/(image-set)/,mt+"$1"),t,"")+t;case 5495:case 3959:return at(t,/(image-set\([^]*)/,mt+"$1$`$1");case 4968:return at(at(t,/(.+:)(flex-)?(.*)/,mt+"box-pack:$3"+jo+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+mt+t+t;case 4095:case 3583:case 4068:case 2532:return at(t,/(.+)-inline(.+)/,mt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Yo(t)-1-e>6)switch(io(t,e+1)){case 109:if(io(t,e+4)!==45)break;case 102:return at(t,/(.+:)(.+)-([^]+)/,"$1"+mt+"$2-$3$1"+yu+(io(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Cu(t,"stretch")?ZS(at(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(io(t,e+1)!==115)break;case 6444:switch(io(t,Yo(t)-3-(~Cu(t,"!important")&&10))){case 107:return at(t,":",":"+mt)+t;case 101:return at(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+mt+(io(t,14)===45?"inline-":"")+"box$3$1"+mt+"$2$3$1"+jo+"$2box$3")+t}break;case 5936:switch(io(t,e+11)){case 114:return mt+t+jo+at(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return mt+t+jo+at(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return mt+t+jo+at(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return mt+t+jo+t+t}return t}var N$=function(e,o,n,r){if(e.length>-1&&!e.return)switch(e.type){case yl:e.return=ZS(e.value,e.length);break;case Hf:return ra([_l(e,{value:at(e.value,"@","@"+mt)})],r);case vl:if(e.length)return B1(e.props,function(s){switch($1(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ra([_l(e,{props:[at(s,/:(read-\w+)/,":"+yu+"$1")]})],r);case"::placeholder":return ra([_l(e,{props:[at(s,/:(plac\w+)/,":"+mt+"input-$1")]}),_l(e,{props:[at(s,/:(plac\w+)/,":"+yu+"$1")]}),_l(e,{props:[at(s,/:(plac\w+)/,jo+"input-$1")]})],r)}return""})}},L$=[N$],O1=function(e){var o=e.key;if(o==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(h){var g=h.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(h),h.setAttribute("data-s",""))})}var r=e.stylisPlugins||L$,s={},i,a=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+o+' "]'),function(h){for(var g=h.getAttribute("data-emotion").split(" "),b=1;b<g.length;b++)s[g[b]]=!0;a.push(h)});var l,c=[P$,E$];{var u,d=[zS,HS(function(h){u.insert(h)})],f=WS(c.concat(r,d)),m=function(g){return ra(GS(g),f)};l=function(g,b,C,y){u=C,m(g?g+"{"+b.styles+"}":b.styles),y&&(p.inserted[b.name]=!0)}}var p={key:o,sheet:new FS({key:o,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return p.sheet.hydrate(a),p};var X$=!0;function U1(t,e,o){var n="";return o.split(" ").forEach(function(r){t[r]!==void 0?e.push(t[r]+";"):r&&(n+=r+" ")}),n}var ap=function(e,o,n){var r=e.key+"-"+o.name;(n===!1||X$===!1)&&e.registered[r]===void 0&&(e.registered[r]=o.styles)},X1=function(e,o,n){ap(e,o,n);var r=e.key+"-"+o.name;if(e.inserted[o.name]===void 0){var s=o;do e.insert(o===s?"."+r:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function iI(t){for(var e=0,o,n=0,r=t.length;r>=4;++n,r-=4)o=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,o=(o&65535)*1540483477+((o>>>16)*59797<<16),o^=o>>>24,e=(o&65535)*1540483477+((o>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var aI={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Z$=!1,Y$=/[A-Z]|^ms/g,J$=/_EMO_([^_]+?)_([^]*?)_EMO_/g,dI=function(e){return e.charCodeAt(1)===45},lI=function(e){return e!=null&&typeof e!="boolean"},Z1=US(function(t){return dI(t)?t:t.replace(Y$,"-$&").toLowerCase()}),cI=function(e,o){switch(e){case"animation":case"animationName":if(typeof o=="string")return o.replace(J$,function(n,r,s){return Bn={name:r,styles:s,next:Bn},r})}return aI[e]!==1&&!dI(e)&&typeof o=="number"&&o!==0?o+"px":o},q$="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Su(t,e,o){if(o==null)return"";var n=o;if(n.__emotion_styles!==void 0)return n;switch(typeof o){case"boolean":return"";case"object":{var r=o;if(r.anim===1)return Bn={name:r.name,styles:r.styles,next:Bn},r.name;var s=o;if(s.styles!==void 0){var i=s.next;if(i!==void 0)for(;i!==void 0;)Bn={name:i.name,styles:i.styles,next:Bn},i=i.next;var a=s.styles+";";return a}return Q$(t,e,o)}case"function":{if(t!==void 0){var l=Bn,c=o(t);return Bn=l,Su(t,e,c)}break}}var u=o;if(e==null)return u;var d=e[u];return d!==void 0?d:u}function Q$(t,e,o){var n="";if(Array.isArray(o))for(var r=0;r<o.length;r++)n+=Su(t,e,o[r])+";";else for(var s in o){var i=o[s];if(typeof i!="object"){var a=i;e!=null&&e[a]!==void 0?n+=s+"{"+e[a]+"}":lI(a)&&(n+=Z1(s)+":"+cI(s,a)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&Z$)throw new Error(q$);if(Array.isArray(i)&&typeof i[0]=="string"&&(e==null||e[i[0]]===void 0))for(var l=0;l<i.length;l++)lI(i[l])&&(n+=Z1(s)+":"+cI(s,i[l])+";");else{var c=Su(t,e,i);switch(s){case"animation":case"animationName":{n+=Z1(s)+":"+c+";";break}default:n+=s+"{"+c+"}"}}}}return n}var uI=/label:\s*([^\s;{]+)\s*(;|$)/g,Bn;function lp(t,e,o){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,r="";Bn=void 0;var s=t[0];if(s==null||s.raw===void 0)n=!1,r+=Su(o,e,s);else{var i=s;r+=i[0]}for(var a=1;a<t.length;a++)if(r+=Su(o,e,t[a]),n){var l=s;r+=l[a]}uI.lastIndex=0;for(var c="",u;(u=uI.exec(r))!==null;)c+="-"+u[1];var d=iI(r)+c;return{name:d,styles:r,next:Bn}}import*as cp from"react";var K$=function(e){return e()},eB=cp.useInsertionEffect?cp.useInsertionEffect:!1,Y1=eB||K$;var mI=!1,fI=Jr.createContext(typeof HTMLElement<"u"?O1({key:"css"}):null),ove=fI.Provider;var pI=function(e){return oB(function(o,n){var r=tB(fI);return e(o,r,n)})},hI=Jr.createContext({});var up={}.hasOwnProperty,J1="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",gI=function(e,o){var n={};for(var r in o)up.call(o,r)&&(n[r]=o[r]);return n[J1]=e,n},rB=function(e){var o=e.cache,n=e.serialized,r=e.isStringTag;return ap(o,n,r),Y1(function(){return X1(o,n,r)}),null},nB=pI(function(t,e,o){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var r=t[J1],s=[n],i="";typeof t.className=="string"?i=U1(e.registered,s,t.className):t.className!=null&&(i=t.className+" ");var a=lp(s,void 0,Jr.useContext(hI));i+=e.key+"-"+a.name;var l={};for(var c in t)up.call(t,c)&&c!=="css"&&c!==J1&&!mI&&(l[c]=t[c]);return l.className=i,o&&(l.ref=o),Jr.createElement(Jr.Fragment,null,Jr.createElement(rB,{cache:e,serialized:a,isStringTag:typeof r=="string"}),Jr.createElement(r,l))}),bI=nB;import*as Rl from"react";var mve=Pi(sI()),ke=function(e,o){var n=arguments;if(o==null||!up.call(o,"css"))return Rl.createElement.apply(void 0,n);var r=n.length,s=new Array(r);s[0]=bI,s[1]=gI(e,o);for(var i=2;i<r;i++)s[i]=n[i];return Rl.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(ke||(ke={}));function Iu(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return lp(e)}function vI(){var t=Iu.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function yI(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}N5();import{useContext as iB,useRef as K1,useState as pp,useMemo as aB,useCallback as q1,createContext as lB}from"react";import{createPortal as cB}from"react-dom";import{useLayoutEffect as sB}from"react";var dp=sB;var uB=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],_u=function(){};function dB(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function xI(t,e){for(var o=arguments.length,n=new Array(o>2?o-2:0),r=2;r<o;r++)n[r-2]=arguments[r];var s=[].concat(n);if(e&&t)for(var i in e)e.hasOwnProperty(i)&&e[i]&&s.push("".concat(dB(t,i)));return s.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var Dl=function(e){return bB(e)?e.filter(Boolean):vn(e)==="object"&&e!==null?[e]:[]},wI=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var o=lr(e,uB);return Ee({},o)},Qt=function(e,o,n){var r=e.cx,s=e.getStyles,i=e.getClassNames,a=e.className;return{css:s(o,e),className:r(n??{},i(o,e),a)}};function Tu(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function mB(t){return Tu(t)?window.innerHeight:t.clientHeight}function SI(t){return Tu(t)?window.pageYOffset:t.scrollTop}function hp(t,e){if(Tu(t)){window.scrollTo(0,e);return}t.scrollTop=e}function fB(t){var e=getComputedStyle(t),o=e.position==="absolute",n=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var r=t;r=r.parentElement;)if(e=getComputedStyle(r),!(o&&e.position==="static")&&n.test(e.overflow+e.overflowY+e.overflowX))return r;return document.documentElement}function pB(t,e,o,n){return o*((t=t/n-1)*t*t+1)+e}function mp(t,e){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_u,r=SI(t),s=e-r,i=10,a=0;function l(){a+=i;var c=pB(a,r,s,o);hp(t,c),a<o?window.requestAnimationFrame(l):n(t)}l()}function ev(t,e){var o=t.getBoundingClientRect(),n=e.getBoundingClientRect(),r=e.offsetHeight/3;n.bottom+r>o.bottom?hp(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+r,t.scrollHeight)):n.top-r<o.top&&hp(t,Math.max(e.offsetTop-r,0))}function hB(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function tv(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function II(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var _I=!1,gB={get passive(){return _I=!0}},fp=typeof window<"u"?window:{};fp.addEventListener&&fp.removeEventListener&&(fp.addEventListener("p",_u,gB),fp.removeEventListener("p",_u,!1));var TI=_I;function FI(t){return t!=null}function bB(t){return Array.isArray(t)}function na(t,e,o){return t?e:o}var RI=function(e){for(var o=arguments.length,n=new Array(o>1?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];var s=Object.entries(e).filter(function(i){var a=yn(i,1),l=a[0];return!n.includes(l)});return s.reduce(function(i,a){var l=yn(a,2),c=l[0],u=l[1];return i[c]=u,i},{})},vB=["children","innerProps"],yB=["children","innerProps"];function CB(t){var e=t.maxHeight,o=t.menuEl,n=t.minHeight,r=t.placement,s=t.shouldScroll,i=t.isFixedPosition,a=t.controlHeight,l=fB(o),c={placement:"bottom",maxHeight:e};if(!o||!o.offsetParent)return c;var u=l.getBoundingClientRect(),d=u.height,f=o.getBoundingClientRect(),m=f.bottom,p=f.height,h=f.top,g=o.offsetParent.getBoundingClientRect(),b=g.top,C=i?window.innerHeight:mB(l),y=SI(l),v=parseInt(getComputedStyle(o).marginBottom,10),x=parseInt(getComputedStyle(o).marginTop,10),_=b-x,w=C-h,T=_+y,S=d-y-h,R=m-C+y+v,D=y+h-x,I=160;switch(r){case"auto":case"bottom":if(w>=p)return{placement:"bottom",maxHeight:e};if(S>=p&&!i)return s&&mp(l,R,I),{placement:"bottom",maxHeight:e};if(!i&&S>=n||i&&w>=n){s&&mp(l,R,I);var F=i?w-v:S-v;return{placement:"bottom",maxHeight:F}}if(r==="auto"||i){var A=e,k=i?_:T;return k>=n&&(A=Math.min(k-v-a,e)),{placement:"top",maxHeight:A}}if(r==="bottom")return s&&hp(l,R),{placement:"bottom",maxHeight:e};break;case"top":if(_>=p)return{placement:"top",maxHeight:e};if(T>=p&&!i)return s&&mp(l,D,I),{placement:"top",maxHeight:e};if(!i&&T>=n||i&&_>=n){var L=e;return(!i&&T>=n||i&&_>=n)&&(L=i?_-x:T-x),s&&mp(l,D,I),{placement:"top",maxHeight:L}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(r,'".'))}return c}function xB(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var DI=function(e){return e==="auto"?"bottom":e},AI=function(e,o){var n,r=e.placement,s=e.theme,i=s.borderRadius,a=s.spacing,l=s.colors;return Ee((n={label:"menu"},ta(n,xB(r),"100%"),ta(n,"position","absolute"),ta(n,"width","100%"),ta(n,"zIndex",1),n),o?{}:{backgroundColor:l.neutral0,borderRadius:i,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},PI=lB(null),EI=function(e){var o=e.children,n=e.minMenuHeight,r=e.maxMenuHeight,s=e.menuPlacement,i=e.menuPosition,a=e.menuShouldScrollIntoView,l=e.theme,c=iB(PI)||{},u=c.setPortalPlacement,d=K1(null),f=pp(r),m=yn(f,2),p=m[0],h=m[1],g=pp(null),b=yn(g,2),C=b[0],y=b[1],v=l.spacing.controlHeight;return dp(function(){var x=d.current;if(x){var _=i==="fixed",w=a&&!_,T=CB({maxHeight:r,menuEl:x,minHeight:n,placement:s,shouldScroll:w,isFixedPosition:_,controlHeight:v});h(T.maxHeight),y(T.placement),u?.(T.placement)}},[r,s,i,a,n,u,v]),o({ref:d,placerProps:Ee(Ee({},e),{},{placement:C||DI(s),maxHeight:p})})},wB=function(e){var o=e.children,n=e.innerRef,r=e.innerProps;return ke("div",Pe({},Qt(e,"menu",{menu:!0}),{ref:n},r),o)},SB=wB,NI=function(e,o){var n=e.maxHeight,r=e.theme.spacing.baseUnit;return Ee({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},o?{}:{paddingBottom:r,paddingTop:r})},IB=function(e){var o=e.children,n=e.innerProps,r=e.innerRef,s=e.isMulti;return ke("div",Pe({},Qt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:r},n),o)},LI=function(e,o){var n=e.theme,r=n.spacing.baseUnit,s=n.colors;return Ee({textAlign:"center"},o?{}:{color:s.neutral40,padding:"".concat(r*2,"px ").concat(r*3,"px")})},kI=LI,jI=LI,_B=function(e){var o=e.children,n=o===void 0?"No options":o,r=e.innerProps,s=lr(e,vB);return ke("div",Pe({},Qt(Ee(Ee({},s),{},{children:n,innerProps:r}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)},TB=function(e){var o=e.children,n=o===void 0?"Loading...":o,r=e.innerProps,s=lr(e,yB);return ke("div",Pe({},Qt(Ee(Ee({},s),{},{children:n,innerProps:r}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)},$I=function(e){var o=e.rect,n=e.offset,r=e.position;return{left:o.left,position:r,top:n,width:o.width,zIndex:1}},FB=function(e){var o=e.appendTo,n=e.children,r=e.controlElement,s=e.innerProps,i=e.menuPlacement,a=e.menuPosition,l=K1(null),c=K1(null),u=pp(DI(i)),d=yn(u,2),f=d[0],m=d[1],p=aB(function(){return{setPortalPlacement:m}},[]),h=pp(null),g=yn(h,2),b=g[0],C=g[1],y=q1(function(){if(r){var w=hB(r),T=a==="fixed"?0:window.pageYOffset,S=w[f]+T;(S!==b?.offset||w.left!==b?.rect.left||w.width!==b?.rect.width)&&C({offset:S,rect:w})}},[r,a,f,b?.offset,b?.rect.left,b?.rect.width]);dp(function(){y()},[y]);var v=q1(function(){typeof c.current=="function"&&(c.current(),c.current=null),r&&l.current&&(c.current=Ox(r,l.current,y,{elementResize:"ResizeObserver"in window}))},[r,y]);dp(function(){v()},[v]);var x=q1(function(w){l.current=w,v()},[v]);if(!o&&a!=="fixed"||!b)return null;var _=ke("div",Pe({ref:x},Qt(Ee(Ee({},e),{},{offset:b.offset,position:a,rect:b.rect}),"menuPortal",{"menu-portal":!0}),s),n);return ke(PI.Provider,{value:p},o?cB(_,o):_)},BI=function(e){var o=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:o?"none":void 0,position:"relative"}},RB=function(e){var o=e.children,n=e.innerProps,r=e.isDisabled,s=e.isRtl;return ke("div",Pe({},Qt(e,"container",{"--is-disabled":r,"--is-rtl":s}),n),o)},MI=function(e,o){var n=e.theme.spacing,r=e.isMulti,s=e.hasValue,i=e.selectProps.controlShouldRenderValue;return Ee({alignItems:"center",display:r&&s&&i?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},o?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},DB=function(e){var o=e.children,n=e.innerProps,r=e.isMulti,s=e.hasValue;return ke("div",Pe({},Qt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":s}),n),o)},OI=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},AB=function(e){var o=e.children,n=e.innerProps;return ke("div",Pe({},Qt(e,"indicatorsContainer",{indicators:!0}),n),o)},CI,PB=["size"],EB=["innerProps","isRtl","size"];var NB={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},VI=function(e){var o=e.size,n=lr(e,PB);return ke("svg",Pe({height:o,width:o,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:NB},n))},ov=function(e){return ke(VI,Pe({size:20},e),ke("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},GI=function(e){return ke(VI,Pe({size:20},e),ke("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},zI=function(e,o){var n=e.isFocused,r=e.theme,s=r.spacing.baseUnit,i=r.colors;return Ee({label:"indicatorContainer",display:"flex",transition:"color 150ms"},o?{}:{color:n?i.neutral60:i.neutral20,padding:s*2,":hover":{color:n?i.neutral80:i.neutral40}})},WI=zI,LB=function(e){var o=e.children,n=e.innerProps;return ke("div",Pe({},Qt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),o||ke(GI,null))},HI=zI,kB=function(e){var o=e.children,n=e.innerProps;return ke("div",Pe({},Qt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),o||ke(ov,null))},UI=function(e,o){var n=e.isDisabled,r=e.theme,s=r.spacing.baseUnit,i=r.colors;return Ee({label:"indicatorSeparator",alignSelf:"stretch",width:1},o?{}:{backgroundColor:n?i.neutral10:i.neutral20,marginBottom:s*2,marginTop:s*2})},jB=function(e){var o=e.innerProps;return ke("span",Pe({},o,Qt(e,"indicatorSeparator",{"indicator-separator":!0})))},$B=vI(CI||(CI=yI([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),XI=function(e,o){var n=e.isFocused,r=e.size,s=e.theme,i=s.colors,a=s.spacing.baseUnit;return Ee({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"},o?{}:{color:n?i.neutral60:i.neutral20,padding:a*2})},Q1=function(e){var o=e.delay,n=e.offset;return ke("span",{css:Iu({animation:"".concat($B," 1s ease-in-out ").concat(o,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},BB=function(e){var o=e.innerProps,n=e.isRtl,r=e.size,s=r===void 0?4:r,i=lr(e,EB);return ke("div",Pe({},Qt(Ee(Ee({},i),{},{innerProps:o,isRtl:n,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),o),ke(Q1,{delay:0,offset:n}),ke(Q1,{delay:160,offset:!0}),ke(Q1,{delay:320,offset:!n}))},ZI=function(e,o){var n=e.isDisabled,r=e.isFocused,s=e.theme,i=s.colors,a=s.borderRadius,l=s.spacing;return Ee({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},o?{}:{backgroundColor:n?i.neutral5:i.neutral0,borderColor:n?i.neutral10:r?i.primary:i.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(i.primary):void 0,"&:hover":{borderColor:r?i.primary:i.neutral30}})},MB=function(e){var o=e.children,n=e.isDisabled,r=e.isFocused,s=e.innerRef,i=e.innerProps,a=e.menuIsOpen;return ke("div",Pe({ref:s},Qt(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":r,"control--menu-is-open":a}),i,{"aria-disabled":n||void 0}),o)},OB=MB,VB=["data"],YI=function(e,o){var n=e.theme.spacing;return o?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},GB=function(e){var o=e.children,n=e.cx,r=e.getStyles,s=e.getClassNames,i=e.Heading,a=e.headingProps,l=e.innerProps,c=e.label,u=e.theme,d=e.selectProps;return ke("div",Pe({},Qt(e,"group",{group:!0}),l),ke(i,Pe({},a,{selectProps:d,theme:u,getStyles:r,getClassNames:s,cx:n}),c),ke("div",null,o))},JI=function(e,o){var n=e.theme,r=n.colors,s=n.spacing;return Ee({label:"group",cursor:"default",display:"block"},o?{}:{color:r.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},zB=function(e){var o=wI(e);o.data;var n=lr(o,VB);return ke("div",Pe({},Qt(e,"groupHeading",{"group-heading":!0}),n))},WB=GB,HB=["innerRef","isDisabled","isHidden","inputClassName"],qI=function(e,o){var n=e.isDisabled,r=e.value,s=e.theme,i=s.spacing,a=s.colors;return Ee(Ee({visibility:n?"hidden":"visible",transform:r?"translateZ(0)":""},UB),o?{}:{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,color:a.neutral80})},QI={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},UB={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ee({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},QI)},XB=function(e){return Ee({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},QI)},ZB=function(e){var o=e.cx,n=e.value,r=wI(e),s=r.innerRef,i=r.isDisabled,a=r.isHidden,l=r.inputClassName,c=lr(r,HB);return ke("div",Pe({},Qt(e,"input",{"input-container":!0}),{"data-value":n||""}),ke("input",Pe({className:o({input:!0},l),ref:s,style:XB(a),disabled:i},c)))},YB=ZB,KI=function(e,o){var n=e.theme,r=n.spacing,s=n.borderRadius,i=n.colors;return Ee({label:"multiValue",display:"flex",minWidth:0},o?{}:{backgroundColor:i.neutral10,borderRadius:s/2,margin:r.baseUnit/2})},e_=function(e,o){var n=e.theme,r=n.borderRadius,s=n.colors,i=e.cropWithEllipsis;return Ee({overflow:"hidden",textOverflow:i||i===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},o?{}:{borderRadius:r/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},t_=function(e,o){var n=e.theme,r=n.spacing,s=n.borderRadius,i=n.colors,a=e.isFocused;return Ee({alignItems:"center",display:"flex"},o?{}:{borderRadius:s/2,backgroundColor:a?i.dangerLight:void 0,paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}})},o_=function(e){var o=e.children,n=e.innerProps;return ke("div",n,o)},JB=o_,qB=o_;function QB(t){var e=t.children,o=t.innerProps;return ke("div",Pe({role:"button"},o),e||ke(ov,{size:14}))}var KB=function(e){var o=e.children,n=e.components,r=e.data,s=e.innerProps,i=e.isDisabled,a=e.removeProps,l=e.selectProps,c=n.Container,u=n.Label,d=n.Remove;return ke(c,{data:r,innerProps:Ee(Ee({},Qt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":i})),s),selectProps:l},ke(u,{data:r,innerProps:Ee({},Qt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},o),ke(d,{data:r,innerProps:Ee(Ee({},Qt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(o||"option")},a),selectProps:l}))},eM=KB,r_=function(e,o){var n=e.isDisabled,r=e.isFocused,s=e.isSelected,i=e.theme,a=i.spacing,l=i.colors;return Ee({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},o?{}:{backgroundColor:s?l.primary:r?l.primary25:"transparent",color:n?l.neutral20:s?l.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:s?l.primary:l.primary50}})},tM=function(e){var o=e.children,n=e.isDisabled,r=e.isFocused,s=e.isSelected,i=e.innerRef,a=e.innerProps;return ke("div",Pe({},Qt(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":r,"option--is-selected":s}),{ref:i,"aria-disabled":n},a),o)},oM=tM,n_=function(e,o){var n=e.theme,r=n.spacing,s=n.colors;return Ee({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},o?{}:{color:s.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},rM=function(e){var o=e.children,n=e.innerProps;return ke("div",Pe({},Qt(e,"placeholder",{placeholder:!0}),n),o)},nM=rM,s_=function(e,o){var n=e.isDisabled,r=e.theme,s=r.spacing,i=r.colors;return Ee({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},o?{}:{color:n?i.neutral40:i.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},sM=function(e){var o=e.children,n=e.isDisabled,r=e.innerProps;return ke("div",Pe({},Qt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),r),o)},iM=sM,Ro={ClearIndicator:kB,Control:OB,DropdownIndicator:LB,DownChevron:GI,CrossIcon:ov,Group:WB,GroupHeading:zB,IndicatorsContainer:AB,IndicatorSeparator:jB,Input:YB,LoadingIndicator:BB,Menu:SB,MenuList:IB,MenuPortal:FB,LoadingMessage:TB,NoOptionsMessage:_B,MultiValue:eM,MultiValueContainer:JB,MultiValueLabel:qB,MultiValueRemove:QB,Option:oM,Placeholder:nM,SelectContainer:RB,SingleValue:iM,ValueContainer:DB},i_=function(e){return Ee(Ee({},Ro),e.components)};var a_=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function aM(t,e){return!!(t===e||a_(t)&&a_(e))}function lM(t,e){if(t.length!==e.length)return!1;for(var o=0;o<t.length;o++)if(!aM(t[o],e[o]))return!1;return!0}function l_(t,e){e===void 0&&(e=lM);var o=null;function n(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];if(o&&o.lastThis===this&&e(r,o.lastArgs))return o.lastResult;var i=t.apply(this,r);return o={lastResult:i,lastArgs:r,lastThis:this},i}return n.clear=function(){o=null},n}var uM={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},dM=function(e){return ke("span",Pe({css:uM},e))},c_=dM,mM={guidance:function(e){var o=e.isSearchable,n=e.isMulti,r=e.tabSelectsValue,s=e.context,i=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(r?", press Tab to select the option and exit the menu":"",".");case"input":return i?"".concat(e["aria-label"]||"Select"," is focused ").concat(o?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var o=e.action,n=e.label,r=n===void 0?"":n,s=e.labels,i=e.isDisabled;switch(o){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return i?"option ".concat(r," is disabled. Select another option."):"option ".concat(r,", selected.");default:return""}},onFocus:function(e){var o=e.context,n=e.focused,r=e.options,s=e.label,i=s===void 0?"":s,a=e.selectValue,l=e.isDisabled,c=e.isSelected,u=e.isAppleDevice,d=function(h,g){return h&&h.length?"".concat(h.indexOf(g)+1," of ").concat(h.length):""};if(o==="value"&&a)return"value ".concat(i," focused, ").concat(d(a,n),".");if(o==="menu"&&u){var f=l?" disabled":"",m="".concat(c?" selected":"").concat(f);return"".concat(i).concat(m,", ").concat(d(r,n),".")}return""},onFilter:function(e){var o=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(o?" for search term "+o:"",".")}},fM=function(e){var o=e.ariaSelection,n=e.focusedOption,r=e.focusedValue,s=e.focusableOptions,i=e.isFocused,a=e.selectValue,l=e.selectProps,c=e.id,u=e.isAppleDevice,d=l.ariaLiveMessages,f=l.getOptionLabel,m=l.inputValue,p=l.isMulti,h=l.isOptionDisabled,g=l.isSearchable,b=l.menuIsOpen,C=l.options,y=l.screenReaderStatus,v=l.tabSelectsValue,x=l.isLoading,_=l["aria-label"],w=l["aria-live"],T=Fu(function(){return Ee(Ee({},mM),d||{})},[d]),S=Fu(function(){var k="";if(o&&T.onChange){var L=o.option,N=o.options,B=o.removedValue,j=o.removedValues,E=o.value,$=function(J){return Array.isArray(J)?null:J},M=B||L||$(E),O=M?f(M):"",G=N||j||void 0,W=G?G.map(f):[],U=Ee({isDisabled:M&&h(M,a),label:O,labels:W},o);k=T.onChange(U)}return k},[o,T,h,a,f]),R=Fu(function(){var k="",L=n||r,N=!!(n&&a&&a.includes(n));if(L&&T.onFocus){var B={focused:L,label:f(L),isDisabled:h(L,a),isSelected:N,options:s,context:L===n?"menu":"value",selectValue:a,isAppleDevice:u};k=T.onFocus(B)}return k},[n,r,f,h,T,s,a,u]),D=Fu(function(){var k="";if(b&&C.length&&!x&&T.onFilter){var L=y({count:s.length});k=T.onFilter({inputValue:m,resultsMessage:L})}return k},[s,m,b,T,C,y,x]),I=o?.action==="initial-input-focus",F=Fu(function(){var k="";if(T.guidance){var L=r?"value":b?"menu":"input";k=T.guidance({"aria-label":_,context:L,isDisabled:n&&h(n,a),isMulti:p,isSearchable:g,tabSelectsValue:v,isInitialFocus:I})}return k},[_,n,r,p,h,g,b,T,a,v,I]),A=ke(sv,null,ke("span",{id:"aria-selection"},S),ke("span",{id:"aria-focused"},R),ke("span",{id:"aria-results"},D),ke("span",{id:"aria-guidance"},F));return ke(sv,null,ke(c_,{id:c},I&&A),ke(c_,{"aria-live":w,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},i&&!I&&A))},pM=fM,iv=[{base:"A",letters:"A\u24B6\uFF21\xC0\xC1\xC2\u1EA6\u1EA4\u1EAA\u1EA8\xC3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\xC4\u01DE\u1EA2\xC5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F"},{base:"AA",letters:"\uA732"},{base:"AE",letters:"\xC6\u01FC\u01E2"},{base:"AO",letters:"\uA734"},{base:"AU",letters:"\uA736"},{base:"AV",letters:"\uA738\uA73A"},{base:"AY",letters:"\uA73C"},{base:"B",letters:"B\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181"},{base:"C",letters:"C\u24B8\uFF23\u0106\u0108\u010A\u010C\xC7\u1E08\u0187\u023B\uA73E"},{base:"D",letters:"D\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779"},{base:"DZ",letters:"\u01F1\u01C4"},{base:"Dz",letters:"\u01F2\u01C5"},{base:"E",letters:"E\u24BA\uFF25\xC8\xC9\xCA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\xCB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E"},{base:"F",letters:"F\u24BB\uFF26\u1E1E\u0191\uA77B"},{base:"G",letters:"G\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E"},{base:"H",letters:"H\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D"},{base:"I",letters:"I\u24BE\uFF29\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197"},{base:"J",letters:"J\u24BF\uFF2A\u0134\u0248"},{base:"K",letters:"K\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2"},{base:"L",letters:"L\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780"},{base:"LJ",letters:"\u01C7"},{base:"Lj",letters:"\u01C8"},{base:"M",letters:"M\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C"},{base:"N",letters:"N\u24C3\uFF2E\u01F8\u0143\xD1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4"},{base:"NJ",letters:"\u01CA"},{base:"Nj",letters:"\u01CB"},{base:"O",letters:"O\u24C4\uFF2F\xD2\xD3\xD4\u1ED2\u1ED0\u1ED6\u1ED4\xD5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\xD6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\xD8\u01FE\u0186\u019F\uA74A\uA74C"},{base:"OI",letters:"\u01A2"},{base:"OO",letters:"\uA74E"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754"},{base:"Q",letters:"Q\u24C6\uFF31\uA756\uA758\u024A"},{base:"R",letters:"R\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782"},{base:"S",letters:"S\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784"},{base:"T",letters:"T\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786"},{base:"TZ",letters:"\uA728"},{base:"U",letters:"U\u24CA\uFF35\xD9\xDA\xDB\u0168\u1E78\u016A\u1E7A\u016C\xDC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244"},{base:"V",letters:"V\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245"},{base:"VY",letters:"\uA760"},{base:"W",letters:"W\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72"},{base:"X",letters:"X\u24CD\uFF38\u1E8A\u1E8C"},{base:"Y",letters:"Y\u24CE\uFF39\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE"},{base:"Z",letters:"Z\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762"},{base:"a",letters:"a\u24D0\uFF41\u1E9A\xE0\xE1\xE2\u1EA7\u1EA5\u1EAB\u1EA9\xE3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\xE4\u01DF\u1EA3\xE5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250"},{base:"aa",letters:"\uA733"},{base:"ae",letters:"\xE6\u01FD\u01E3"},{base:"ao",letters:"\uA735"},{base:"au",letters:"\uA737"},{base:"av",letters:"\uA739\uA73B"},{base:"ay",letters:"\uA73D"},{base:"b",letters:"b\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253"},{base:"c",letters:"c\u24D2\uFF43\u0107\u0109\u010B\u010D\xE7\u1E09\u0188\u023C\uA73F\u2184"},{base:"d",letters:"d\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A"},{base:"dz",letters:"\u01F3\u01C6"},{base:"e",letters:"e\u24D4\uFF45\xE8\xE9\xEA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD"},{base:"f",letters:"f\u24D5\uFF46\u1E1F\u0192\uA77C"},{base:"g",letters:"g\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F"},{base:"h",letters:"h\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131"},{base:"j",letters:"j\u24D9\uFF4A\u0135\u01F0\u0249"},{base:"k",letters:"k\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3"},{base:"l",letters:"l\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747"},{base:"lj",letters:"\u01C9"},{base:"m",letters:"m\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F"},{base:"n",letters:"n\u24DD\uFF4E\u01F9\u0144\xF1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5"},{base:"nj",letters:"\u01CC"},{base:"o",letters:"o\u24DE\uFF4F\xF2\xF3\xF4\u1ED3\u1ED1\u1ED7\u1ED5\xF5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\xF6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\xF8\u01FF\u0254\uA74B\uA74D\u0275"},{base:"oi",letters:"\u01A3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\uA74F"},{base:"p",letters:"p\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755"},{base:"q",letters:"q\u24E0\uFF51\u024B\uA757\uA759"},{base:"r",letters:"r\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783"},{base:"s",letters:"s\u24E2\uFF53\xDF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B"},{base:"t",letters:"t\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787"},{base:"tz",letters:"\uA729"},{base:"u",letters:"u\u24E4\uFF55\xF9\xFA\xFB\u0169\u1E79\u016B\u1E7B\u016D\xFC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289"},{base:"v",letters:"v\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C"},{base:"vy",letters:"\uA761"},{base:"w",letters:"w\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73"},{base:"x",letters:"x\u24E7\uFF58\u1E8B\u1E8D"},{base:"y",letters:"y\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF"},{base:"z",letters:"z\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763"}],hM=new RegExp("["+iv.map(function(t){return t.letters}).join("")+"]","g"),w_={};for(gp=0;gp<iv.length;gp++)for(bp=iv[gp],vp=0;vp<bp.letters.length;vp++)w_[bp.letters[vp]]=bp.base;var bp,vp,gp,S_=function(e){return e.replace(hM,function(o){return w_[o]})},gM=l_(S_),u_=function(e){return e.replace(/^\s+|\s+$/g,"")},bM=function(e){return"".concat(e.label," ").concat(e.value)},vM=function(e){return function(o,n){if(o.data.__isNew__)return!0;var r=Ee({ignoreCase:!0,ignoreAccents:!0,stringify:bM,trim:!0,matchFrom:"any"},e),s=r.ignoreCase,i=r.ignoreAccents,a=r.stringify,l=r.trim,c=r.matchFrom,u=l?u_(n):n,d=l?u_(a(o)):a(o);return s&&(u=u.toLowerCase(),d=d.toLowerCase()),i&&(u=gM(u),d=S_(d)),c==="start"?d.substr(0,u.length)===u:d.indexOf(u)>-1}},yM=["innerRef"];function CM(t){var e=t.innerRef,o=lr(t,yM),n=RI(o,"onExited","in","enter","exit","appear");return ke("input",Pe({ref:e},n,{css:Iu({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var xM=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function wM(t){var e=t.isEnabled,o=t.onBottomArrive,n=t.onBottomLeave,r=t.onTopArrive,s=t.onTopLeave,i=Pl(!1),a=Pl(!1),l=Pl(0),c=Pl(null),u=ri(function(g,b){if(c.current!==null){var C=c.current,y=C.scrollTop,v=C.scrollHeight,x=C.clientHeight,_=c.current,w=b>0,T=v-x-y,S=!1;T>b&&i.current&&(n&&n(g),i.current=!1),w&&a.current&&(s&&s(g),a.current=!1),w&&b>T?(o&&!i.current&&o(g),_.scrollTop=v,S=!0,i.current=!0):!w&&-b>y&&(r&&!a.current&&r(g),_.scrollTop=0,S=!0,a.current=!0),S&&xM(g)}},[o,n,r,s]),d=ri(function(g){u(g,g.deltaY)},[u]),f=ri(function(g){l.current=g.changedTouches[0].clientY},[]),m=ri(function(g){var b=l.current-g.changedTouches[0].clientY;u(g,b)},[u]),p=ri(function(g){if(g){var b=TI?{passive:!1}:!1;g.addEventListener("wheel",d,b),g.addEventListener("touchstart",f,b),g.addEventListener("touchmove",m,b)}},[m,f,d]),h=ri(function(g){g&&(g.removeEventListener("wheel",d,!1),g.removeEventListener("touchstart",f,!1),g.removeEventListener("touchmove",m,!1))},[m,f,d]);return x_(function(){if(e){var g=c.current;return p(g),function(){h(g)}}},[e,p,h]),function(g){c.current=g}}var d_=["boxSizing","height","overflow","paddingRight","position"],m_={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function f_(t){t.cancelable&&t.preventDefault()}function p_(t){t.stopPropagation()}function h_(){var t=this.scrollTop,e=this.scrollHeight,o=t+this.offsetHeight;t===0?this.scrollTop=1:o===e&&(this.scrollTop=t-1)}function g_(){return"ontouchstart"in window||navigator.maxTouchPoints}var b_=!!(typeof window<"u"&&window.document&&window.document.createElement),Ru=0,Al={capture:!1,passive:!1};function SM(t){var e=t.isEnabled,o=t.accountForScrollbars,n=o===void 0?!0:o,r=Pl({}),s=Pl(null),i=ri(function(l){if(b_){var c=document.body,u=c&&c.style;if(n&&d_.forEach(function(p){var h=u&&u[p];r.current[p]=h}),n&&Ru<1){var d=parseInt(r.current.paddingRight,10)||0,f=document.body?document.body.clientWidth:0,m=window.innerWidth-f+d||0;Object.keys(m_).forEach(function(p){var h=m_[p];u&&(u[p]=h)}),u&&(u.paddingRight="".concat(m,"px"))}c&&g_()&&(c.addEventListener("touchmove",f_,Al),l&&(l.addEventListener("touchstart",h_,Al),l.addEventListener("touchmove",p_,Al))),Ru+=1}},[n]),a=ri(function(l){if(b_){var c=document.body,u=c&&c.style;Ru=Math.max(Ru-1,0),n&&Ru<1&&d_.forEach(function(d){var f=r.current[d];u&&(u[d]=f)}),c&&g_()&&(c.removeEventListener("touchmove",f_,Al),l&&(l.removeEventListener("touchstart",h_,Al),l.removeEventListener("touchmove",p_,Al)))}},[n]);return x_(function(){if(e){var l=s.current;return i(l),function(){a(l)}}},[e,i,a]),function(l){s.current=l}}var IM=function(e){var o=e.target;return o.ownerDocument.activeElement&&o.ownerDocument.activeElement.blur()},_M={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function TM(t){var e=t.children,o=t.lockEnabled,n=t.captureEnabled,r=n===void 0?!0:n,s=t.onBottomArrive,i=t.onBottomLeave,a=t.onTopArrive,l=t.onTopLeave,c=wM({isEnabled:r,onBottomArrive:s,onBottomLeave:i,onTopArrive:a,onTopLeave:l}),u=SM({isEnabled:o}),d=function(m){c(m),u(m)};return ke(sv,null,o&&ke("div",{onClick:IM,css:_M}),e(d))}var FM={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},RM=function(e){var o=e.name,n=e.onFocus;return ke("input",{required:!0,name:o,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:FM,value:"",onChange:function(){}})},DM=RM;function av(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function AM(){return av(/^iPhone/i)}function I_(){return av(/^Mac/i)}function PM(){return av(/^iPad/i)||I_()&&navigator.maxTouchPoints>1}function EM(){return AM()||PM()}function NM(){return I_()||EM()}var LM=function(e){return e.label},lv=function(e){return e.label},cv=function(e){return e.value},kM=function(e){return!!e.isDisabled},jM={clearIndicator:HI,container:BI,control:ZI,dropdownIndicator:WI,group:YI,groupHeading:JI,indicatorsContainer:OI,indicatorSeparator:UI,input:qI,loadingIndicator:XI,loadingMessage:jI,menu:AI,menuList:NI,menuPortal:$I,multiValue:KI,multiValueLabel:e_,multiValueRemove:t_,noOptionsMessage:kI,option:r_,placeholder:n_,singleValue:s_,valueContainer:MI};var $M={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},BM=4,__=4,MM=38,OM=__*2,VM={baseUnit:__,controlHeight:MM,menuGutter:OM},rv={borderRadius:BM,colors:$M,spacing:VM},GM={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:tv(),captureMenuScroll:!tv(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:vM(),formatGroupLabel:LM,getOptionLabel:lv,getOptionValue:cv,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:kM,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!II(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var o=e.count;return"".concat(o," result").concat(o!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function v_(t,e,o,n){var r=R_(t,e,o),s=D_(t,e,o),i=F_(t,e),a=Cp(t,e);return{type:"option",data:e,isDisabled:r,isSelected:s,label:i,value:a,index:n}}function yp(t,e){return t.options.map(function(o,n){if("options"in o){var r=o.options.map(function(i,a){return v_(t,i,e,a)}).filter(function(i){return C_(t,i)});return r.length>0?{type:"group",data:o,options:r,index:n}:void 0}var s=v_(t,o,e,n);return C_(t,s)?s:void 0}).filter(FI)}function T_(t){return t.reduce(function(e,o){return o.type==="group"?e.push.apply(e,ti(o.options.map(function(n){return n.data}))):e.push(o.data),e},[])}function y_(t,e){return t.reduce(function(o,n){return n.type==="group"?o.push.apply(o,ti(n.options.map(function(r){return{data:r.data,id:"".concat(e,"-").concat(n.index,"-").concat(r.index)}}))):o.push({data:n.data,id:"".concat(e,"-").concat(n.index)}),o},[])}function zM(t,e){return T_(yp(t,e))}function C_(t,e){var o=t.inputValue,n=o===void 0?"":o,r=e.data,s=e.isSelected,i=e.label,a=e.value;return(!P_(t)||!s)&&A_(t,{label:i,value:a,data:r},n)}function WM(t,e){var o=t.focusedValue,n=t.selectValue,r=n.indexOf(o);if(r>-1){var s=e.indexOf(o);if(s>-1)return o;if(r<e.length)return e[r]}return null}function HM(t,e){var o=t.focusedOption;return o&&e.indexOf(o)>-1?o:e[0]}var nv=function(e,o){var n,r=(n=e.find(function(s){return s.data===o}))===null||n===void 0?void 0:n.id;return r||null},F_=function(e,o){return e.getOptionLabel(o)},Cp=function(e,o){return e.getOptionValue(o)};function R_(t,e,o){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,o):!1}function D_(t,e,o){if(o.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,o);var n=Cp(t,e);return o.some(function(r){return Cp(t,r)===n})}function A_(t,e,o){return t.filterOption?t.filterOption(e,o):!0}var P_=function(e){var o=e.hideSelectedOptions,n=e.isMulti;return o===void 0?n:o},UM=1,Du=function(t){xS(o,t);var e=SS(o);function o(n){var r;if(vS(this,o),r=e.call(this,n),r.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},r.blockOptionHover=!1,r.isComposing=!1,r.commonProps=void 0,r.initialTouchX=0,r.initialTouchY=0,r.openAfterFocus=!1,r.scrollToFocusedOptionOnUpdate=!1,r.userIsDragging=void 0,r.isAppleDevice=NM(),r.controlRef=null,r.getControlRef=function(l){r.controlRef=l},r.focusedOptionRef=null,r.getFocusedOptionRef=function(l){r.focusedOptionRef=l},r.menuListRef=null,r.getMenuListRef=function(l){r.menuListRef=l},r.inputRef=null,r.getInputRef=function(l){r.inputRef=l},r.focus=r.focusInput,r.blur=r.blurInput,r.onChange=function(l,c){var u=r.props,d=u.onChange,f=u.name;c.name=f,r.ariaOnChange(l,c),d(l,c)},r.setValue=function(l,c,u){var d=r.props,f=d.closeMenuOnSelect,m=d.isMulti,p=d.inputValue;r.onInputChange("",{action:"set-value",prevInputValue:p}),f&&(r.setState({inputIsHiddenAfterUpdate:!m}),r.onMenuClose()),r.setState({clearFocusValueOnUpdate:!0}),r.onChange(l,{action:c,option:u})},r.selectOption=function(l){var c=r.props,u=c.blurInputOnSelect,d=c.isMulti,f=c.name,m=r.state.selectValue,p=d&&r.isOptionSelected(l,m),h=r.isOptionDisabled(l,m);if(p){var g=r.getOptionValue(l);r.setValue(m.filter(function(b){return r.getOptionValue(b)!==g}),"deselect-option",l)}else if(!h)d?r.setValue([].concat(ti(m),[l]),"select-option",l):r.setValue(l,"select-option");else{r.ariaOnChange(l,{action:"select-option",option:l,name:f});return}u&&r.blurInput()},r.removeValue=function(l){var c=r.props.isMulti,u=r.state.selectValue,d=r.getOptionValue(l),f=u.filter(function(p){return r.getOptionValue(p)!==d}),m=na(c,f,f[0]||null);r.onChange(m,{action:"remove-value",removedValue:l}),r.focusInput()},r.clearValue=function(){var l=r.state.selectValue;r.onChange(na(r.props.isMulti,[],null),{action:"clear",removedValues:l})},r.popValue=function(){var l=r.props.isMulti,c=r.state.selectValue,u=c[c.length-1],d=c.slice(0,c.length-1),f=na(l,d,d[0]||null);u&&r.onChange(f,{action:"pop-value",removedValue:u})},r.getFocusedOptionId=function(l){return nv(r.state.focusableOptionsWithIds,l)},r.getFocusableOptionsWithIds=function(){return y_(yp(r.props,r.state.selectValue),r.getElementId("option"))},r.getValue=function(){return r.state.selectValue},r.cx=function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return xI.apply(void 0,[r.props.classNamePrefix].concat(c))},r.getOptionLabel=function(l){return F_(r.props,l)},r.getOptionValue=function(l){return Cp(r.props,l)},r.getStyles=function(l,c){var u=r.props.unstyled,d=jM[l](c,u);d.boxSizing="border-box";var f=r.props.styles[l];return f?f(d,c):d},r.getClassNames=function(l,c){var u,d;return(u=(d=r.props.classNames)[l])===null||u===void 0?void 0:u.call(d,c)},r.getElementId=function(l){return"".concat(r.state.instancePrefix,"-").concat(l)},r.getComponents=function(){return i_(r.props)},r.buildCategorizedOptions=function(){return yp(r.props,r.state.selectValue)},r.getCategorizedOptions=function(){return r.props.menuIsOpen?r.buildCategorizedOptions():[]},r.buildFocusableOptions=function(){return T_(r.buildCategorizedOptions())},r.getFocusableOptions=function(){return r.props.menuIsOpen?r.buildFocusableOptions():[]},r.ariaOnChange=function(l,c){r.setState({ariaSelection:Ee({value:l},c)})},r.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),r.focusInput())},r.onMenuMouseMove=function(l){r.blockOptionHover=!1},r.onControlMouseDown=function(l){if(!l.defaultPrevented){var c=r.props.openMenuOnClick;r.state.isFocused?r.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&r.onMenuClose():c&&r.openMenu("first"):(c&&(r.openAfterFocus=!0),r.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},r.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!r.props.isDisabled){var c=r.props,u=c.isMulti,d=c.menuIsOpen;r.focusInput(),d?(r.setState({inputIsHiddenAfterUpdate:!u}),r.onMenuClose()):r.openMenu("first"),l.preventDefault()}},r.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(r.clearValue(),l.preventDefault(),r.openAfterFocus=!1,l.type==="touchend"?r.focusInput():setTimeout(function(){return r.focusInput()}))},r.onScroll=function(l){typeof r.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&Tu(l.target)&&r.props.onMenuClose():typeof r.props.closeMenuOnScroll=="function"&&r.props.closeMenuOnScroll(l)&&r.props.onMenuClose()},r.onCompositionStart=function(){r.isComposing=!0},r.onCompositionEnd=function(){r.isComposing=!1},r.onTouchStart=function(l){var c=l.touches,u=c&&c.item(0);u&&(r.initialTouchX=u.clientX,r.initialTouchY=u.clientY,r.userIsDragging=!1)},r.onTouchMove=function(l){var c=l.touches,u=c&&c.item(0);if(u){var d=Math.abs(u.clientX-r.initialTouchX),f=Math.abs(u.clientY-r.initialTouchY),m=5;r.userIsDragging=d>m||f>m}},r.onTouchEnd=function(l){r.userIsDragging||(r.controlRef&&!r.controlRef.contains(l.target)&&r.menuListRef&&!r.menuListRef.contains(l.target)&&r.blurInput(),r.initialTouchX=0,r.initialTouchY=0)},r.onControlTouchEnd=function(l){r.userIsDragging||r.onControlMouseDown(l)},r.onClearIndicatorTouchEnd=function(l){r.userIsDragging||r.onClearIndicatorMouseDown(l)},r.onDropdownIndicatorTouchEnd=function(l){r.userIsDragging||r.onDropdownIndicatorMouseDown(l)},r.handleInputChange=function(l){var c=r.props.inputValue,u=l.currentTarget.value;r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange(u,{action:"input-change",prevInputValue:c}),r.props.menuIsOpen||r.onMenuOpen()},r.onInputFocus=function(l){r.props.onFocus&&r.props.onFocus(l),r.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(r.openAfterFocus||r.props.openMenuOnFocus)&&r.openMenu("first"),r.openAfterFocus=!1},r.onInputBlur=function(l){var c=r.props.inputValue;if(r.menuListRef&&r.menuListRef.contains(document.activeElement)){r.inputRef.focus();return}r.props.onBlur&&r.props.onBlur(l),r.onInputChange("",{action:"input-blur",prevInputValue:c}),r.onMenuClose(),r.setState({focusedValue:null,isFocused:!1})},r.onOptionHover=function(l){if(!(r.blockOptionHover||r.state.focusedOption===l)){var c=r.getFocusableOptions(),u=c.indexOf(l);r.setState({focusedOption:l,focusedOptionId:u>-1?r.getFocusedOptionId(l):null})}},r.shouldHideSelectedOptions=function(){return P_(r.props)},r.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),r.focus()},r.onKeyDown=function(l){var c=r.props,u=c.isMulti,d=c.backspaceRemovesValue,f=c.escapeClearsValue,m=c.inputValue,p=c.isClearable,h=c.isDisabled,g=c.menuIsOpen,b=c.onKeyDown,C=c.tabSelectsValue,y=c.openMenuOnFocus,v=r.state,x=v.focusedOption,_=v.focusedValue,w=v.selectValue;if(!h&&!(typeof b=="function"&&(b(l),l.defaultPrevented))){switch(r.blockOptionHover=!0,l.key){case"ArrowLeft":if(!u||m)return;r.focusValue("previous");break;case"ArrowRight":if(!u||m)return;r.focusValue("next");break;case"Delete":case"Backspace":if(m)return;if(_)r.removeValue(_);else{if(!d)return;u?r.popValue():p&&r.clearValue()}break;case"Tab":if(r.isComposing||l.shiftKey||!g||!C||!x||y&&r.isOptionSelected(x,w))return;r.selectOption(x);break;case"Enter":if(l.keyCode===229)break;if(g){if(!x||r.isComposing)return;r.selectOption(x);break}return;case"Escape":g?(r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange("",{action:"menu-close",prevInputValue:m}),r.onMenuClose()):p&&f&&r.clearValue();break;case" ":if(m)return;if(!g){r.openMenu("first");break}if(!x)return;r.selectOption(x);break;case"ArrowUp":g?r.focusOption("up"):r.openMenu("last");break;case"ArrowDown":g?r.focusOption("down"):r.openMenu("first");break;case"PageUp":if(!g)return;r.focusOption("pageup");break;case"PageDown":if(!g)return;r.focusOption("pagedown");break;case"Home":if(!g)return;r.focusOption("first");break;case"End":if(!g)return;r.focusOption("last");break;default:return}l.preventDefault()}},r.state.instancePrefix="react-select-"+(r.props.instanceId||++UM),r.state.selectValue=Dl(n.value),n.menuIsOpen&&r.state.selectValue.length){var s=r.getFocusableOptionsWithIds(),i=r.buildFocusableOptions(),a=i.indexOf(r.state.selectValue[0]);r.state.focusableOptionsWithIds=s,r.state.focusedOption=i[a],r.state.focusedOptionId=nv(s,i[a])}return r}return CS(o,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&ev(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(r){var s=this.props,i=s.isDisabled,a=s.menuIsOpen,l=this.state.isFocused;(l&&!i&&r.isDisabled||l&&a&&!r.menuIsOpen)&&this.focusInput(),l&&i&&!r.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!i&&r.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(ev(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(r,s){this.props.onInputChange(r,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(r){var s=this,i=this.state,a=i.selectValue,l=i.isFocused,c=this.buildFocusableOptions(),u=r==="first"?0:c.length-1;if(!this.props.isMulti){var d=c.indexOf(a[0]);d>-1&&(u=d)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:c[u],focusedOptionId:this.getFocusedOptionId(c[u])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(r){var s=this.state,i=s.selectValue,a=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=i.indexOf(a);a||(l=-1);var c=i.length-1,u=-1;if(i.length){switch(r){case"previous":l===0?u=0:l===-1?u=c:u=l-1;break;case"next":l>-1&&l<c&&(u=l+1);break}this.setState({inputIsHidden:u!==-1,focusedValue:i[u]})}}}},{key:"focusOption",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,i=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,c=a.indexOf(i);i||(c=-1),r==="up"?l=c>0?c-1:a.length-1:r==="down"?l=(c+1)%a.length:r==="pageup"?(l=c-s,l<0&&(l=0)):r==="pagedown"?(l=c+s,l>a.length-1&&(l=a.length-1)):r==="last"&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(a[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(rv):Ee(Ee({},rv),this.props.theme):rv}},{key:"getCommonProps",value:function(){var r=this.clearValue,s=this.cx,i=this.getStyles,a=this.getClassNames,l=this.getValue,c=this.selectOption,u=this.setValue,d=this.props,f=d.isMulti,m=d.isRtl,p=d.options,h=this.hasValue();return{clearValue:r,cx:s,getStyles:i,getClassNames:a,getValue:l,hasValue:h,isMulti:f,isRtl:m,options:p,selectOption:c,selectProps:d,setValue:u,theme:this.getTheme()}}},{key:"hasValue",value:function(){var r=this.state.selectValue;return r.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var r=this.props,s=r.isClearable,i=r.isMulti;return s===void 0?i:s}},{key:"isOptionDisabled",value:function(r,s){return R_(this.props,r,s)}},{key:"isOptionSelected",value:function(r,s){return D_(this.props,r,s)}},{key:"filterOption",value:function(r,s){return A_(this.props,r,s)}},{key:"formatOptionLabel",value:function(r,s){if(typeof this.props.formatOptionLabel=="function"){var i=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(r,{context:s,inputValue:i,selectValue:a})}else return this.getOptionLabel(r)}},{key:"formatGroupLabel",value:function(r){return this.props.formatGroupLabel(r)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var r=this.props,s=r.isDisabled,i=r.isSearchable,a=r.inputId,l=r.inputValue,c=r.tabIndex,u=r.form,d=r.menuIsOpen,f=r.required,m=this.getComponents(),p=m.Input,h=this.state,g=h.inputIsHidden,b=h.ariaSelection,C=this.commonProps,y=a||this.getElementId("input"),v=Ee(Ee(Ee({"aria-autocomplete":"list","aria-expanded":d,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":f,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},d&&{"aria-controls":this.getElementId("listbox")}),!i&&{"aria-readonly":!0}),this.hasValue()?b?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return i?Ct.createElement(p,Pe({},C,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:y,innerRef:this.getInputRef,isDisabled:s,isHidden:g,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:u,type:"text",value:l},v)):Ct.createElement(CM,Pe({id:y,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:_u,onFocus:this.onInputFocus,disabled:s,tabIndex:c,inputMode:"none",form:u,value:""},v))}},{key:"renderPlaceholderOrValue",value:function(){var r=this,s=this.getComponents(),i=s.MultiValue,a=s.MultiValueContainer,l=s.MultiValueLabel,c=s.MultiValueRemove,u=s.SingleValue,d=s.Placeholder,f=this.commonProps,m=this.props,p=m.controlShouldRenderValue,h=m.isDisabled,g=m.isMulti,b=m.inputValue,C=m.placeholder,y=this.state,v=y.selectValue,x=y.focusedValue,_=y.isFocused;if(!this.hasValue()||!p)return b?null:Ct.createElement(d,Pe({},f,{key:"placeholder",isDisabled:h,isFocused:_,innerProps:{id:this.getElementId("placeholder")}}),C);if(g)return v.map(function(T,S){var R=T===x,D="".concat(r.getOptionLabel(T),"-").concat(r.getOptionValue(T));return Ct.createElement(i,Pe({},f,{components:{Container:a,Label:l,Remove:c},isFocused:R,isDisabled:h,key:D,index:S,removeProps:{onClick:function(){return r.removeValue(T)},onTouchEnd:function(){return r.removeValue(T)},onMouseDown:function(F){F.preventDefault()}},data:T}),r.formatOptionLabel(T,"value"))});if(b)return null;var w=v[0];return Ct.createElement(u,Pe({},f,{data:w,isDisabled:h}),this.formatOptionLabel(w,"value"))}},{key:"renderClearIndicator",value:function(){var r=this.getComponents(),s=r.ClearIndicator,i=this.commonProps,a=this.props,l=a.isDisabled,c=a.isLoading,u=this.state.isFocused;if(!this.isClearable()||!s||l||!this.hasValue()||c)return null;var d={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return Ct.createElement(s,Pe({},i,{innerProps:d,isFocused:u}))}},{key:"renderLoadingIndicator",value:function(){var r=this.getComponents(),s=r.LoadingIndicator,i=this.commonProps,a=this.props,l=a.isDisabled,c=a.isLoading,u=this.state.isFocused;if(!s||!c)return null;var d={"aria-hidden":"true"};return Ct.createElement(s,Pe({},i,{innerProps:d,isDisabled:l,isFocused:u}))}},{key:"renderIndicatorSeparator",value:function(){var r=this.getComponents(),s=r.DropdownIndicator,i=r.IndicatorSeparator;if(!s||!i)return null;var a=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused;return Ct.createElement(i,Pe({},a,{isDisabled:l,isFocused:c}))}},{key:"renderDropdownIndicator",value:function(){var r=this.getComponents(),s=r.DropdownIndicator;if(!s)return null;var i=this.commonProps,a=this.props.isDisabled,l=this.state.isFocused,c={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return Ct.createElement(s,Pe({},i,{innerProps:c,isDisabled:a,isFocused:l}))}},{key:"renderMenu",value:function(){var r=this,s=this.getComponents(),i=s.Group,a=s.GroupHeading,l=s.Menu,c=s.MenuList,u=s.MenuPortal,d=s.LoadingMessage,f=s.NoOptionsMessage,m=s.Option,p=this.commonProps,h=this.state.focusedOption,g=this.props,b=g.captureMenuScroll,C=g.inputValue,y=g.isLoading,v=g.loadingMessage,x=g.minMenuHeight,_=g.maxMenuHeight,w=g.menuIsOpen,T=g.menuPlacement,S=g.menuPosition,R=g.menuPortalTarget,D=g.menuShouldBlockScroll,I=g.menuShouldScrollIntoView,F=g.noOptionsMessage,A=g.onMenuScrollToTop,k=g.onMenuScrollToBottom;if(!w)return null;var L=function(O,G){var W=O.type,U=O.data,z=O.isDisabled,J=O.isSelected,Z=O.label,X=O.value,ae=h===U,Y=z?void 0:function(){return r.onOptionHover(U)},ne=z?void 0:function(){return r.selectOption(U)},Q="".concat(r.getElementId("option"),"-").concat(G),de={id:Q,onClick:ne,onMouseMove:Y,onMouseOver:Y,tabIndex:-1,role:"option","aria-selected":r.isAppleDevice?void 0:J};return Ct.createElement(m,Pe({},p,{innerProps:de,data:U,isDisabled:z,isSelected:J,key:Q,label:Z,type:W,value:X,isFocused:ae,innerRef:ae?r.getFocusedOptionRef:void 0}),r.formatOptionLabel(O.data,"menu"))},N;if(this.hasOptions())N=this.getCategorizedOptions().map(function(M){if(M.type==="group"){var O=M.data,G=M.options,W=M.index,U="".concat(r.getElementId("group"),"-").concat(W),z="".concat(U,"-heading");return Ct.createElement(i,Pe({},p,{key:U,data:O,options:G,Heading:a,headingProps:{id:z,data:M.data},label:r.formatGroupLabel(M.data)}),M.options.map(function(J){return L(J,"".concat(W,"-").concat(J.index))}))}else if(M.type==="option")return L(M,"".concat(M.index))});else if(y){var B=v({inputValue:C});if(B===null)return null;N=Ct.createElement(d,p,B)}else{var j=F({inputValue:C});if(j===null)return null;N=Ct.createElement(f,p,j)}var E={minMenuHeight:x,maxMenuHeight:_,menuPlacement:T,menuPosition:S,menuShouldScrollIntoView:I},$=Ct.createElement(EI,Pe({},p,E),function(M){var O=M.ref,G=M.placerProps,W=G.placement,U=G.maxHeight;return Ct.createElement(l,Pe({},p,E,{innerRef:O,innerProps:{onMouseDown:r.onMenuMouseDown,onMouseMove:r.onMenuMouseMove},isLoading:y,placement:W}),Ct.createElement(TM,{captureEnabled:b,onTopArrive:A,onBottomArrive:k,lockEnabled:D},function(z){return Ct.createElement(c,Pe({},p,{innerRef:function(Z){r.getMenuListRef(Z),z(Z)},innerProps:{role:"listbox","aria-multiselectable":p.isMulti,id:r.getElementId("listbox")},isLoading:y,maxHeight:U,focusedOption:h}),N)}))});return R||S==="fixed"?Ct.createElement(u,Pe({},p,{appendTo:R,controlElement:this.controlRef,menuPlacement:T,menuPosition:S}),$):$}},{key:"renderFormField",value:function(){var r=this,s=this.props,i=s.delimiter,a=s.isDisabled,l=s.isMulti,c=s.name,u=s.required,d=this.state.selectValue;if(u&&!this.hasValue()&&!a)return Ct.createElement(DM,{name:c,onFocus:this.onValueInputFocus});if(!(!c||a))if(l)if(i){var f=d.map(function(h){return r.getOptionValue(h)}).join(i);return Ct.createElement("input",{name:c,type:"hidden",value:f})}else{var m=d.length>0?d.map(function(h,g){return Ct.createElement("input",{key:"i-".concat(g),name:c,type:"hidden",value:r.getOptionValue(h)})}):Ct.createElement("input",{name:c,type:"hidden",value:""});return Ct.createElement("div",null,m)}else{var p=d[0]?this.getOptionValue(d[0]):"";return Ct.createElement("input",{name:c,type:"hidden",value:p})}}},{key:"renderLiveRegion",value:function(){var r=this.commonProps,s=this.state,i=s.ariaSelection,a=s.focusedOption,l=s.focusedValue,c=s.isFocused,u=s.selectValue,d=this.getFocusableOptions();return Ct.createElement(pM,Pe({},r,{id:this.getElementId("live-region"),ariaSelection:i,focusedOption:a,focusedValue:l,isFocused:c,selectValue:u,focusableOptions:d,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var r=this.getComponents(),s=r.Control,i=r.IndicatorsContainer,a=r.SelectContainer,l=r.ValueContainer,c=this.props,u=c.className,d=c.id,f=c.isDisabled,m=c.menuIsOpen,p=this.state.isFocused,h=this.commonProps=this.getCommonProps();return Ct.createElement(a,Pe({},h,{className:u,innerProps:{id:d,onKeyDown:this.onKeyDown},isDisabled:f,isFocused:p}),this.renderLiveRegion(),Ct.createElement(s,Pe({},h,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:f,isFocused:p,menuIsOpen:m}),Ct.createElement(l,Pe({},h,{isDisabled:f}),this.renderPlaceholderOrValue(),this.renderInput()),Ct.createElement(i,Pe({},h,{isDisabled:f}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(r,s){var i=s.prevProps,a=s.clearFocusValueOnUpdate,l=s.inputIsHiddenAfterUpdate,c=s.ariaSelection,u=s.isFocused,d=s.prevWasFocused,f=s.instancePrefix,m=r.options,p=r.value,h=r.menuIsOpen,g=r.inputValue,b=r.isMulti,C=Dl(p),y={};if(i&&(p!==i.value||m!==i.options||h!==i.menuIsOpen||g!==i.inputValue)){var v=h?zM(r,C):[],x=h?y_(yp(r,C),"".concat(f,"-option")):[],_=a?WM(s,C):null,w=HM(s,v),T=nv(x,w);y={selectValue:C,focusedOption:w,focusedOptionId:T,focusableOptionsWithIds:x,focusedValue:_,clearFocusValueOnUpdate:!1}}var S=l!=null&&r!==i?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},R=c,D=u&&d;return u&&!D&&(R={value:na(b,C,C[0]||null),options:C,action:"initial-input-focus"},D=!d),c?.action==="initial-input-focus"&&(R=null),Ee(Ee(Ee({},y),S),{},{prevProps:r,ariaSelection:R,prevWasFocused:D})}}]),o}(cM);Du.defaultProps=GM;import"react-dom";var ZM=XM(function(t,e){var o=zf(t);return E_.createElement(Du,Pe({ref:e},o))}),N_=ZM;import*as $_ from"react";import{forwardRef as qM}from"react";import{useMemo as L_,useCallback as YM}from"react";var JM=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],k_=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",o=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=String(e).toLowerCase(),s=String(n.getOptionValue(o)).toLowerCase(),i=String(n.getOptionLabel(o)).toLowerCase();return s===r||i===r},uv={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,o,n,r){return!(!e||o.some(function(s){return k_(e,s,r)})||n.some(function(s){return k_(e,s,r)}))},getNewOptionData:function(e,o){return{label:o,value:e,__isNew__:!0}}};function j_(t){var e=t.allowCreateWhileLoading,o=e===void 0?!1:e,n=t.createOptionPosition,r=n===void 0?"last":n,s=t.formatCreateLabel,i=s===void 0?uv.formatCreateLabel:s,a=t.isValidNewOption,l=a===void 0?uv.isValidNewOption:a,c=t.getNewOptionData,u=c===void 0?uv.getNewOptionData:c,d=t.onCreateOption,f=t.options,m=f===void 0?[]:f,p=t.onChange,h=lr(t,JM),g=h.getOptionValue,b=g===void 0?cv:g,C=h.getOptionLabel,y=C===void 0?lv:C,v=h.inputValue,x=h.isLoading,_=h.isMulti,w=h.value,T=h.name,S=L_(function(){return l(v,Dl(w),m,{getOptionValue:b,getOptionLabel:y})?u(v,i(v)):void 0},[i,u,y,b,v,l,m,w]),R=L_(function(){return(o||!x)&&S?r==="first"?[S].concat(ti(m)):[].concat(ti(m),[S]):m},[o,r,x,S,m]),D=YM(function(I,F){if(F.action!=="select-option")return p(I,F);var A=Array.isArray(I)?I:[I];if(A[A.length-1]===S){if(d)d(v);else{var k=u(v,v),L={action:"create-option",name:T,option:k};p(na(_,[].concat(ti(Dl(w)),[k]),k),L)}return}p(I,F)},[u,v,_,T,S,d,p,w]);return Ee(Ee({},h),{},{options:R,onChange:D})}import"react-dom";var QM=qM(function(t,e){var o=zf(t),n=j_(o);return $_.createElement(Du,Pe({ref:e},n))}),B_=QM;import{jsx as M_}from"react/jsx-runtime";import"react";var O_="clear-indicator",dv=t=>{let{clearValue:e,innerProps:{ref:o,...n}}=t;return M_("div",{className:O_,ref:typeof o=="string"?null:o,...n,onKeyDown:r=>{r.key==="Enter"&&(e(),r.stopPropagation())},role:"button",tabIndex:0,children:M_(yt,{className:`${O_}__icon`})})};import{jsx as V_}from"react/jsx-runtime";import KM from"react";var mv=t=>{let{children:e,innerProps:o,selectProps:{customProps:{disableKeyDown:n,disableMouseDown:r}={}}={}}=t;return V_(KM.Fragment,{children:V_(Ro.Control,{...t,innerProps:{...o,onKeyDown:s=>{if(n){s.stopPropagation();let i=new CustomEvent("bypassKeyDown",{detail:s});document.dispatchEvent(i)}},onMouseDown:s=>{r||o.onMouseDown(s)}},children:e})})};import{jsx as G_}from"react/jsx-runtime";import"react";var z_="dropdown-indicator",fv=t=>{let{innerProps:{ref:e,...o}}=t;return G_("button",{className:z_,ref:e,...o,onKeyDown:n=>{n.key==="Enter"&&(n.key=" ")},type:"button",children:G_(He,{className:`${z_}__icon`})})};import{jsx as W_}from"react/jsx-runtime";import eO from"react";var pv=t=>W_(eO.Fragment,{children:W_(Ro.Input,{...t,"aria-activedescendant":void 0})});import{c as tO}from"react/compiler-runtime";import{jsx as H_}from"react/jsx-runtime";import oO from"react";var U_="multi-value";function hv(t,e){return typeof e=="function"?e(t):t?.value}var gv=t=>{let e=tO(26),{className:o,data:n,innerProps:r,isDisabled:s,selectProps:i}=t,a;e[0]!==i?(a=i===void 0?{}:i,e[0]=i,e[1]=a):a=e[1];let{customProps:l,getOptionValue:c,isSortable:u}=a,d;e[2]!==l?(d=l===void 0?{}:l,e[2]=l,e[3]=d):d=e[3];let{disableMouseDown:f}=d,m;e[4]!==n||e[5]!==c?(m=hv(n,c),e[4]=n,e[5]=c,e[6]=m):m=e[6];let p=m,h=!u,g;e[7]!==p||e[8]!==h?(g={id:p,disabled:h},e[7]=p,e[8]=h,e[9]=g):g=e[9];let{attributes:b,isDragging:C,listeners:y,setNodeRef:v,transform:x}=rl(g),_=!s&&u&&"draggable",w=C&&`${U_}--is-dragging`,T;e[10]!==o||e[11]!==_||e[12]!==w?(T=[U_,o,_,w].filter(Boolean),e[10]=o,e[11]=_,e[12]=w,e[13]=T):T=e[13];let S=T.join(" "),R;if(e[14]!==b||e[15]!==S||e[16]!==f||e[17]!==r||e[18]!==u||e[19]!==y||e[20]!==t||e[21]!==v||e[22]!==x){let D;e[24]!==f?(D=I=>{f||I.stopPropagation()},e[24]=f,e[25]=D):D=e[25],R=H_(oO.Fragment,{children:H_(Ro.MultiValue,{...t,className:S,innerProps:{...u?{...b,...y}:{},...r,onMouseDown:D,ref:v,style:u?{transform:x,...b?.style}:{}}})}),e[14]=b,e[15]=S,e[16]=f,e[17]=r,e[18]=u,e[19]=y,e[20]=t,e[21]=v,e[22]=x,e[23]=R}else R=e[23];return R};import{jsx as X_}from"react/jsx-runtime";import{getTranslation as rO}from"@payloadcms/translations";import"react";var Z_="multi-value-label",bv=t=>{let{data:e,selectProps:o}=t,{customProps:n}=o===void 0?{}:o,{draggableProps:r,editableProps:s}=n===void 0?{}:n,{i18n:i}=P(),a=`${Z_}__text`,l=e.label?rO(e.label,i):"";return X_("div",{className:Z_,title:typeof l=="string"?l:"",children:X_(Ro.MultiValueLabel,{...t,innerProps:{className:a,...s&&s(e,a,t.selectProps)||{},...r||{}}})})};import{c as nO}from"react/compiler-runtime";import{jsx as Y_,jsxs as sO}from"react/jsx-runtime";import iO from"react";var vv="multi-value-remove",yv=t=>{let e=nO(12),{innerProps:o}=t,{className:n,onClick:r,onTouchEnd:s}=o,[i,a]=iO.useState(!1),{t:l}=P(),c;if(e[0]!==n||e[1]!==r||e[2]!==s||e[3]!==i||e[4]!==l){let u=l("general:remove"),d;e[6]!==n?(d=[vv,n].filter(Boolean),e[6]=n,e[7]=d):d=e[7];let f;e[8]!==r?(f=h=>{a(!1),r(h)},e[8]=r,e[9]=f):f=e[9];let m,p;e[10]===Symbol.for("react.memo_cache_sentinel")?(m=()=>a(!0),p=()=>a(!1),e[10]=m,e[11]=p):(m=e[10],p=e[11]),c=sO("button",{"aria-label":u,className:d.join(" "),onClick:f,onKeyDown:aO,onMouseDown:lO,onMouseEnter:m,onMouseLeave:p,onTouchEnd:s,type:"button",children:[Y_(Po,{className:`${vv}__tooltip`,show:i,children:l("general:remove")}),Y_(yt,{className:`${vv}__icon`})]}),e[0]=n,e[1]=r,e[2]=s,e[3]=i,e[4]=l,e[5]=c}else c=e[5];return c};function aO(t){t.key==="Enter"&&t.stopPropagation()}function lO(t){return t.stopPropagation()}import{jsx as J_}from"react/jsx-runtime";import cO from"react";var uO="react-select--single-value",Cv=t=>{let{children:e,className:o}=t;return J_(cO.Fragment,{children:J_(Ro.SingleValue,{...t,className:[uO,o].filter(Boolean).join(" "),children:e})})};import{jsx as q_,jsxs as dO}from"react/jsx-runtime";import{getTranslation as mO}from"@payloadcms/translations";import"react";var Q_="value-container",xv=t=>{let{selectProps:e}=t,{customProps:o,value:n}=e===void 0?{}:e,{i18n:r}=P(),s="";if(n&&!Array.isArray(n)&&typeof n=="object"&&"label"in n){let i=n.label?mO(n.label,r):"";s=typeof i=="string"?i:""}return dO("div",{className:Q_,ref:o?.droppableRef,title:s,children:[o?.valueContainerLabel&&q_("span",{className:`${Q_}__label`,children:o?.valueContainerLabel}),q_(Ro.ValueContainer,{...t})]})};var hO=t=>({label:t,value:t}),tT=t=>{let{i18n:e,t:o}=P(),[n,r]=eT.useState(""),s=pO(),[i,a]=eT.useState(!1);fO(()=>{a(!0)},[]);let{className:l,components:c,customProps:u,disabled:d=!1,filterOption:f=void 0,getOptionValue:m,isClearable:p=!0,isCreatable:h,isLoading:g,isSearchable:b=!0,noOptionsMessage:C=()=>o("general:noOptions"),numberOnly:y=!1,onChange:v,onMenuClose:x,onMenuOpen:_,options:w,placeholder:T=o("general:selectValue"),showError:S,value:R}=t,D=()=>o("general:loading")+"...",I=[l,"react-select",S&&"react-select--error"].filter(Boolean).join(" "),F={menu:k=>({...k,zIndex:void 0})};if(!i)return sa(Dt,{height:"calc(var(--base) * 2 + 2px)"});if(!h)return sa(N_,{captureMenuScroll:!0,customProps:u,isLoading:g,...t,className:I,classNamePrefix:"rs",components:{ClearIndicator:dv,Control:mv,DropdownIndicator:fv,Input:pv,MultiValue:gv,MultiValueLabel:bv,MultiValueRemove:yv,SingleValue:Cv,ValueContainer:xv,...c},filterOption:f,getOptionValue:m,instanceId:s,isClearable:p,isDisabled:d,isSearchable:b,loadingMessage:D,menuPlacement:"auto",noOptionsMessage:C,onChange:v,onMenuClose:x,onMenuOpen:_,options:w,placeholder:K_(T,e),styles:F,unstyled:!0,value:R});let A=k=>{if(y===!0){let L=["Tab","Escape","Backspace","Enter","ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],N=!/\D/.test(k.key),B=L.includes(k.key);if(!N&&!B){k.preventDefault();return}}if(!(!R||!n||n.trim()==="")&&!(f&&!f(null,n))&&!k.nativeEvent.isComposing)switch(k.key){case"Enter":case"Tab":v([...R,hO(n)]),r(""),k.preventDefault();break;default:break}};return sa(B_,{captureMenuScroll:!0,isLoading:g,...t,className:I,classNamePrefix:"rs",components:{ClearIndicator:dv,Control:mv,DropdownIndicator:fv,Input:pv,MultiValue:gv,MultiValueLabel:bv,MultiValueRemove:yv,SingleValue:Cv,ValueContainer:xv,...c},filterOption:f,inputValue:n,instanceId:s,isClearable:p,isDisabled:d,isSearchable:b,loadingMessage:D,menuPlacement:"auto",noOptionsMessage:C,onChange:v,onInputChange:k=>r(k),onKeyDown:A,onMenuClose:x,onMenuOpen:_,options:w,placeholder:K_(T,e),styles:F,unstyled:!0,value:R})},gO=t=>{let{getOptionValue:e,onChange:o,value:n}=t,r=[];return n&&(r=(Array.isArray(n)?n:[n]).map(s=>hv(s,e))),sa(zr,{className:"react-select-container",ids:r,onDragEnd:({moveFromIndex:s,moveToIndex:i})=>{let a=n;n&&Array.isArray(n)&&(a=tf(n,s,i)),o(a)},children:sa(tT,{...t})})},gt=t=>{let{isMulti:e,isSortable:o}=t;return e&&o?sa(gO,{...t}):sa(tT,{...t})};var Au=t=>t.map(e=>typeof e=="object"&&(e.value||e.value==="")?e:{label:e,value:e});var Pu=t=>{let{id:e,onChange:o,options:n,readOnly:r,required:s,selectedTimezone:i}=t,{t:a}=P(),l=Au(n),c=vO(()=>l.find(d=>(typeof d=="string"?d:d.value)===(i||"UTC")),[l,i]),u=!!r||l.length===1;return bO("div",{className:"timezone-picker-wrapper",children:[oT(_e,{htmlFor:e,label:`${a("general:timezone")} ${s?"*":""}`,required:s,unstyled:!0}),oT(gt,{className:"timezone-picker",disabled:u,inputId:e,isClearable:!s,isCreatable:!1,onChange:d=>{o&&o(d?.value||"")},options:l,value:c})]})};var nT="date-time-field",CO=t=>{let{field:e,field:{admin:{className:o,date:n,description:r,placeholder:s}={},label:i,localized:a,required:l,timezone:c},path:u,readOnly:d,validate:f}=t,m=n?.pickerAppearance||"default",p=Intl.DateTimeFormat().resolvedOptions().timeZone,{config:h}=H(),{i18n:g}=P(),{dispatchFields:b,setModified:C}=Oe(),y=wv((G,W)=>{if(typeof f=="function")return f(G,{...W,required:l})},[f,l]),{customComponents:{AfterInput:v,BeforeInput:x,Description:_,Error:w,Label:T}={},disabled:S,path:R,setValue:D,showError:I,value:F}=Fe({potentiallyStalePath:u,validate:y}),A=R+"_tz",k=Mt(([G,W])=>G?.[A]),L=Sv(()=>c&&typeof c=="object"&&c.supportedTimezones?c.supportedTimezones:h.admin.timezones.supportedTimezones,[h.admin.timezones.supportedTimezones,c]),N=["dayOnly","default","monthOnly"].includes(m),B=k?.value,j=l||c&&typeof c=="object"&&c.required,E=Sv(()=>{if(c&&B&&p&&F){let G=no.tz(B),W=no.tz(p),U=new no(F).withTimeZone(B),z=fn(U,G);return fn(z,W).toISOString()}return F},[c,B,F,p]),$=Sv(()=>Qe(e),[e]),M=wv(G=>{if(!(d||S))if(c&&B&&G){let W=no.tz(B);if(N){let U=G.getTimezoneOffset()/60,z=G.getHours()+U;G.setHours(z);let J=fn(G,W);D(J.toISOString()||null)}else{let U=new no(G),z=fn(U,W);D(z.toISOString()||null)}}else D(G?.toISOString()||null)},[d,S,c,B,N,D]),O=wv(G=>{A&&(b({type:"UPDATE",path:A,value:G}),C(!0))},[b,C,A]);return rT("div",{className:[Ae,nT,o,I&&`${nT}--has-error`,(d||S)&&"read-only"].filter(Boolean).join(" "),style:$,children:[ni(ue,{CustomComponent:T,Fallback:ni(_e,{label:i,localized:a,path:R,required:l})}),rT("div",{className:`${Ae}__wrap`,id:`field-${R.replace(/\./g,"__")}`,children:[ni(ue,{CustomComponent:w,Fallback:ni(Ze,{path:R,showError:I})}),x,ni(bl,{...n,onChange:M,overrides:{...n?.overrides},placeholder:yO(s,g),readOnly:d||S,value:E}),c&&L.length>0&&ni(Pu,{id:`${R}-timezone-picker`,onChange:O,options:L,readOnly:d||S,required:j,selectedTimezone:B}),v]}),ni(ue,{CustomComponent:_,Fallback:ni(Ue,{description:r,path:R})})]})},Eu=ze(CO);import{jsx as ia,jsxs as sT}from"react/jsx-runtime";import{getTranslation as xO}from"@payloadcms/translations";import{useCallback as wO,useMemo as SO}from"react";var IO=t=>{let{field:e,field:{admin:{autoComplete:o,className:n,description:r,placeholder:s}={},label:i,localized:a,required:l}={},path:c,readOnly:u,validate:d}=t,{i18n:f}=P(),m=wO((S,R)=>{if(typeof d=="function")return d(S,{...R,required:l})},[d,l]),{customComponents:{AfterInput:p,BeforeInput:h,Description:g,Error:b,Label:C}={},disabled:y,path:v,setValue:x,showError:_,value:w}=Fe({potentiallyStalePath:c,validate:m}),T=SO(()=>Qe(e),[e]);return sT("div",{className:[Ae,"email",n,_&&"error",(u||y)&&"read-only"].filter(Boolean).join(" "),style:T,children:[ia(ue,{CustomComponent:C,Fallback:ia(_e,{label:i,localized:a,path:v,required:l})}),sT("div",{className:`${Ae}__wrap`,children:[ia(ue,{CustomComponent:b,Fallback:ia(Ze,{path:v,showError:_})}),h,ia("input",{autoComplete:o,disabled:u||y,id:`field-${v.replace(/\./g,"__")}`,name:v,onChange:x,placeholder:xO(s,f),required:l,type:"email",value:w||""}),p]}),ia(ue,{CustomComponent:g,Fallback:ia(Ue,{description:r,path:v})})]})},aa=ze(IO);import{jsx as ys,jsxs as xp}from"react/jsx-runtime";import{getTranslation as LO}from"@payloadcms/translations";import{groupHasName as pT}from"payload/shared";import{useMemo as kO}from"react";import{jsx as _O}from"react/jsx-runtime";import{createContext as TO,use as FO}from"react";var iT=TO(!1),aT=({children:t,withinRow:e=!0})=>_O(iT,{value:e,children:t}),lT=()=>FO(iT);import{jsx as RO}from"react/jsx-runtime";import{createContext as DO,use as AO}from"react";var cT=DO(!1),Iv=({children:t,withinTab:e=!0})=>RO(cT,{value:e,children:t}),uT=()=>AO(cT);import{jsx as PO}from"react/jsx-runtime";import{createContext as EO,use as NO}from"react";var dT=EO(!1),mT=({children:t,withinGroup:e=!0})=>PO(dT,{value:e,children:t}),fT=()=>NO(dT);var Cn="group-field",jO=t=>{let{field:e,field:{admin:{className:o,description:n,hideGutter:r}={},fields:s,label:i},indexPath:a,parentPath:l,parentSchemaPath:c,path:u,permissions:d,readOnly:f,schemaPath:m}=t,p=m??(e.type==="group"&&pT(e)?e.name:u),{i18n:h}=P(),{isWithinCollapsible:g}=Qs(),b=fT(),C=lT(),y=uT(),{customComponents:{AfterInput:v,BeforeInput:x,Description:_,Label:w}={},errorPaths:T}=Fe({path:u}),S=uo(),R=T.length,D=S&&R>0,I=!(g||b||C),F=kO(()=>Qe(e),[e]);return xp("div",{className:[Ae,Cn,I&&`${Cn}--top-level`,g&&`${Cn}--within-collapsible`,b&&`${Cn}--within-group`,C&&`${Cn}--within-row`,y&&`${Cn}--within-tab`,!r&&b&&`${Cn}--gutter`,D&&`${Cn}--has-error`,o].filter(Boolean).join(" "),id:`field-${u?.replace(/\./g,"__")}`,style:F,children:[ys(mT,{children:xp("div",{className:`${Cn}__wrap`,children:[!!(w||_||i||D)&&xp("div",{className:`${Cn}__header`,children:[!!(w||_||i)&&xp("header",{children:[ys(ue,{CustomComponent:w,Fallback:ys("h3",{className:`${Cn}__title`,children:ys(_e,{as:"span",label:LO(i,h),localized:!1,path:u,required:!1})})}),ys(ue,{CustomComponent:_,Fallback:ys(Ue,{description:n,path:u})})]}),D&&ys(_o,{count:R,i18n:h,withMessage:!0})]}),x,pT(e)?ys(ko,{fields:s,margins:"small",parentIndexPath:"",parentPath:u,parentSchemaPath:p,permissions:d===!0?d:d?.fields,readOnly:f}):ys(ko,{fields:s,margins:"small",parentIndexPath:a,parentPath:l,parentSchemaPath:c,permissions:d,readOnly:f})]})}),v]})};var Nu=ze(jO);import{c as $O}from"react/compiler-runtime";import{jsx as BO}from"react/jsx-runtime";import{useEffect as MO}from"react";var OO=t=>{let e=$O(13),{disableModifyingForm:o,path:n,value:r}=t,s=o===void 0?!0:o,i;e[0]!==n?(i={potentiallyStalePath:n},e[0]=n,e[1]=i):i=e[1];let{formInitializing:a,path:l,setValue:c,value:u}=Fe(i),d,f;e[2]!==s||e[3]!==a||e[4]!==c||e[5]!==r?(d=()=>{r!==void 0&&!a&&c(r,s)},f=[r,c,s,a],e[2]=s,e[3]=a,e[4]=c,e[5]=r,e[6]=d,e[7]=f):(d=e[6],f=e[7]),MO(d,f);let m=`field-${l?.replace(/\./g,"__")}`,p=u||"",h;return e[8]!==l||e[9]!==c||e[10]!==m||e[11]!==p?(h=BO("input",{id:m,name:l,onChange:c,type:"hidden",value:p}),e[8]=l,e[9]=c,e[10]=m,e[11]=p,e[12]=h):h=e[12],h},Lu=ze(OO);var Op=Pi(Tv(),1);import{jsx as ca,jsxs as M8}from"react/jsx-runtime";import{fieldAffectsData as O8,flattenTopLevelFields as V8}from"payload/shared";import{useMemo as wF}from"react";import{jsx as ur,jsxs as $l}from"react/jsx-runtime";import{getTranslation as CF}from"@payloadcms/translations";import{hoistQueryParamsToAnd as k8,transformColumnsToPreferences as xF}from"payload/shared";import j8,{Fragment as $8,useCallback as Mp,useEffect as Wu,useRef as B8,useState as ws}from"react";import{jsx as TT}from"react/jsx-runtime";import{useRouter as ZO,useSearchParams as YO}from"next/navigation.js";import*as Av from"qs-esm";import JO,{useCallback as ju,useEffect as qO,useMemo as QO,useRef as KO,useState as FT}from"react";import{jsx as WO}from"react/jsx-runtime";import{createContext as HO,use as UO}from"react";var xT=HO({}),Fv=({children:t,...e})=>WO(xT,{value:{isInDrawer:!!e.drawerSlug,...e},children:t}),Fr=()=>{let t=UO(xT);if(!t)throw new Error("useListDrawerContext must be used within a ListDrawerContextProvider");return t};import*as wT from"qs-esm";function Ut(t){let e=t.toString();return wT.parse(e,{depth:10,ignoreQueryPrefix:!0})}import{createContext as ST,use as XO}from"react";var Rv=ST({}),lt=()=>XO(Rv),IT=ST(!1);var _T=(t,e,o)=>{let n="page"in e?e.page:t?.page;["where","search","groupBy"].some(l=>l in e&&!["limit","page"].includes(l))&&(n=1);let s=["where","search","page","limit","groupBy","sort"].some(l=>l in e),i;return s||(i={...t?.queryByGroup||{},...e.queryByGroup?Object.fromEntries(Object.entries(e.queryByGroup).map(([l,c])=>[l,{...t?.queryByGroup?.[l]||{},...c}])):{}}),{...t,...e,columns:"columns"in e?e.columns:t.columns,groupBy:"groupBy"in e?e.groupBy:t?.groupBy??o?.defaults?.groupBy,limit:"limit"in e?e.limit:t?.limit??o?.defaults?.limit,page:n,preset:"preset"in e?e.preset:t?.preset,queryByGroup:i,search:"search"in e?e.search:t?.search,sort:"sort"in e?e.sort:t?.sort??o?.defaults?.sort,where:"where"in e?e.where:t?.where}};var Dv=t=>{let e={...t};return Object.entries(e).forEach(([o,n])=>{if(o==="columns"&&(n==="[]"||Array.isArray(e[o])&&e[o].length===0)&&delete e[o],o==="where"&&typeof n=="object"&&n!==null&&!Object.keys(n).length&&delete e[o],(o==="limit"||o==="page")&&typeof n=="string"){let r=parseInt(n,10);e[o]=Number.isNaN(r)?void 0:r}o==="page"&&n===0&&delete e[o],n===""&&delete e[o]}),e};var Pv=({children:t,collectionSlug:e,data:o,modifySearchParams:n,onQueryChange:r,orderableFieldName:s,query:i})=>{"use no memo";let a=ZO(),l=YO(),{startRouteTransition:c}=Xe(),[u,d]=FT(!1),{getEntityConfig:f}=H(),m=f({collectionSlug:e}),p=QO(()=>Dv(Ut(l)),[l]),h=KO({});h.current.modified=u;let{onQueryChange:g}=Fr(),[b,C]=FT(()=>n?p:{limit:i.limit,sort:i.sort}),y=ju(async(R,D)=>{d(D!==void 0?D:!0);let I=_T(b,R,{defaults:{limit:i.limit,sort:i.sort}});n?c(()=>a.replace(`${Av.stringify({...I,columns:JSON.stringify(I.columns),queryByGroup:JSON.stringify(I.queryByGroup)},{addQueryPrefix:!0})}`)):(typeof g=="function"||typeof r=="function")&&(g||r)(I),C(I)},[b,i.limit,i.sort,n,g,r,c,a]),v=ju(async R=>{await y({page:R})},[y]),x=JO.useCallback(async R=>{await y({limit:R,page:1})},[y]),_=ju(async R=>{await y({search:R===""?void 0:R})},[y]),w=ju(async R=>{await y({sort:R})},[y]),T=ju(async R=>{await y({where:R})},[y]),S=Je(()=>{let R=Dv({...b||{},...i||{}}),D=`?${Av.stringify({...R,columns:JSON.stringify(R.columns),queryByGroup:JSON.stringify(R.queryByGroup)})}`;window.location.search!==D&&(C(R),window.history.replaceState(null,"",D))});return qO(()=>{n&&S()},[n,i]),TT(Rv,{value:{collectionSlug:e,data:o,defaultLimit:o?.limit,handlePageChange:v,handlePerPageChange:x,handleSearchChange:_,handleSortChange:w,handleWhereChange:T,isGroupingBy:!!(m?.admin?.groupBy&&b?.groupBy),orderableFieldName:s,query:b,refineListData:y,setModified:d,...h.current},children:TT(IT,{value:u,children:t})})};import{jsx as e7}from"react/jsx-runtime";import t7,{createContext as o7,useCallback as Cs}from"react";var Ev=o7(void 0),Pt=()=>{let t=t7.use(Ev);if(t===void 0)throw new Error("useServerFunctions must be used within a ServerFunctionsProvider");return t},Nv=({children:t,serverFunction:e})=>{if(!e)throw new Error("ServerFunctionsProvider requires a serverFunction prop");let o=Cs(async d=>await e({name:"render-document-slots",args:d}),[e]),n=Cs(async d=>{let{signal:f,...m}=d;try{if(!f?.aborted){let h=await e({name:"schedule-publish",args:{...m}});if(!f?.aborted)return h}}catch(h){console.error(h)}let p=`Error scheduling ${m.type}`;return m.doc&&(p+=` for document with ID ${m.doc.value} in collection ${m.doc.relationTo}`),{error:p}},[e]),r=Cs(async d=>{let{signal:f,...m}=d||{};try{if(!f?.aborted){let p=await e({name:"form-state",args:{fallbackLocale:!1,...m}});if(!f?.aborted)return p}}catch(p){console.error(p)}return{state:null}},[e]),s=Cs(async d=>{let{signal:f,...m}=d||{};try{if(!f?.aborted){let p=await e({name:"table-state",args:{fallbackLocale:!1,...m}});if(!f?.aborted)return p}}catch(p){console.error(p)}},[e]),i=Cs(async d=>{let{signal:f,...m}=d||{};try{return await e({name:"render-document",args:{fallbackLocale:!1,...m}})}catch(p){console.error(p)}},[e]),a=Cs(async d=>{let{signal:f,...m}=d||{};try{let p=await e({name:"copy-data-from-locale",args:m});if(!f?.aborted)return p}catch(p){console.error(p)}},[e]),l=Cs(async d=>{let{signal:f,...m}=d||{};try{let p=await e({name:"get-folder-results-component-and-data",args:m});if(!f?.aborted)return p}catch(p){console.error(p)}},[e]),c=Cs(async d=>{try{return await e({name:"render-field",args:d})}catch(f){console.error(f)}},[e]),u=Cs(async d=>{let{signal:f,...m}=d||{};try{return await e({name:"slugify",args:{...m}})}catch(p){console.error(p)}},[e]);return e7(Ev,{value:{_internal_renderField:c,copyDataFromLocale:a,getDocumentSlots:o,getFolderResultsComponentAndData:l,getFormState:r,getTableState:s,renderDocument:i,schedulePublish:n,serverFunction:e,slugify:u},children:t})};import{jsx as s7}from"react/jsx-runtime";import{transformColumnsToSearchParams as RT}from"payload/shared";import DT,{startTransition as AT,useCallback as kv,useRef as i7}from"react";import{createContext as r7,use as n7}from"react";var Lv=r7({}),El=()=>n7(Lv);var $u=({children:t,collectionSlug:e,columnState:o,LinkedCellOverride:n})=>{let{getEntityConfig:r}=H(),{query:s,refineListData:i}=lt(),{admin:{defaultColumns:a}={}}=r({collectionSlug:e}),[l,c]=DT.useOptimistic(o,(h,g)=>g),u=i7({}),d=kv(async h=>{let g=(l||[]).map(b=>b.accessor===h?{...b,active:!b.active}:b);AT(()=>{c(g)}),await i({columns:RT(g)})},[i,l,c]),f=kv(async h=>{let{fromIndex:g,toIndex:b}=h,C=[...l||[]],[y]=C.splice(g,1);C.splice(b,0,y),AT(()=>{c(C)}),await i({columns:RT(C)})},[l,i,c]),m=kv(async h=>{let g=s.columns;h.forEach(b=>{let C=g.findIndex(y=>b===y);C!==void 0&&g[C][0]==="-"&&(g[C]=b.slice(1))}),await i({columns:g})},[s,i]),p=DT.useCallback(async()=>{await i({columns:a||[]})},[a,i]);return s7(Lv,{value:{columns:l,LinkedCellOverride:n,moveColumn:f,resetColumnsState:p,setActiveColumns:m,toggleColumn:d,...u.current},children:t})};import{jsx as PT}from"react/jsx-runtime";import{fieldIsHiddenOrDisabled as l7,fieldIsID as c7}from"payload/shared";import{useId as u7,useMemo as ET}from"react";import{jsx as Nl}from"react/jsx-runtime";import a7 from"react";var Bu="pill-selector",jv=({draggable:t,onClick:e,pills:o})=>{let n=a7.useMemo(()=>o.map((r,s)=>Nl(tt,{alignIcon:"left","aria-checked":r.selected,className:[`${Bu}__pill`,r.selected&&`${Bu}__pill--selected`].filter(Boolean).join(" "),draggable:!!t,icon:r.selected?Nl(yt,{}):Nl(ar,{}),id:r.name,onClick:()=>{e&&e({pill:r})},size:"small",children:r.Label??Nl("span",{className:`${Bu}__pill-label`,children:r.name})},r.key??`${r.name}-${s}`)),[o,e,t]);return t?Nl(zr,{className:Bu,ids:o.map(r=>r.name),onDragEnd:({moveFromIndex:r,moveToIndex:s})=>{t.onDragEnd({moveFromIndex:r,moveToIndex:s})},children:n}):Nl("div",{className:Bu,children:n})};var Sp=({collectionSlug:t})=>{let{columns:e,moveColumn:o,toggleColumn:n}=El(),r=u7(),s=dt(),i=ET(()=>e?.filter(l=>!(l7(l.field)&&!c7(l.field))&&!l?.field?.admin?.disableListColumn),[e]),a=ET(()=>i?i.map((l,c)=>{let{accessor:u,active:d,field:f}=l,m="labelWithPrefix"in f&&f.labelWithPrefix!==void 0?f.labelWithPrefix:"label"in f&&f.label!==void 0?f.label:"name"in f&&f.name!==void 0?f.name:void 0;return{name:u,key:`${t}-${u}-${c}${s?`-${s}-`:""}${r}`,Label:PT(_e,{label:m,unstyled:!0}),selected:d}}):null,[t,s,i,r]);return a?PT(jv,{draggable:{onDragEnd:({moveFromIndex:l,moveToIndex:c})=>{o({fromIndex:l,toIndex:c})}},onClick:({pill:l})=>{n(l.name)},pills:a}):null};import{c as WT}from"react/compiler-runtime";import{jsx as Tp}from"react/jsx-runtime";import{createElement as _7}from"react";import{useEffect as T7,useId as F7,useState as R7}from"react";import{c as d7}from"react/compiler-runtime";import{useState as m7}from"react";var Ip=t=>{let e=d7(3),{getEntityConfig:o}=H(),n;e[0]!==o||e[1]!==t?(n=()=>t?(typeof t=="string"?[t]:t).map(i=>o({collectionSlug:i})):[],e[0]=o,e[1]=t,e[2]=n):n=e[2];let[r]=m7(n);return r};import{jsx as VT}from"react/jsx-runtime";import S7,{useCallback as Ou,useEffect as GT,useRef as I7,useState as Vv}from"react";import{c as Ov}from"react/compiler-runtime";import{jsx as la,jsxs as $T}from"react/jsx-runtime";import{getTranslation as b7}from"@payloadcms/translations";import v7 from"react";import{jsx as p7,jsxs as h7}from"react/jsx-runtime";import Mv,{createContext as g7}from"react";import{c as f7}from"react/compiler-runtime";import*as si from"react";var $v=t=>{let e=f7(13),{delayBeforeShow:o,inTimeout:n,minShowTime:r,outTimeout:s,show:i}=t,a=n+r+s,[l,c]=Qg(o),[u,d]=si.useState(!1),[f,m]=si.useState(!1),p=si.useRef(0),h=si.useRef(void 0),g;e[0]!==s?(g=()=>{m(!0),h.current=setTimeout(()=>{d(!1),m(!1)},s)},e[0]=s,e[1]=g):g=e[1];let b=g,C,y;e[2]!==l||e[3]!==u||e[4]!==i||e[5]!==a||e[6]!==b?(C=()=>{let x=l&&!u&&i,_=u&&!i;if(x)p.current=Date.now(),d(!0);else if(_){let w=Date.now()-p.current,T=a-w;clearTimeout(h.current),h.current=setTimeout(b,Math.max(0,T))}},y=[u,i,b,a,l],e[2]=l,e[3]=u,e[4]=i,e[5]=a,e[6]=b,e[7]=C,e[8]=y):(C=e[7],y=e[8]),si.useEffect(C,y);let v;return e[9]!==u||e[10]!==f||e[11]!==c?(v={isMounted:u,isUnmounting:f,triggerDelayedRender:c},e[9]=u,e[10]=f,e[11]=c,e[12]=v):v=e[12],v};var NT={isLoading:!1,loaders:[],loadingText:"",overlayType:null},LT=(t,e)=>{let o=[...t.loaders],{type:n="fullscreen",key:r="user",loadingText:s}=e.payload;if(e.type==="add")o.push({type:n,key:r,loadingText:s});else if(e.type==="remove"){let a=o.findIndex(l=>l.key===r&&l.type===n);o.splice(a,1)}let i=o?.length>0?o[o.length-1]:null;return{isLoading:!!i,loaders:o,loadingText:i?.loadingText||t?.loadingText,overlayType:i?.type||t?.overlayType}};var Bv=250,kT=g7({isOnScreen:!1,toggleLoadingOverlay:void 0}),jT=({children:t})=>{let{t:e}=P(),o=e("general:loading"),[n,r]=Mv.useReducer(LT,NT),{isMounted:s,isUnmounting:i,triggerDelayedRender:a}=$v({delayBeforeShow:1e3,inTimeout:Bv,minShowTime:500,outTimeout:Bv,show:n.isLoading}),l=Mv.useCallback(({type:c,isLoading:u,key:d,loadingText:f=o})=>{u?(a(),r({type:"add",payload:{type:c,key:d,loadingText:f}})):r({type:"remove",payload:{type:c,key:d}})},[a,o]);return h7(kT,{value:{isOnScreen:s,toggleLoadingOverlay:l},children:[s&&p7(xn,{animationDuration:`${Bv}ms`,loadingText:n.loadingText||o,overlayType:n.overlayType,show:!i}),t]})},_p=()=>{let t=Mv.use(kT);if(t===void 0)throw new Error("useLoadingOverlay must be used within a LoadingOverlayProvider");return t};var wn="loading-overlay",xn=t=>{let e=Ov(8),{animationDuration:o,loadingText:n,overlayType:r,show:s}=t,i=s===void 0?!0:s,{t:a}=P(),l=i?`${wn}--entering`:`${wn}--exiting`,c=r?`${wn}--${r}`:"",u;e[0]!==l||e[1]!==c?(u=[wn,l,c].filter(Boolean),e[0]=l,e[1]=c,e[2]=u):u=e[2];let d=u.join(" "),f=o||"500ms",m;return e[3]!==n||e[4]!==a||e[5]!==d||e[6]!==f?(m=$T("div",{className:d,style:{animationDuration:f},children:[$T("div",{className:`${wn}__bars`,children:[la("div",{className:`${wn}__bar`}),la("div",{className:`${wn}__bar`}),la("div",{className:`${wn}__bar`}),la("div",{className:`${wn}__bar`}),la("div",{className:`${wn}__bar`})]}),la("span",{className:`${wn}__text`,children:n||a("general:loading")})]}),e[3]=n,e[4]=a,e[5]=d,e[6]=f,e[7]=m):m=e[7],m},BT=t=>{let e=Ov(7),{name:o,type:n,loadingText:r,show:s}=t,i=n===void 0?"fullscreen":n,{toggleLoadingOverlay:a}=_p(),l,c;return e[0]!==o||e[1]!==r||e[2]!==s||e[3]!==a||e[4]!==i?(l=()=>(a({type:i,isLoading:s,key:o,loadingText:r||void 0}),()=>{a({type:i,isLoading:!1,key:o})}),c=[s,a,o,i,r],e[0]=o,e[1]=r,e[2]=s,e[3]=a,e[4]=i,e[5]=l,e[6]=c):(l=e[5],c=e[6]),v7.useEffect(l,c),null},y7=t=>{let e=Ov(6),{name:o,type:n,action:r,formIsLoading:s,loadingSuffix:i}=t,a=n===void 0?"fullscreen":n,l=s===void 0?!1:s,c=Gr(),{i18n:u,t:d}=P(),m=`${{create:d("general:creating"),loading:d("general:loading"),update:d("general:updating")}[r]} ${i?b7(i,u):""}`,p;return e[0]!==l||e[1]!==c||e[2]!==o||e[3]!==m||e[4]!==a?(p=la(BT,{loadingText:m.trim(),name:o,show:l||c,type:a}),e[0]=l,e[1]=c,e[2]=o,e[3]=m,e[4]=a,e[5]=p):p=e[5],p};function Rr(t){if(t)try{t.abort()}catch{}}function Dr(t){let e=new AbortController;if(t.current)try{t.current.abort()}catch{}return t.current=e,e}import{jsx as C7}from"react/jsx-runtime";import{createContext as x7,use as w7}from"react";var MT=x7({}),OT=({children:t,...e})=>C7(MT,{value:{...e},children:t}),Mu=()=>{let t=w7(MT);if(!t)throw new Error("useDocumentDrawerContext must be used within a DocumentDrawerProvider");return t};var zT=({id:t,collectionSlug:e,disableActions:o,drawerSlug:n,initialData:r,onDelete:s,onDuplicate:i,onSave:a,overrideEntityVisibility:l=!0,redirectAfterCreate:c,redirectAfterDelete:u,redirectAfterDuplicate:d,redirectAfterRestore:f})=>{let{getEntityConfig:m}=H(),p=Ie(),[h]=Vv(()=>m({collectionSlug:e})),g=S7.useRef(null),{closeModal:b}=ie(),{t:C}=P(),{renderDocument:y}=Pt(),[v,x]=Vv(void 0),[_,w]=Vv(!0),T=I7(!1),S=Ou((A,k=!1)=>{let L=Dr(g);(async()=>{k&&w(!0);try{let B=await y({collectionSlug:e,disableActions:o,docID:A,drawerSlug:n,initialData:r,locale:p,overrideEntityVisibility:l,redirectAfterCreate:c,redirectAfterDelete:u!==void 0?u:!1,redirectAfterDuplicate:d!==void 0?d:!1,redirectAfterRestore:f!==void 0?f:!1,signal:L.signal});B?.Document&&(x(B.Document),w(!1))}catch(B){oe.error(B?.message||C("error:unspecific")),b(n)}g.current=null})()},[e,o,n,r,u,d,f,y,c,b,l,C,p]),R=Ou(A=>{A.operation==="create"&&S(A.doc.id),typeof a=="function"&&a({...A,collectionConfig:h})},[a,h,S]),D=Ou(A=>{S(A.doc.id),typeof i=="function"&&i({...A,collectionConfig:h})},[i,h,S]),I=Ou(A=>{typeof s=="function"&&s({...A,collectionConfig:h}),b(n)},[s,b,n,h]),F=Ou(()=>{S(void 0,!0)},[S]);return GT(()=>{!v&&!T.current&&(S(t,!0),T.current=!0)},[v,S,t]),GT(()=>{let A=g.current;return()=>{Rr(A)}},[]),_?VT(xn,{}):VT(OT,{clearDoc:F,drawerSlug:n,onDelete:I,onDuplicate:D,onSave:R,children:v})};var xs="doc-drawer",D7=({id:t,collectionSlug:e,depth:o,uuid:n})=>`doc-drawer_${e}_${o}${t?`_${t}`:""}_${n}`,A7=t=>{let e=WT(2),{children:o,className:n,collectionSlug:r,disabled:s,drawerSlug:i,onClick:a,operation:l,...c}=t,{t:u}=P(),[d]=Ip(r),f=u(l==="create"?"fields:addNewLabel":"general:editLabel",{label:d?.labels.singular}),m;return e[0]!==n?(m=[n,`${xs}__toggler`].filter(Boolean),e[0]=n,e[1]=m):m=e[1],Tp(fs,{"aria-label":f,className:m.join(" "),disabled:s,onClick:a,slug:i,...c,children:o})},Gv=t=>{let{drawerSlug:e}=t;return Tp(St,{className:xs,gutter:!1,Header:null,slug:e,children:Tp(zT,{...t})})},Lt=t=>{let e=WT(38),{id:o,collectionSlug:n,overrideEntityVisibility:r}=t,s=dt(),i=F7(),{closeModal:a,modalState:l,openModal:c,toggleModal:u}=ie(),[d,f]=R7(!1),m;e[0]!==n||e[1]!==s||e[2]!==o||e[3]!==i?(m=D7({id:o,collectionSlug:n,depth:s,uuid:i}),e[0]=n,e[1]=s,e[2]=o,e[3]=i,e[4]=m):m=e[4];let p=m,h,g;e[5]!==p||e[6]!==l?(h=()=>{f(!!l[p]?.isOpen)},g=[l,p],e[5]=p,e[6]=l,e[7]=h,e[8]=g):(h=e[7],g=e[8]),T7(h,g);let b;e[9]!==p||e[10]!==u?(b=()=>{u(p)},e[9]=p,e[10]=u,e[11]=b):b=e[11];let C=b,y;e[12]!==a||e[13]!==p?(y=()=>{a(p)},e[12]=a,e[13]=p,e[14]=y):y=e[14];let v=y,x;e[15]!==p||e[16]!==c?(x=()=>{c(p)},e[15]=p,e[16]=c,e[17]=x):x=e[17];let _=x,w;e[18]!==n||e[19]!==p||e[20]!==o||e[21]!==r?(w=A=>_7(Gv,{...A,collectionSlug:n,drawerSlug:p,id:o,key:p,overrideEntityVisibility:r}),e[18]=n,e[19]=p,e[20]=o,e[21]=r,e[22]=w):w=e[22];let T=w,S;e[23]!==n||e[24]!==p||e[25]!==o?(S=A=>Tp(A7,{...A,collectionSlug:n,drawerSlug:p,operation:o?"update":"create"}),e[23]=n,e[24]=p,e[25]=o,e[26]=S):S=e[26];let R=S,D;e[27]!==v||e[28]!==p||e[29]!==s||e[30]!==d||e[31]!==_||e[32]!==C?(D={closeDrawer:v,drawerDepth:s,drawerSlug:p,isDrawerOpen:d,openDrawer:_,toggleDrawer:C},e[27]=v,e[28]=p,e[29]=s,e[30]=d,e[31]=_,e[32]=C,e[33]=D):D=e[33];let I=D,F;return e[34]!==T||e[35]!==I||e[36]!==R?(F=[T,R,I],e[34]=T,e[35]=I,e[36]=R,e[37]=F):F=e[37],F};import{c as L7}from"react/compiler-runtime";import{jsx as k7}from"react/jsx-runtime";import{appendUploadSelectFields as j7,formatAdminURL as $7}from"payload/shared";import*as UT from"qs-esm";import{createContext as B7,use as M7,useEffect as O7,useReducer as V7,useRef as G7}from"react";import{c as P7}from"react/compiler-runtime";import{useEffect as E7,useState as N7}from"react";function Sn(t,e){let o=P7(4),[n,r]=N7(t),s,i;return o[0]!==e||o[1]!==t?(s=()=>{let a=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(a)}},i=[t,e],o[0]=e,o[1]=t,o[2]=s,o[3]=i):(s=o[2],i=o[3]),E7(s,i),n}function HT(t,e){switch(e.type){case"ADD_LOADED":{let o={...t};typeof o[e.relationTo]!="object"&&(o[e.relationTo]={});let n=[...e.idsToLoad];return Array.isArray(e.docs)&&e.docs.forEach(r=>{n.splice(n.indexOf(r.id),1),o[e.relationTo][r.id]=r}),n.forEach(r=>{o[e.relationTo][r]=!1}),o}case"REQUEST":{let o={...t};return e.docs.forEach(({relationTo:n,value:r})=>{typeof o[n]!="object"&&(o[n]={}),o[n][r]=null}),o}default:return t}}var XT=B7({}),Vu=t=>{let e=L7(15),{children:o}=t,n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={},e[0]=n):n=e[0];let[r,s]=V7(HT,n),i=Sn(r,100),{config:a}=H(),{collections:l,routes:c}=a,{api:u}=c,{i18n:d}=P(),{code:f}=Ie(),m=G7(f),p;e[1]!==u||e[2]!==l||e[3]!==i||e[4]!==d||e[5]!==f?(p=x=>{let _=x===void 0?!1:x;Object.entries(i).forEach(async w=>{let[T,S]=w,R=[];if(Object.entries(S).forEach(D=>{let[I,F]=D;(F===null||_)&&R.push(I)}),R.length>0){let D=$7({apiRoute:u,path:`/${T}`}),I=new URLSearchParams,F={};I.append("depth","0"),I.append("limit","250");let A=l.find(B=>B.slug===T);if(A.admin.enableListViewSelectAPI){let B=A.admin.useAsTitle??"id";F[B]=!0,A.upload&&j7({collectionConfig:A,select:F})}f&&I.append("locale",f);let k=R.map(z7);I.append("where[id][in]",k.join(","));let L=`?${I.toString()}&${UT.stringify({select:F})}`,N=await fetch(`${D}${L}`,{credentials:"include",headers:{"Accept-Language":d.language}});if(N.ok){let B=await N.json();B.docs&&s({type:"ADD_LOADED",docs:B.docs,idsToLoad:R,relationTo:T})}else s({type:"ADD_LOADED",docs:[],idsToLoad:R,relationTo:T})}})},e[1]=u,e[2]=l,e[3]=i,e[4]=d,e[5]=f,e[6]=p):p=e[6];let h=p,g,b;e[7]!==h||e[8]!==f?(g=()=>{h(f&&m.current!==f),m.current=f},b=[f,h],e[7]=h,e[8]=f,e[9]=g,e[10]=b):(g=e[9],b=e[10]),O7(g,b);let C;e[11]===Symbol.for("react.memo_cache_sentinel")?(C=x=>{s({type:"REQUEST",docs:x})},e[11]=C):C=e[11];let y=C,v;return e[12]!==o||e[13]!==r?(v=k7(XT,{value:{documents:r,getRelationships:y},children:o}),e[12]=o,e[13]=r,e[14]=v):v=e[14],v},zv=()=>M7(XT);function z7(t){return String(t)}import{jsx as Ll}from"react/jsx-runtime";import{getTranslation as W7}from"@payloadcms/translations";var Wv=({allowCreate:t,baseClass:e,buttonStyle:o,className:n,collections:r,i18n:s,icon:i,label:a,onClick:l,permissions:c,relationTo:u})=>t?Array.isArray(u)?Ll("div",{className:`${e}__add-new-polymorphic-wrapper`,children:Ll(st,{button:Ll(K,{buttonStyle:o,className:n,icon:i,children:a}),buttonType:"custom",horizontalAlign:"center",render:({close:f})=>Ll(we.ButtonGroup,{children:u.map(m=>c.collections[m]?.create?Ll(we.Button,{className:`${e}__relation-button--${m}`,onClick:()=>{f(),l(m)},children:W7(r.find(p=>p.slug===m).labels.singular,s)},m):null)}),size:"medium"})}):Ll(K,{buttonStyle:o,className:n,onClick:()=>l(),children:a}):null;import{c as F8}from"react/compiler-runtime";import{jsx as qv,jsxs as R8}from"react/jsx-runtime";import"react";import{c as I8}from"react/compiler-runtime";import{jsx as mF}from"react/jsx-runtime";import fF from"react";import{c as v8}from"react/compiler-runtime";import{jsx as jl,jsxs as y8}from"react/jsx-runtime";import{getTranslation as C8}from"@payloadcms/translations";import{fieldAffectsData as x8,fieldIsID as w8}from"payload/shared";import"react";import{formatAdminURL as Fp}from"payload/shared";import{getTranslation as X7}from"@payloadcms/translations";import H7 from"react";var U7=Symbol.for("react.lazy");function Rp(t){return H7.isValidElement(t)||t?.$$typeof===U7}var ZT=(t,e,o)=>{if((e?.type==="select"||e?.type==="radio")&&Array.isArray(e.options)){let n=e.options.find(r=>typeof r=="object"?r.value===t:r===t);if(n)return typeof n=="object"&&"label"in n?Rp(n.label)?n.label:X7(n.label,o)||n.value:n}return t};import{jsx as YT}from"react/jsx-runtime";import"react";var Dp=({cellData:t,nowrap:e})=>{let o=t?.length>100?`${t.substring(0,100)}\u2026`:t;return YT("code",{className:"code-cell",style:e?{whiteSpace:"nowrap"}:{},children:YT("span",{children:o})})};import{c as Z7}from"react/compiler-runtime";import{jsx as Y7}from"react/jsx-runtime";import{getTranslation as JT}from"@payloadcms/translations";import"react";var qT=t=>{let e=Z7(2),{cellData:o,field:n}=t,{labels:r}=n,{i18n:s}=P(),i=o??[],a=i.length===1?`${i.length} ${JT(r?.singular||s.t("general:rows"),s)}`:`${i.length} ${JT(r?.plural||s.t("general:rows"),s)}`,l;return e[0]!==a?(l=Y7("span",{children:a}),e[0]=a,e[1]=l):l=e[1],l};import{c as J7}from"react/compiler-runtime";import{jsx as q7}from"react/jsx-runtime";import{getTranslation as Ap}from"@payloadcms/translations";import"react";var QT=t=>{let e=J7(2),{cellData:o,field:n}=t,{blockReferences:r,blocks:s,labels:i}=n,{i18n:a}=P(),{config:l}=H(),c=Array.isArray(o)?o.map(Q7):[],u=(r??s)?.map(p=>{let h=typeof p=="string"?l.blocksMap[p]:p;return{slug:h.slug,label:Ap(h.labels.singular,a)}}),d=`0 ${Ap(i?.plural,a)}`,f=p=>p.map(h=>u.filter(b=>b.slug===h)?.[0]?.label).join(", ");if(c.length>5){let p=c.length-5;d=`${c.length} ${Ap(i?.plural,a)} - ${a.t("fields:itemsAndMore",{count:p,items:f(c.slice(0,5))})}`}else c.length>0&&(d=`${c.length} ${Ap(c.length===1?i?.singular:i?.plural,a)} - ${f(c)}`);let m;return e[0]!==d?(m=q7("span",{children:d}),e[0]=d,e[1]=m):m=e[1],m};function Q7(t){let{blockType:e}=t;return e}import{c as K7}from"react/compiler-runtime";import{jsx as KT}from"react/jsx-runtime";import"react";var eF=t=>{let e=K7(3),{cellData:o}=t,{t:n}=P(),r=`general:${o}`,s;return e[0]!==n||e[1]!==r?(s=KT("code",{className:"bool-cell",children:KT("span",{children:n(r).toLowerCase()})}),e[0]=n,e[1]=r,e[2]=s):s=e[2],s};import{jsx as e8}from"react/jsx-runtime";import{getObjectDotNotation as t8}from"payload/shared";import"react";var Hv=t=>{let{cellData:e,field:o,rowData:n}=t,{name:r,accessor:s,admin:i,timezone:a}=o,{date:l}=i===void 0?{}:i,{config:c}=H(),{admin:u}=c,{dateFormat:d}=u,{i18n:f}=P(),p=`${s||r}_tz`,h=a&&n?t8(n,p,void 0):void 0,g=l?.displayFormat||d;return e8("span",{children:!!e&&Hr({date:e,i18n:f,pattern:g,timezone:h})})};import{jsx as Uv,jsxs as r8,Fragment as n8}from"react/jsx-runtime";import{getBestFitFromSizes as s8,isImage as i8}from"payload/shared";import"react";import{c as oF}from"react/compiler-runtime";import{jsx as kl,jsxs as rF}from"react/jsx-runtime";import Ep from"react";import{jsx as tF,jsxs as o8}from"react/jsx-runtime";import"react";var Pp=()=>o8("svg",{height:"150",style:{backgroundColor:"#333333"},viewBox:"0 0 150 150",width:"150",xmlns:"http://www.w3.org/2000/svg",children:[tF("path",{d:"M82.8876 50.5H55.5555V100.5H94.4444V61.9818H82.8876V50.5Z",fill:"white"}),tF("path",{d:"M82.8876 61.9818H94.4444L82.8876 50.5V61.9818Z",fill:"#9A9A9A"})]});var Np="thumbnail",Ar=t=>{let e=oF(6),{className:o,doc:n,fileSrc:r,height:s,imageCacheTag:i,size:a,width:l}=t,c=o===void 0?"":o,{filename:u}=n===void 0?{}:n,[d,f]=Ep.useState(void 0),m=`${Np}--size-${a||"medium"}`,p;e[0]!==c||e[1]!==m?(p=[Np,m,c],e[0]=c,e[1]=m,e[2]=p):p=e[2];let h=p.join(" "),g,b;e[3]!==r?(g=()=>{if(!r){f(!1);return}f(void 0);let y=new Image;y.src=r,y.onload=()=>{f(!0)},y.onerror=()=>{f(!1)}},b=[r],e[3]=r,e[4]=g,e[5]=b):(g=e[4],b=e[5]),Ep.useEffect(g,b);let C=null;if(r){let y=r?.includes("?")?"&":"?";C=i?`${r}${y}${encodeURIComponent(i)}`:r}return rF("div",{className:h,children:[d===void 0&&kl(Dt,{height:"100%"}),d&&kl("img",{alt:u,height:s,src:C,width:l}),d===!1&&kl(Pp,{})]})};function nF(t){let e=oF(12),{alt:o,className:n,filename:r,fileSrc:s,imageCacheTag:i,size:a}=t,l=n===void 0?"":n,[c,u]=Ep.useState(void 0),d=`${Np}--size-${a||"medium"}`,f;e[0]!==l||e[1]!==d?(f=[Np,d,l],e[0]=l,e[1]=d,e[2]=f):f=e[2];let m=f.join(" "),p,h;e[3]!==s?(p=()=>{if(!s){u(!1);return}u(void 0);let C=new Image;C.src=s,C.onload=()=>{u(!0)},C.onerror=()=>{u(!1)}},h=[s],e[3]=s,e[4]=p,e[5]=h):(p=e[4],h=e[5]),Ep.useEffect(p,h);let g="";if(s){let C=s?.includes("?")?"&":"?";g=i?`${s}${C}${encodeURIComponent(i)}`:s}let b;return e[6]!==o||e[7]!==m||e[8]!==c||e[9]!==r||e[10]!==g?(b=rF("div",{className:m,children:[c===void 0&&kl(Dt,{height:"100%"}),c&&kl("img",{alt:o||r,src:g}),c===!1&&kl(Pp,{})]}),e[6]=o,e[7]=m,e[8]=c,e[9]=r,e[10]=g,e[11]=b):b=e[11],b}var Xv="file",Lp=({cellData:t,collectionConfig:e,field:o,rowData:n})=>{if(("displayPreview"in o?o.displayPreview:void 0)??e.upload?.displayPreview??!0){let i=i8(n?.mimeType),a=i?n?.thumbnailURL||n?.url:n?.thumbnailURL;return i&&(a=s8({sizes:n?.sizes,thumbnailURL:n?.thumbnailURL,url:n?.url,width:n?.width})),r8("div",{className:Xv,children:[Uv(Ar,{className:`${Xv}__thumbnail`,collectionSlug:e?.slug,doc:{...n,filename:t},fileSrc:a,imageCacheTag:e?.upload?.cacheTags&&n?.updatedAt,size:"small",uploadConfig:e?.upload}),Uv("span",{className:`${Xv}__filename`,children:String(t)})]})}else return Uv(n8,{children:String(t)})};import{c as a8}from"react/compiler-runtime";import{jsx as kp}from"react/jsx-runtime";import"react";function sF(t,e){let o=JSON.stringify(t);return o.length/e>1.5?`${o.substring(0,e)}\u2026`:o}var iF=t=>{let e=a8(4),{cellData:o}=t,{t:n}=P();try{let r;if(e[0]!==o){let s=sF(o,100);r=kp("code",{className:"json-cell",children:kp("span",{children:s})}),e[0]=o,e[1]=r}else r=e[1];return r}catch{let s;return e[2]!==n?(s=kp("code",{className:"json-cell",children:kp("span",{children:n("general:error")})}),e[2]=n,e[3]=s):s=e[3],s}};import{c as l8}from"react/compiler-runtime";import{jsx as c8,jsxs as lF}from"react/jsx-runtime";import{getTranslation as u8}from"@payloadcms/translations";import d8,{useEffect as cF,useState as uF}from"react";var aF=!!(typeof window<"u"&&window.document&&window.document.createElement);var m8="relationship-cell",jp=3,$p=t=>{let e=l8(39),{cellData:o,customCellProps:n,field:r,field:s}=t,{label:i}=s,a="relationTo"in r&&r.relationTo||"collection"in r&&r.collection,l="collection"in r?o?.docs:o,{config:c,getEntityConfig:u}=H(),{collections:d}=c,[f,m]=ji(),p;e[0]===Symbol.for("react.memo_cache_sentinel")?(p=[],e[0]=p):p=e[0];let[h,g]=uF(p),{documents:b,getRelationships:C}=zv(),[y,v]=uF(!1),{i18n:x,t:_}=P(),w=aF?m?.boundingClientRect?.top<window.innerHeight:!1,T;e[1]!==l||e[2]!==C||e[3]!==y||e[4]!==w||e[5]!==a?(T=()=>{if((l||typeof l=="number")&&w&&!y){let F=[],A=Array.isArray(l)?l:[l];A.slice(0,A.length<jp?A.length:jp).forEach(k=>{typeof k=="object"&&"relationTo"in k&&"value"in k&&F.push(k),(typeof k=="number"||typeof k=="string")&&typeof a=="string"&&F.push({relationTo:a,value:k})}),C(F),v(!0),g(F)}},e[1]=l,e[2]=C,e[3]=y,e[4]=w,e[5]=a,e[6]=T):T=e[6];let S;e[7]!==l||e[8]!==d||e[9]!==C||e[10]!==y||e[11]!==w||e[12]!==a?(S=[l,a,d,w,y,C],e[7]=l,e[8]=d,e[9]=C,e[10]=y,e[11]=w,e[12]=a,e[13]=S):S=e[13],cF(T,S);let R;e[14]!==y?(R=()=>{y&&v(!1)},e[14]=y,e[15]=R):R=e[15];let D;e[16]!==l?(D=[l],e[16]=l,e[17]=D):D=e[17],cF(R,D);let I;if(e[18]!==l||e[19]!==c.admin||e[20]!==n||e[21]!==b||e[22]!==r||e[23]!==u||e[24]!==x||e[25]!==f||e[26]!==i||e[27]!==_||e[28]!==h){let F;e[30]!==c.admin||e[31]!==n||e[32]!==b||e[33]!==r||e[34]!==u||e[35]!==x||e[36]!==_||e[37]!==h.length?(F=(A,k)=>{let{relationTo:L,value:N}=A,B=b[L][N],j=u({collectionSlug:L}),E=Zo({collectionConfig:j,data:B||null,dateFormat:c.admin.dateFormat,fallback:`${_("general:untitled")} - ID: ${N}`,i18n:x}),$=null;return r.type==="upload"&&(("displayPreview"in r?r.displayPreview:void 0)??j.upload?.displayPreview??!0)&&B&&($=c8(Lp,{cellData:E,collectionConfig:j,collectionSlug:j.slug,customCellProps:n,field:r,rowData:B})),lF(d8.Fragment,{children:[B===!1&&`${_("general:untitled")} - ID: ${N}`,B===null&&`${_("general:loading")}...`,B?$||E:null,h.length>k+1&&", "]},k)},e[30]=c.admin,e[31]=n,e[32]=b,e[33]=r,e[34]=u,e[35]=x,e[36]=_,e[37]=h.length,e[38]=F):F=e[38],I=lF("div",{className:m8,ref:f,children:[h.map(F),Array.isArray(l)&&l.length>jp&&_("fields:itemsAndMore",{count:l.length-jp,items:""}),h.length===0&&_("general:noLabel",{label:u8(i||"",x)})]}),e[18]=l,e[19]=c.admin,e[20]=n,e[21]=b,e[22]=r,e[23]=u,e[24]=x,e[25]=f,e[26]=i,e[27]=_,e[28]=h,e[29]=I}else I=e[29];return I};import{c as f8}from"react/compiler-runtime";import{jsx as p8}from"react/jsx-runtime";import{getTranslation as h8}from"@payloadcms/translations";import{optionsAreObjects as g8}from"payload/shared";import"react";var Zv=t=>{let e=f8(7),{cellData:o,field:n}=t,{options:r}=n,{i18n:s}=P(),i;e[0]!==s||e[1]!==r?(i=c=>c.map(u=>{let d=r.filter(f=>f.value===u)?.[0]?.label;return h8(d,s)}).join(", "),e[0]=s,e[1]=r,e[2]=i):i=e[2];let a=i,l;if(e[3]!==o||e[4]!==a||e[5]!==r){let c;g8(r)?c=Array.isArray(o)?a(o):a([o]):c=Array.isArray(o)?o.join(", "):o,l=p8("span",{children:c}),e[3]=o,e[4]=a,e[5]=r,e[6]=l}else l=e[6];return l};import{jsx as b8}from"react/jsx-runtime";import"react";var dF=({cellData:t})=>{let e=t?.length>100?`${t.substring(0,100)}\u2026`:t;return b8("span",{children:e})};var Yv={array:qT,blocks:QT,checkbox:eF,code:Dp,date:Hv,File:Lp,join:$p,json:iF,radio:Zv,relationship:$p,select:Zv,textarea:dF,upload:$p};var Gu=t=>{let e=v8(16),{cellData:o,className:n,collectionSlug:r,field:s,field:i,link:a,linkURL:l,onClick:c,rowData:u,viewType:d}=t,{admin:f}=i,{i18n:m}=P(),{config:p,getEntityConfig:h}=H(),{routes:g}=p,{admin:b}=g,C,y;if(e[0]!==f||e[1]!==b||e[2]!==o||e[3]!==n||e[4]!==r||e[5]!==s||e[6]!==h||e[7]!==m||e[8]!==a||e[9]!==l||e[10]!==c||e[11]!==t||e[12]!==u||e[13]!==d){y=Symbol.for("react.early_return_sentinel");e:{let v=h({collectionSlug:r}),x=f&&"className"in f?f.className:void 0,_=n||(s.admin&&"className"in s.admin?s.admin.className:null)||x,w=c,T="span",S={className:_};if(a&&(S.prefetch=!1,T=Jt,l?S.href=l:S.href=v?.slug?Fp({adminRoute:b,path:`/collections/${v?.slug}${d==="trash"?"/trash":""}/${encodeURIComponent(u.id)}`}):""),typeof w=="function"&&(T="button",S.type="button",S.onClick=()=>{w({cellData:o,collectionSlug:v?.slug,rowData:u})}),w8(s)){y=jl(T,{...S,children:jl(Dp,{cellData:`ID: ${o}`,collectionConfig:v,collectionSlug:r,field:{...s,type:"code"},nowrap:!0,rowData:u})});break e}let R=ZT(o,s,m),D=typeof o<"u"&&Yv[s.type],I=null;if(Rp(R))I=R;else if(D)I=jl(D,{cellData:o,rowData:u,...t});else if(!D)if(v?.upload&&x8(s)&&s.name==="filename"&&s.type==="text"){let F=Yv.File;I=jl(F,{cellData:o,rowData:u,...t,collectionConfig:v,field:s})}else{y=y8(T,{...S,children:[(R===""||typeof R>"u"||R===null)&&m.t("general:noLabel",{label:C8(("label"in s?s.label:null)||"data",m)}),typeof R=="string"&&R,typeof R=="number"&&R,typeof R=="object"&&R!==null&&JSON.stringify(R)]});break e}if((s.type==="select"||s.type==="radio")&&s.options.length&&o){let F=Array.isArray(o)?o.map(S8).join(" "):`selected--${o}`,A=[S.className,F].filter(Boolean).join(" ");y=jl(T,{...S,className:A,children:I});break e}C=jl(T,{...S,children:I})}e[0]=f,e[1]=b,e[2]=o,e[3]=n,e[4]=r,e[5]=s,e[6]=h,e[7]=m,e[8]=a,e[9]=l,e[10]=c,e[11]=t,e[12]=u,e[13]=d,e[14]=C,e[15]=y}else C=e[14],y=e[15];return y!==Symbol.for("react.early_return_sentinel")?y:C};function S8(t){return`selected--${t}`}var _8="default-cell",pF=fF.createContext(null),Jv=()=>fF.use(pF),T8=t=>{let e=I8(9),{clientProps:o,columnIndex:n,isLinkedColumn:r}=t,{drawerSlug:s,onSelect:i}=Fr(),{LinkedCellOverride:a}=El(),l;if(e[0]!==a||e[1]!==o||e[2]!==n||e[3]!==s||e[4]!==r||e[5]!==i){let c={...o,columnIndex:n};if(r&&s){c.className=`${_8}__first-cell`,c.link=!1;let u;e[7]!==i?(u=d=>{let{collectionSlug:f,rowData:m}=d;typeof i=="function"&&i({collectionSlug:f,doc:m,docID:m.id})},e[7]=i,e[8]=u):u=e[8],c.onClick=u}l=mF(pF,{value:c,children:r&&a?a:mF(Gu,{...c})}),e[0]=a,e[1]=o,e[2]=n,e[3]=s,e[4]=r,e[5]=i,e[6]=l}else l=e[6];return l};var hF=t=>{let e=F8(3),{onDrawerOpen:o}=t,n=Jv(),r;return e[0]!==n||e[1]!==o?(r=R8("div",{className:"drawer-link",children:[qv(Gu,{...n,className:"drawer-link__cell",link:!1,onClick:null}),qv("button",{className:"drawer-link__doc-drawer-toggler",onClick:()=>{o(n.rowData.id)},type:"button",children:qv(Cr,{})})]}),e[0]=n,e[1]=o,e[2]=r):r=e[2],r};import{c as N8}from"react/compiler-runtime";import{jsx as L8}from"react/jsx-runtime";import"react";import{jsx as e0}from"react/jsx-runtime";import"react";import{jsx as gF}from"react/jsx-runtime";import"react";var Qv="clickable-arrow",bF=t=>{let{direction:e="right",isDisabled:o=!1,updatePage:n}=t,r=[Qv,o&&`${Qv}--is-disabled`,e&&`${Qv}--${e}`].filter(Boolean).join(" ");return gF("button",{className:r,disabled:o,onClick:o?void 0:n,type:"button",children:gF(He,{})})};import{jsx as D8}from"react/jsx-runtime";import"react";var Bp="paginator__page",Kv=({isCurrent:t,isFirstPage:e=!1,isLastPage:o=!1,page:n=1,updatePage:r})=>{let s=[Bp,t&&`${Bp}--is-current`,e&&`${Bp}--is-first-page`,o&&`${Bp}--is-last-page`].filter(Boolean).join(" ");return D8("button",{className:s,onClick:()=>r(n),type:"button",children:n})};import{jsx as A8}from"react/jsx-runtime";import"react";var vF=()=>A8("span",{className:"paginator__separator",children:"\u2014"});var P8={ClickableArrow:bF,Page:Kv,Separator:vF},E8="paginator",zu=t=>{let{hasNextPage:e=!1,hasPrevPage:o=!1,nextPage:n=null,numberOfNeighbors:r=1,onChange:s,page:i,prevPage:a=null,totalPages:l=null}=t;if(!o&&!e)return null;let c=p=>{typeof s=="function"&&s(p)},u=Array.from({length:l},(p,h)=>h+1),d=i-1-r;d<=0&&(d=0);let f=i-1+r+1,m=u.slice(d,f);return i-r-1>=2&&m.unshift({type:"Separator"}),i>r+1&&m.unshift({type:"Page",props:{isFirstPage:!0,page:1,updatePage:c}}),i+r+1<l&&m.push({type:"Separator"}),f<l&&m.push({type:"Page",props:{isLastPage:!0,page:l,updatePage:c}}),m.unshift({type:"ClickableArrow",props:{direction:"right",isDisabled:!e,updatePage:()=>c(n??i+1)}}),m.unshift({type:"ClickableArrow",props:{direction:"left",isDisabled:!o,updatePage:()=>c(a??Math.max(1,i-1))}}),e0("div",{className:E8,children:m.map((p,h)=>{if(typeof p=="number")return e0(Kv,{isCurrent:i===p,page:p,updatePage:c},h);let g=P8[p.type];return e0(g,{...p.props},h)})})};var yF=()=>{let t=N8(11),{data:e,handlePageChange:o}=lt(),n=e.nextPage||2,r;t[0]!==o?(r=l=>{o(l)},t[0]=o,t[1]=r):r=t[1];let s=e.page||1,i=e.prevPage||void 0,a;return t[2]!==e.hasNextPage||t[3]!==e.hasPrevPage||t[4]!==e.limit||t[5]!==e.totalPages||t[6]!==n||t[7]!==r||t[8]!==s||t[9]!==i?(a=L8(zu,{hasNextPage:e.hasNextPage,hasPrevPage:e.hasPrevPage,limit:e.limit,nextPage:n,numberOfNeighbors:1,onChange:r,page:s,prevPage:i,totalPages:e.totalPages}),t[2]=e.hasNextPage,t[3]=e.hasPrevPage,t[4]=e.limit,t[5]=e.totalPages,t[6]=n,t[7]=r,t[8]=s,t[9]=i,t[10]=a):a=t[10],a};var Pr="relationship-table",t0=t=>{let{AfterInput:e,allowCreate:o=!0,BeforeInput:n,disableTable:r=!1,field:s,fieldPath:i,filterOptions:a,initialData:l,initialDrawerData:c,Label:u,parent:d,relationTo:f}=t,[m,p]=ws(null),{config:h,getEntityConfig:g}=H(),{i18n:b,t:C}=P(),[y,v]=ws(),[x,_]=ws(!1),[w]=ws(()=>g({collectionSlug:f})),T=Array.isArray(f),[S,R]=ws(T?void 0:f),{permissions:D}=Se(),I=B8(!1),[F,A]=ws(void 0),[k,,{closeDrawer:L,isDrawerOpen:N,openDrawer:B}]=Lt({id:F,collectionSlug:S}),[j,E]=ws(!r),[$,M]=ws(()=>l?{...l,docs:Array.isArray(l.docs)?l.docs.reduce((ne,Q)=>typeof Q=="string"||typeof Q=="number"?[...ne,{id:Q}]:[...ne,Q],[]):[]}:void 0),[O,G]=ws(),{getTableState:W}=Pt(),U=Mp(async ne=>{let Q={limit:s?.defaultLimit||w?.admin?.pagination?.defaultLimit,sort:s.defaultSort||w?.defaultSort,...y||{},where:{...y?.where||{}}};a&&(Q.where=k8(Q.where,a));let de=s.admin.defaultColumns?s.admin.defaultColumns.map(Ne=>({accessor:Ne,active:!0})):void 0,ve=typeof s.admin.disableRowTypes=="boolean"?!s.admin.disableRowTypes:Array.isArray(f),{data:fe,state:$e,Table:Me}=await W({collectionSlug:f,columns:xF(y?.columns)||de,data:ne,enableRowSelections:!1,orderableFieldName:!s.orderable||Array.isArray(s.collection)?void 0:`_${s.collection}_${s.name}_order`,parent:d,query:Q,renderRowTypes:ve,tableAppearance:"condensed"});M(fe),p(Me),G($e),E(!1)},[s.defaultLimit,s.defaultSort,s.admin.defaultColumns,s.admin.disableRowTypes,s.collection,s.name,s.orderable,w?.admin?.pagination?.defaultLimit,w?.defaultSort,y,a,W,f,d]),z=Je((ne,Q)=>{!Q&&(!m||ne)&&U()});Wu(()=>{z(y,r)},[y,r]);let J=Mp(({doc:ne,operation:Q})=>{Q==="create"&&L();let de=$?.docs?.findIndex(fe=>fe.id===ne.id),ve={docs:[]};if(de!==-1){let fe=[...$.docs];fe[de]=ne,ve.docs=fe}else ve.docs=[ne,...$.docs];U(ve)},[$?.docs,U,L]),Z=Mp(ne=>{let Q=$.docs.filter(de=>de.id!==ne.id);U({...$,docs:Q}),A(void 0)},[$,U]),X=Mp(ne=>{I.current=!0,A(ne||void 0)},[]);Wu(()=>{I.current&&(I.current=!1,B())},[B]),Wu(()=>{N||A(void 0)},[N]);let ae=o!==!1&&D?.collections?.[T?f[0]:f]?.create;Wu(()=>{T&&S&&B()},[S,B,T]),Wu(()=>{T&&!N&&S&&R(void 0)},[N]);let Y=j8.useMemo(()=>({columns:xF(O)?.map(({accessor:ne})=>ne),limit:s.defaultLimit??w?.admin?.pagination?.defaultLimit,sort:s.defaultSort??w?.defaultSort}),[O,s,w]);return $l("div",{className:Pr,children:[$l("div",{className:`${Pr}__header`,children:[u,$l("div",{className:`${Pr}__actions`,children:[ur(Wv,{allowCreate:o!==!1,baseClass:Pr,buttonStyle:"none",className:`${Pr}__add-new${T?"-polymorphic":" doc-drawer__toggler"}`,collections:h.collections,i18n:b,icon:T?"plus":void 0,label:b.t("fields:addNew"),onClick:T?R:B,permissions:D,relationTo:f}),ur(tt,{"aria-controls":`${Pr}-columns`,"aria-expanded":x,className:`${Pr}__toggle-columns ${x?`${Pr}__buttons-active`:""}`,icon:ur(He,{direction:x?"up":"down"}),onClick:()=>_(!x),pillStyle:"light",size:"small",children:C("general:columns")})]})]}),n,j?ur("p",{children:C("general:loading")}):$l($8,{children:[$?.docs&&$.docs.length===0&&$l("div",{className:`${Pr}__no-results`,children:[ur("p",{children:b.t("general:noResults",{label:T?b.t("general:documents"):CF(w?.labels?.plural,b)})}),ur(Wv,{allowCreate:ae,baseClass:Pr,collections:h.collections,i18n:b,label:b.t("general:createNewLabel",{label:T?b.t("general:document"):CF(w?.labels?.singular,b)}),onClick:T?R:B,permissions:D,relationTo:f})]}),$?.docs&&$.docs.length>0&&ur(Vu,{children:ur(Pv,{data:$,modifySearchParams:!1,onQueryChange:v,orderableFieldName:!s.orderable||Array.isArray(s.collection)?void 0:`_${s.collection}_${i.replaceAll(".","_")}_order`,query:Y,children:$l($u,{collectionSlug:T?f[0]:f,columnState:O,LinkedCellOverride:ur(hF,{currentDrawerID:F,onDrawerOpen:X}),children:[ur(_r,{className:`${Pr}__columns`,height:x?"auto":0,id:`${Pr}-columns`,children:ur("div",{className:`${Pr}__columns-inner`,children:w&&ur(Sp,{collectionSlug:w.slug})})}),m,ur(yF,{})]})})})]}),e,ur(k,{initialData:c,onDelete:Z,onSave:J})]})};var SF="default"in Op.default?Op.default.default:Op.default,Vp=({collectionSlug:t,config:e,docID:o,fields:n,segments:r})=>{let s=V8(n,{keepPresentationalFields:!0}),i=r[0],a=s.find(c=>c.name===i);if(!a)return null;if(a.type==="relationship"||a.type==="upload"){let c=o;return Array.isArray(a.relationTo)&&(c={relationTo:t,value:o}),{[a.name]:a.hasMany?[c]:c}}let l=r.slice(1,r.length);if(a.type==="tab"||a.type==="group"&&O8(a))return{[a.name]:Vp({collectionSlug:t,config:e,docID:o,fields:a.fields,segments:l})};if(a.type==="array"){let c=Vp({collectionSlug:t,config:e,docID:o,fields:a.fields,segments:l});return c.id=SF().toHexString(),{[a.name]:[c]}}if(a.type==="blocks")for(let c of a.blockReferences??a.blocks){let u=typeof c=="string"?e.blocksMap[c]:c,d=Vp({collectionSlug:t,config:e,docID:o,fields:u.fields,segments:l});if(d)return d.id=SF().toHexString(),d.blockType=u.slug,{[a.name]:[d]}}},G8=t=>{let{field:e,field:{admin:{allowCreate:o,description:n},collection:r,label:s,localized:i,on:a,required:l},path:c}=t,{id:u,docConfig:d}=Te(),{config:f,getEntityConfig:m}=H(),{customComponents:{AfterInput:p,BeforeInput:h,Description:g,Error:b,Label:C}={},path:y,showError:v,value:x}=Fe({potentiallyStalePath:c}),_=wF(()=>{if(!u)return null;let T=u;Array.isArray(e.targetField.relationTo)&&(T={relationTo:d.slug,value:T});let S=Array.isArray(r)?{}:{[a]:{equals:T}};return e.where?{and:[S,e.where]}:S},[u,r,e.targetField.relationTo,e.where,a,d?.slug]),w=wF(()=>{let T=m({collectionSlug:Array.isArray(e.collection)?e.collection[0]:e.collection});return Vp({collectionSlug:d?.slug,config:f,docID:u,fields:T?.fields,segments:e.on.split(".")})},[m,e.collection,e.on,d?.slug,u,f]);return d?M8("div",{className:[Ae,v&&"error","join"].filter(Boolean).join(" "),id:`field-${y?.replace(/\./g,"__")}`,children:[ca(ue,{CustomComponent:b,Fallback:ca(Ze,{path:y,showError:v})}),ca(t0,{AfterInput:p,allowCreate:typeof u<"u"&&o,BeforeInput:h,disableTable:_===null,field:e,fieldPath:y,filterOptions:_,initialData:u&&x?x:{docs:[]},initialDrawerData:w,Label:ca("h4",{style:{margin:0},children:C||ca(_e,{label:s,localized:i,path:y,required:l})}),parent:Array.isArray(r)?{id:u,collectionSlug:d.slug,joinPath:y}:void 0,relationTo:r}),ca(ue,{CustomComponent:g,Fallback:ca(Ue,{description:n,path:y})})]}):null},Hu=ze(G8);import{jsx as ua,jsxs as IF}from"react/jsx-runtime";import _F,{useCallback as Gp,useEffect as z8,useMemo as W8,useState as TF}from"react";var H8="json-field",U8=t=>{let{field:e,field:{admin:{className:o,description:n,editorOptions:r,maxHeight:s}={},jsonSchema:i,label:a,localized:l,required:c},path:u,readOnly:d,validate:f}=t,{insertSpaces:m=eb.insertSpaces,tabSize:p=eb.tabSize}=r||{},h=Gp($=>{if($!==void 0)return $===null?"":m?JSON.stringify($,null,p):JSON.stringify($,null,"	")},[p,m]),[g,b]=TF(),C=_F.useRef("formState"),[y,v]=TF(Date.now()),x=Gp(($,M)=>{if(typeof f=="function")return f($,{...M,jsonError:g,required:c})},[f,c,g]),{customComponents:{AfterInput:_,BeforeInput:w,Description:T,Error:S,Label:R}={},disabled:D,initialValue:I,path:F,setValue:A,showError:k,value:L}=Fe({potentiallyStalePath:u,validate:x}),N=_F.useRef(h(L??I)),B=Gp(($,M)=>{if(!i)return;M.languages.json.jsonDefaults.setDiagnosticsOptions({enableSchemaRequest:!0,schemas:[...M.languages.json.jsonDefaults.diagnosticsOptions.schemas||[],i],validate:!0});let O=i.uri,G=O.includes("?")?`${O}&${crypto.randomUUID?crypto.randomUUID():gn()}`:`${O}?${crypto.randomUUID?crypto.randomUUID():gn()}`;$.setModel(M.editor.createModel(h(L)||"","json",M.Uri.parse(G)))},[i,h,L]),j=Gp($=>{if(!(d||D)){C.current="internalEditor";try{A($?JSON.parse($):null),N.current=$,b(void 0)}catch(M){A($||null),N.current=$,b(M)}}},[d,D,A]);z8(()=>{if(C.current==="formState"){let $=h(L??I);$!==N.current&&(N.current=$,v(Date.now()))}C.current="formState"},[I,F,h,L]);let E=W8(()=>Qe(e),[e]);return IF("div",{className:[Ae,H8,o,k&&"error",(d||D)&&"read-only"].filter(Boolean).join(" "),style:E,children:[ua(ue,{CustomComponent:R,Fallback:ua(_e,{label:a,localized:l,path:F,required:c})}),IF("div",{className:`${Ae}__wrap`,children:[ua(ue,{CustomComponent:S,Fallback:ua(Ze,{message:g,path:F,showError:k})}),w,ua(fu,{defaultLanguage:"json",maxHeight:s,onChange:j,onMount:B,options:r,readOnly:d||D,recalculatedHeightAt:y,value:N.current,wrapperProps:{id:`field-${F?.replace(/\./g,"__")}`}}),_]}),ua(ue,{CustomComponent:T,Fallback:ua(Ue,{description:n,path:F})})]})},Uu=ze(U8);import{jsx as Ss,jsxs as FF}from"react/jsx-runtime";import{getTranslation as X8}from"@payloadcms/translations";import{isNumber as Z8}from"payload/shared";import{useCallback as o0,useEffect as Y8,useMemo as J8,useState as q8}from"react";var Q8=t=>{let{field:e,field:{admin:{className:o,description:n,placeholder:r,step:s=1}={},hasMany:i=!1,label:a,localized:l,max:c=1/0,maxRows:u=1/0,min:d=-1/0,required:f},onChange:m,path:p,readOnly:h,validate:g}=t,{i18n:b,t:C}=P(),y=o0((E,$)=>{if(typeof g=="function")return g(E,{...$,max:c,min:d,required:f})},[g,d,c,f]),{customComponents:{AfterInput:v,BeforeInput:x,Description:_,Error:w,Label:T}={},disabled:S,path:R,setValue:D,showError:I,value:F}=Fe({potentiallyStalePath:p,validate:y}),A=o0(E=>{let $=parseFloat(E.target.value),M=$;Number.isNaN($)&&(M=null),typeof m=="function"&&m(M),D(M)},[m,D]),[k,L]=q8([]),N=o0(E=>{if(!(h||S)){let $;E?Array.isArray(E)?$=E.map(M=>Number(M.value?.value||M.value)):$=[Number(E.value?.value||E.value)]:$=[],D($)}},[h,S,D]);Y8(()=>{i&&Array.isArray(F)&&L(F.map((E,$)=>({id:`${E}${$}`,label:`${E}`,value:{toString:()=>`${E}${$}`,value:E?.value||E}})))},[F,i]);let B=J8(()=>Qe(e),[e]),j=X8(r,b);return FF("div",{className:[Ae,"number",o,I&&"error",(h||S)&&"read-only",i&&"has-many"].filter(Boolean).join(" "),style:B,children:[Ss(ue,{CustomComponent:T,Fallback:Ss(_e,{label:a,localized:l,path:R,required:f})}),FF("div",{className:`${Ae}__wrap`,children:[Ss(ue,{CustomComponent:w,Fallback:Ss(Ze,{path:R,showError:I})}),x,i?Ss(gt,{className:`field-${R.replace(/\./g,"__")}`,disabled:h||S,filterOption:(E,$)=>{let M=Array.isArray(F)&&F.length>=u;return Z8($)&&!M},isClearable:!0,isCreatable:!0,isMulti:!0,isSortable:!0,noOptionsMessage:()=>Array.isArray(F)&&F.length>=u?C("validation:limitReached",{max:u,value:F.length+1}):null,onChange:N,options:[],placeholder:j,showError:I,value:k}):Ss("div",{children:Ss("input",{disabled:h||S,id:`field-${R.replace(/\./g,"__")}`,max:c,min:d,name:R,onChange:A,onWheel:E=>{E.target.blur()},placeholder:j,step:s,type:"number",value:typeof F=="number"?F:""})}),v,Ss(ue,{CustomComponent:_,Fallback:Ss(Ue,{description:n,path:R})})]})]})},Xu=ze(Q8);import{jsx as Mn,jsxs as Bl}from"react/jsx-runtime";import{getTranslation as r0}from"@payloadcms/translations";import{useCallback as RF,useMemo as K8}from"react";var DF="point",eV=t=>{let{field:e,field:{admin:{className:o,description:n,placeholder:r,step:s}={},label:i,localized:a,required:l},path:c,readOnly:u,validate:d}=t,{i18n:f,t:m}=P(),p=RF((I,F)=>{if(typeof d=="function")return d(I,{...F,required:l})},[d,l]),{customComponents:{AfterInput:h,BeforeInput:g,Description:b,Error:C,Label:y}={},disabled:v,path:x,setValue:_,showError:w,value:T=[null,null]}=Fe({potentiallyStalePath:c,validate:p}),S=RF((I,F)=>{let A=parseFloat(I.target.value);Number.isNaN(A)&&(A=I.target.value);let k=[...T];k[F]=A,_(k)},[_,T]),R=I=>{let F=m(I==="longitude"?"fields:longitude":"fields:latitude"),A=i?r0(i,f):"";return`${A}${A?" - ":""}${F}`},D=K8(()=>Qe(e),[e]);return Bl("div",{className:[Ae,DF,o,w&&"error",(u||v)&&"read-only"].filter(Boolean).join(" "),style:D,children:[Bl("ul",{className:`${DF}__wrap`,children:[Bl("li",{children:[Mn(ue,{CustomComponent:y,Fallback:Mn(_e,{label:R("longitude"),localized:a,path:x,required:l})}),Bl("div",{className:"input-wrapper",children:[g,Mn("input",{disabled:u||v,id:`field-longitude-${x?.replace(/\./g,"__")}`,name:`${x}.longitude`,onChange:I=>S(I,0),placeholder:r0(r,f),step:s,type:"number",value:T&&typeof T[0]=="number"?T[0]:""}),h]})]}),Bl("li",{children:[Mn(ue,{CustomComponent:y,Fallback:Mn(_e,{label:R("latitude"),localized:a,path:x,required:l})}),Bl("div",{className:"input-wrapper",children:[Mn(ue,{CustomComponent:C,Fallback:Mn(Ze,{path:x,showError:w})}),g,Mn("input",{disabled:u||v,id:`field-latitude-${x?.replace(/\./g,"__")}`,name:`${x}.latitude`,onChange:I=>S(I,1),placeholder:r0(r,f),step:s,type:"number",value:T&&typeof T[1]=="number"?T[1]:""}),h]})]})]}),Mn(ue,{CustomComponent:b,Fallback:Mn(Ue,{description:n,path:x})})]})},Zu=ze(eV);import{jsx as Is,jsxs as AF}from"react/jsx-runtime";import{optionIsObject as PF}from"payload/shared";import{useCallback as nV,useMemo as sV}from"react";import{c as tV}from"react/compiler-runtime";import{jsx as zp,jsxs as oV}from"react/jsx-runtime";import{getTranslation as rV}from"@payloadcms/translations";import"react";var Yu="radio-input",Ju=t=>{let e=tV(16),{isSelected:o,onChange:n,option:r,path:s,readOnly:i,uuid:a}=t,{i18n:l}=P(),c=dt(),u=`field-${s}-${r.value}${c>1?`-${c}`:""}${a?`-${a}`:""}`,d=o&&`${Yu}--is-selected`,f;e[0]!==d?(f=[Yu,d].filter(Boolean),e[0]=d,e[1]=f):f=e[1];let m=f.join(" "),p;e[2]!==n||e[3]!==r.value?(p=()=>typeof n=="function"?n(r.value):null,e[2]=n,e[3]=r.value,e[4]=p):p=e[4];let h;if(e[5]!==l||e[6]!==u||e[7]!==o||e[8]!==r.label||e[9]!==s||e[10]!==i||e[11]!==m||e[12]!==p){let g=zp("input",{checked:o,disabled:i,id:u,name:s,onChange:p,type:"radio"}),b=i&&`${Yu}__styled-radio--disabled`,C;e[14]!==b?(C=[`${Yu}__styled-radio`,b].filter(Boolean),e[14]=b,e[15]=C):C=e[15],h=zp("label",{htmlFor:u,children:oV("div",{className:m,children:[g,zp("span",{className:C.join(" ")}),zp("span",{className:`${Yu}__label`,children:rV(r.label,l)})]})}),e[5]=l,e[6]=u,e[7]=o,e[8]=r.label,e[9]=s,e[10]=i,e[11]=m,e[12]=p,e[13]=h}else h=e[13];return h};var Wp="radio-group",iV=t=>{let{disableModifyingForm:e,field:o,field:{admin:{className:n,description:r,layout:s="horizontal"}={},label:i,localized:a,options:l=[],required:c}={},onChange:u,path:d,readOnly:f,validate:m,value:p}=t,{uuid:h}=Oe(),g=nV((F,A)=>{if(typeof m=="function")return m(F,{...A,options:l,required:c})},[m,l,c]),{customComponents:{AfterInput:b,BeforeInput:C,Description:y,Error:v,Label:x}={},disabled:_,path:w,setValue:T,showError:S,value:R}=Fe({potentiallyStalePath:d,validate:g}),D=R||p,I=sV(()=>Qe(o),[o]);return AF("div",{className:[Ae,Wp,n,`${Wp}--layout-${s}`,S&&"error",(f||_)&&`${Wp}--read-only`].filter(Boolean).join(" "),style:I,children:[Is(ue,{CustomComponent:v,Fallback:Is(Ze,{path:w,showError:S})}),Is(ue,{CustomComponent:x,Fallback:Is(_e,{label:i,localized:a,path:w,required:c})}),AF("div",{className:`${Ae}__wrap`,children:[C,Is("ul",{className:`${Wp}--group`,id:`field-${w.replace(/\./g,"__")}`,children:l.map(F=>{let A="";PF(F)?A=F.value:A=F;let k=String(A)===String(D),L=`field-${w}-${A}${h?`-${h}`:""}`;return Is("li",{children:Is(Ju,{id:L,isSelected:k,onChange:()=>{typeof u=="function"&&u(A),f||_||T(A,!!e)},option:PF(F)?F:{label:F,value:F},path:w,readOnly:f||_,uuid:h})},`${w} - ${A}`)})}),b,Is(ue,{CustomComponent:y,Fallback:Is(Ue,{description:r,path:w})})]})]})},qu=ze(iV);import{jsx as GV}from"react/jsx-runtime";import p0,{useCallback as h0,useMemo as zV}from"react";import{jsx as In,jsxs as u0}from"react/jsx-runtime";import{dequal as BV}from"dequal/lite";import{formatAdminURL as d0,wordBoundariesRegex as MV}from"payload/shared";import*as m0 from"qs-esm";import{useCallback as fa,useEffect as zl,useMemo as OV,useReducer as VV,useRef as td,useState as ii}from"react";import{c as aV}from"react/compiler-runtime";import{jsx as On,jsxs as Hp}from"react/jsx-runtime";import{getTranslation as EF}from"@payloadcms/translations";import{hasAutosaveEnabled as lV}from"payload/shared";import{Fragment as n0,useEffect as Up,useState as Qu}from"react";var Ml="relationship-add-new",NF=t=>{let e=aV(46),{Button:o,hasMany:n,onChange:r,path:s,relationTo:i,unstyled:a,value:l}=t,c=Ip(i),{permissions:u}=Se(),[d,f]=Qu(!1),[m,p]=Qu(),h=c.length>1,g;e[0]!==c[0]||e[1]!==h?(g=()=>h?void 0:c[0],e[0]=c[0],e[1]=h,e[2]=g):g=e[2];let[b,C]=Qu(g),[y,v]=Qu(!1),{i18n:x,t:_}=P(),[w,T]=Qu(!1),S=b?.slug,R;e[3]!==S?(R={collectionSlug:S},e[3]=S,e[4]=R):R=e[4];let[D,I,F]=Lt(R),{isDrawerOpen:A,toggleDrawer:k}=F,L;e[5]!==b||e[6]!==n||e[7]!==r||e[8]!==l?(L=ae=>{let{doc:Y,operation:ne}=ae;if(ne==="create"||ne==="update"&&lV(b)){let Q;l?Q=Array.isArray(l)?!l.some(de=>de&&de.value===Y.id):l.value!==Y.id:Q=!0,Q&&r(n===!0?[...Array.isArray(l)?l:[],{relationTo:b?.slug,value:Y.id}]:{relationTo:b?.slug,value:Y.id}),p(void 0)}},e[5]=b,e[6]=n,e[7]=r,e[8]=l,e[9]=L):L=e[9];let N=L,B;e[10]===Symbol.for("react.memo_cache_sentinel")?(B=ae=>{v(ae)},e[10]=B):B=e[10];let j=B,E,$;e[11]!==u||e[12]!==c?(E=()=>{u&&(c.length===1?f(u.collections[c[0]?.slug]?.create):f(c.some(ae=>u.collections[ae?.slug]?.create)))},$=[u,c],e[11]=u,e[12]=c,e[13]=E,e[14]=$):(E=e[13],$=e[14]),Up(E,$);let M,O;e[15]!==c||e[16]!==h||e[17]!==m?(O=()=>{h&&m&&C(c.find(ae=>ae?.slug===m))},M=[m,h,c],e[15]=c,e[16]=h,e[17]=m,e[18]=M,e[19]=O):(M=e[18],O=e[19]),Up(O,M);let G,W;e[20]!==b||e[21]!==h||e[22]!==k?(G=()=>{h&&b&&(k(),p(void 0))},W=[k,h,b],e[20]=b,e[21]=h,e[22]=k,e[23]=G,e[24]=W):(G=e[23],W=e[24]),Up(G,W);let U,z;e[25]!==A||e[26]!==h?(U=()=>{h&&!A&&C(void 0)},z=[A,h],e[25]=A,e[26]=h,e[27]=U,e[28]=z):(U=e[27],z=e[28]),Up(U,z);let J=c[0]?.labels.singular,Z,X;if(e[29]!==o||e[30]!==D||e[31]!==I||e[32]!==b||e[33]!==x||e[34]!==N||e[35]!==s||e[36]!==u||e[37]!==y||e[38]!==c||e[39]!==d||e[40]!==w||e[41]!==_||e[42]!==J||e[43]!==a){X=Symbol.for("react.early_return_sentinel");e:{let ae=_("fields:addNewLabel",{label:EF(J,x)});if(!d){X=null;break e}Z=Hp("div",{className:Ml,id:`${s}-add-new`,children:[c.length===1&&Hp(n0,{children:[On(I,{className:[`${Ml}__add-button`,a&&`${Ml}__add-button--unstyled`].filter(Boolean).join(" "),onClick:()=>{T(!1)},onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),children:o||Hp(n0,{children:[On(Po,{className:`${Ml}__tooltip`,show:w,children:ae}),On(ar,{})]})}),On(D,{onSave:N})]}),c.length>1&&Hp(n0,{children:[On(st,{button:o||On(K,{buttonStyle:"none",className:`${Ml}__add-button`,tooltip:y?void 0:_("fields:addNew"),children:On(ar,{})}),buttonType:"custom",horizontalAlign:"center",onToggleOpen:j,render:Y=>{let{close:ne}=Y;return On(Ib,{children:c.map(Q=>u.collections[Q?.slug]?.create?On(_b,{className:`${Ml}__relation-button--${Q?.slug}`,onClick:()=>{ne(),p(Q?.slug)},children:EF(Q?.labels?.singular,x)},Q?.slug):null)})},size:"medium"}),b&&u.collections[b?.slug]?.create&&On(D,{onSave:N})]})]})}e[29]=o,e[30]=D,e[31]=I,e[32]=b,e[33]=x,e[34]=N,e[35]=s,e[36]=u,e[37]=y,e[38]=c,e[39]=d,e[40]=w,e[41]=_,e[42]=J,e[43]=a,e[44]=Z,e[45]=X}else Z=e[44],X=e[45];return X!==Symbol.for("react.early_return_sentinel")?X:Z};import{c as dV}from"react/compiler-runtime";import{jsx as Xp}from"react/jsx-runtime";import{createElement as mV}from"react";import{useEffect as $F,useId as fV,useState as BF}from"react";import{jsx as LF,jsxs as cV}from"react/jsx-runtime";import{hoistQueryParamsToAnd as uV}from"payload/shared";import{useCallback as Ku,useEffect as kF,useState as s0}from"react";var jF=({allowCreate:t=!0,collectionSlugs:e,disableQueryPresets:o,drawerSlug:n,enableRowSelections:r,filterOptions:s,onBulkSelect:i,onSelect:a,overrideEntityVisibility:l=!0,selectedCollection:c})=>{let{closeModal:u,isModalOpen:d}=ie(),{serverFunction:f}=Pt(),[m,p]=s0(void 0),[h,g]=s0(!0),{config:{collections:b},getEntityConfig:C}=H(),y=d(n),v=b.filter(({slug:L})=>e.includes(L)),[x,_]=s0(()=>{let L=c||v[0]?.slug,N=C({collectionSlug:L});return N?{label:N.labels,value:N.slug}:void 0}),[w,T,{drawerSlug:S}]=Lt({collectionSlug:x.value}),R=Je(L=>{L&&L!==x?.value&&_({label:C({collectionSlug:L})?.labels,value:L})});kF(()=>{R(c)},[c]);let D=Ku(async({slug:L,query:N})=>{try{let B={...N||{},where:{...N?.where||{}}},j=s?.[L];if(s&&typeof j!="boolean"&&(B.where=uV(B.where,j)),L){let E=await f({name:"render-list",args:{collectionSlug:L,disableBulkDelete:!0,disableBulkEdit:!0,disableQueryPresets:o,drawerSlug:n,enableRowSelections:r,overrideEntityVisibility:l,query:B}});p(E?.List||null)}else p(null);g(!1)}catch(B){console.error("Error rendering List View: ",B),y&&u(n)}},[f,u,n,y,r,s,l,o]);kF(()=>{m||D({slug:x?.value})},[D,m,x.value]);let I=Ku(({doc:L})=>{typeof a=="function"&&a({collectionSlug:x?.value,doc:L,docID:L.id}),u(S),u(n)},[u,S,n,a,x.value]),F=Ku(L=>{D({slug:x?.value,query:L})},[D,x.value]),A=Ku(L=>{_(L),D({slug:L?.value})},[D]),k=Ku(async L=>{L&&_({label:C({collectionSlug:L})?.labels,value:L}),await D({slug:x.value||L})},[C,D,x.value]);return h?LF(xn,{}):cV(Fv,{allowCreate:t,createNewDrawerSlug:S,DocumentDrawerToggler:T,drawerSlug:n,enabledCollections:e,onBulkSelect:i,onQueryChange:F,onSelect:a,refresh:k,selectedOption:x,setSelectedOption:A,children:[m,LF(w,{onSave:I})]})};var MF="list-drawer",pV=({depth:t,uuid:e})=>`list-drawer_${t}_${e}`,hV=({children:t,className:e,disabled:o,drawerSlug:n,onClick:r,...s})=>Xp(fs,{className:[e,`${MF}__toggler`].filter(Boolean).join(" "),disabled:o,onClick:r,slug:n,...s,children:t}),gV=t=>{let{drawerSlug:e}=t;return Xp(St,{className:MF,gutter:!1,Header:null,slug:e,children:Xp(jF,{...t})})},da=t=>{let e=dV(42),{collectionSlugs:o,filterOptions:n,selectedCollection:r,uploads:s}=t,{config:i}=H(),{collections:a}=i,l=dt(),c=fV(),{closeModal:u,modalState:d,openModal:f,toggleModal:m}=ie(),[p,h]=BF(!1),[g,b]=BF(o),C;e[0]!==l||e[1]!==c?(C=pV({depth:l,uuid:c}),e[0]=l,e[1]=c,e[2]=C):C=e[2];let y=C,v,x;e[3]!==y||e[4]!==d?(v=()=>{h(!!d[y]?.isOpen)},x=[d,y],e[3]=y,e[4]=d,e[5]=v,e[6]=x):(v=e[5],x=e[6]),$F(v,x);let _,w;e[7]!==g||e[8]!==a||e[9]!==s?(_=()=>{if(!g||g.length===0){let $=a.filter(M=>{let{upload:O}=M;return s?!!O:!0});b($.map(bV))}},w=[g,s,a],e[7]=g,e[8]=a,e[9]=s,e[10]=_,e[11]=w):(_=e[10],w=e[11]),$F(_,w);let T;e[12]!==y||e[13]!==m?(T=()=>{m(y)},e[12]=y,e[13]=m,e[14]=T):T=e[14];let S=T,R;e[15]!==u||e[16]!==y?(R=()=>{u(y)},e[15]=u,e[16]=y,e[17]=R):R=e[17];let D=R,I;e[18]!==y||e[19]!==f?(I=()=>{f(y)},e[18]=y,e[19]=f,e[20]=I):I=e[20];let F=I,A;e[21]!==D||e[22]!==g||e[23]!==y||e[24]!==n||e[25]!==r||e[26]!==s?(A=$=>mV(gV,{...$,closeDrawer:D,collectionSlugs:g,drawerSlug:y,filterOptions:n,key:y,selectedCollection:r,uploads:s}),e[21]=D,e[22]=g,e[23]=y,e[24]=n,e[25]=r,e[26]=s,e[27]=A):A=e[27];let k=A,L;e[28]!==y?(L=$=>Xp(hV,{...$,drawerSlug:y}),e[28]=y,e[29]=L):L=e[29];let N=L,B;e[30]!==D||e[31]!==g||e[32]!==l||e[33]!==y||e[34]!==p||e[35]!==F||e[36]!==S?(B={closeDrawer:D,collectionSlugs:g,drawerDepth:l,drawerSlug:y,isDrawerOpen:p,openDrawer:F,setCollectionSlugs:b,toggleDrawer:S},e[30]=D,e[31]=g,e[32]=l,e[33]=y,e[34]=p,e[35]=F,e[36]=S,e[37]=B):B=e[37];let j=B,E;return e[38]!==k||e[39]!==j||e[40]!==N?(E=[k,N,j],e[38]=k,e[39]=j,e[40]=N,e[41]=E):E=e[41],E};function bV(t){let{slug:e}=t;return e}import{c as vV}from"react/compiler-runtime";import{useRef as yV}from"react";var i0=(t,e)=>{let o=vV(3),n=yV(void 0),r;return o[0]!==t||o[1]!==e?(r=(...s)=>{let i=s,a=()=>{clearTimeout(n.current),t(...i)};clearTimeout(n.current),n.current=setTimeout(a,e)},o[0]=t,o[1]=e,o[2]=r):r=o[2],r};import{useCallback as CV,useRef as OF}from"react";function ma(){let t=OF([]),e=OF(!1);return{queueTask:CV((n,r)=>{t.current.push(n);async function s(){if(!e.current&&!(typeof r?.beforeProcess=="function"&&r.beforeProcess()===!1))for(;t.current.length>0;){let i=t.current.pop();t.current=[],e.current=!0;try{await i()}catch(a){console.error("Error in queued function:",a)}finally{e.current=!1,typeof r?.afterProcess=="function"&&r.afterProcess()}}}s()},[])}}import{c as xV}from"react/compiler-runtime";import{jsx as wV}from"react/jsx-runtime";import{createContext as SV,use as IV,useState as _V}from"react";var VF=SV({mostRecentUpdate:null,reportUpdate:()=>null}),a0=t=>{let e=xV(3),{children:o}=t,[n,r]=_V(null),s;return e[0]!==o||e[1]!==n?(s=wV(VF,{value:{mostRecentUpdate:n,reportUpdate:r},children:o}),e[0]=o,e[1]=n,e[2]=s):s=e[2],s},_s=()=>IV(VF);var l0=t=>{for(let e in t){let o=t[e];if((e.toLowerCase()==="and"||e.toLowerCase()==="or")&&Array.isArray(o))for(let n of o)l0(n);else o&&typeof o=="object"&&"in"in o&&Array.isArray(o.in)&&o.in.length===0&&(t[e]={exists:!1})}return t};var c0=({hasMany:t,relationTo:e,value:o})=>{let n=e.reduce((r,s)=>({...r,[s]:[]}),{});if(o===null)return n;if(o){let r=(s,i)=>{(typeof i=="string"||typeof i=="number")&&typeof s=="string"&&(n[s]?n[s].push(i):n[s]=[i])};t===!0?o.forEach(s=>{s&&r(s.relationTo,s.value)}):r(o.relationTo,o.value)}return n};var GF=({allowEdit:t,options:e,value:o})=>{if(o||typeof o=="number"){if(Array.isArray(o))return o.map(r=>{let s;return e.forEach(i=>{s||(s=i.options.find(a=>a.value===r.value&&a.relationTo===r.relationTo))}),s?{allowEdit:t,...s}:void 0});let n;return e.forEach(r=>{n||(n=r.options.find(s=>s.value===o.value&&s.relationTo===o.relationTo))}),n?{allowEdit:t,...n}:void 0}};import{getTranslation as TV}from"@payloadcms/translations";var WF=t=>t.reduce((e,o)=>o.options?[...e,...WF(o.options)]:[...e,{id:o.value,relationTo:o.relationTo}],[]),zF=t=>t.sort((e,o)=>typeof e?.label?.localeCompare=="function"&&typeof o?.label?.localeCompare=="function"?e.label.localeCompare(o.label):0),HF=(t,e)=>{switch(e.type){case"ADD":{let{collection:o,config:n,docs:r,i18n:s,ids:i=[],sort:a}=e,l=o.slug,c=WF(t),u=[...t],d=u.find(m=>m.label===o.labels.plural),f=r.reduce((m,p)=>{if(c.filter(h=>h.id===p.id&&h.relationTo===l).length===0){c.push({id:p.id,relationTo:l});let h=Zo({collectionConfig:o,data:p,dateFormat:n.admin.dateFormat,fallback:`${s.t("general:untitled")} - ID: ${p.id}`,i18n:s});return[...m,{label:h,relationTo:l,value:p.id}]}return m},[]);if(i.forEach(m=>{c.filter(p=>p.id===m&&p.relationTo===l).length===0&&(c.push({id:m,relationTo:l}),f.push({allowEdit:!1,label:`${s.t("general:untitled")} - ID: ${m}`,relationTo:l,value:m}))}),d){let m=[...d.options,...f];d.options=a?zF(m):m}else u.push({label:TV(o.labels.plural,s),options:a?zF(f):f});return u}case"CLEAR":{let o=e.exemptValues?Array.isArray(e.exemptValues)?e.exemptValues:[e.exemptValues]:[];return t.filter(r=>{let s=r.options.filter(i=>o?o.some(a=>a&&i.value===a.value):!1);return r.options=s,s.length>0})}case"REMOVE":{let{id:o,collection:n}=e,r=[...t],s=r.findIndex(i=>i.label===n.labels.plural);return s===-1||(r[s]={...r[s],options:r[s].options.filter(i=>i.value!==o)}),r}case"UPDATE":{let{collection:o,config:n,doc:r,i18n:s}=e,i=o.slug,a=[...t],l=Zo({collectionConfig:o,data:r,dateFormat:n.admin.dateFormat,fallback:`${s.t("general:untitled")} - ID: ${r.id}`,i18n:s}),u=a.find(d=>d.label===o.labels.plural)?.options?.find(d=>d.value===r.id);return u&&(u.label=l,u.relationTo=i),a}default:return t}};import{jsx as ed,jsxs as UF}from"react/jsx-runtime";import{Fragment as FV,useState as RV}from"react";var Ol="relationship--multi-value-label",XF=t=>{let{data:e,selectProps:o}=t,{allowEdit:n,label:r,relationTo:s,value:i}=e,{customProps:a}=o===void 0?{}:o,{draggableProps:l,onDocumentOpen:c}=a===void 0?{}:a,{permissions:u}=Se(),[d,f]=RV(!1),{t:m}=P(),p=!!u?.collections?.[s]?.read;return UF("div",{className:Ol,title:r||"",children:[ed("div",{className:`${Ol}__content`,children:ed(Ro.MultiValueLabel,{...t,innerProps:{className:`${Ol}__text`,...l||{}}})}),s&&p&&n!==!1&&ed(FV,{children:UF("button",{"aria-label":`Edit ${r}`,className:`${Ol}__drawer-toggler`,onClick:h=>{f(!1),c({id:i,collectionSlug:s,hasReadPermission:p,openInNewTab:h.metaKey||h.ctrlKey})},onKeyDown:DV,onMouseDown:AV,onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),onTouchEnd:PV,type:"button",children:[ed(Po,{className:`${Ol}__tooltip`,show:d,children:m("general:editLabel",{label:""})}),ed(Cr,{className:`${Ol}__icon`})]})})]})};function DV(t){t.key==="Enter"&&t.stopPropagation()}function AV(t){return t.stopPropagation()}function PV(t){return t.stopPropagation()}import{c as EV}from"react/compiler-runtime";import{jsx as Vl,jsxs as ZF}from"react/jsx-runtime";import{Fragment as NV,useState as LV}from"react";var Gl="relationship--single-value",YF=t=>{let e=EV(16),{children:o,data:n,selectProps:r}=t,{allowEdit:s,label:i,relationTo:a,value:l}=n,c;e[0]!==r?(c=r===void 0?{}:r,e[0]=r,e[1]=c):c=e[1];let{customProps:u}=c,d;e[2]!==u?(d=u===void 0?{}:u,e[2]=u,e[3]=d):d=e[3];let{onDocumentOpen:f}=d,[m,p]=LV(!1),{t:h}=P(),{permissions:g}=Se(),b=!!g?.collections?.[a]?.read,C=i||"",y;return e[4]!==s||e[5]!==o||e[6]!==b||e[7]!==i||e[8]!==f||e[9]!==t||e[10]!==a||e[11]!==m||e[12]!==h||e[13]!==C||e[14]!==l?(y=Vl(Ro.SingleValue,{...t,className:Gl,children:Vl("div",{className:`${Gl}__label`,title:C,children:ZF("div",{className:`${Gl}__label-text`,children:[Vl("div",{className:`${Gl}__text`,children:o}),a&&b&&s!==!1&&Vl(NV,{children:ZF("button",{"aria-label":h("general:editLabel",{label:i}),className:`${Gl}__drawer-toggler`,onClick:v=>{p(!1),f({id:l,collectionSlug:a,hasReadPermission:b,openInNewTab:v.metaKey||v.ctrlKey})},onKeyDown:kV,onMouseDown:jV,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),onTouchEnd:$V,type:"button",children:[Vl(Po,{className:`${Gl}__tooltip`,show:m,children:h("general:edit")}),Vl(Cr,{})]})})]})})}),e[4]=s,e[5]=o,e[6]=b,e[7]=i,e[8]=f,e[9]=t,e[10]=a,e[11]=m,e[12]=h,e[13]=C,e[14]=l,e[15]=y):y=e[15],y};function kV(t){t.key==="Enter"&&t.stopPropagation()}function jV(t){return t.stopPropagation()}function $V(t){return t.stopPropagation()}var od="relationship",f0=t=>{let{AfterInput:e,allowCreate:o=!0,allowEdit:n=!0,appearance:r="select",BeforeInput:s,className:i,description:a,Description:l,Error:c,filterOptions:u,formatDisplayedOptions:d,hasMany:f,initialValue:m,isSortable:p=!0,label:h,Label:g,localized:b,maxResultsPerRequest:C=10,onChange:y,path:v,placeholder:x,readOnly:_,relationTo:w,required:T,showError:S,sortOptions:R,style:D,value:I}=t,{config:F,getEntityConfig:A}=H(),{routes:{api:k},serverURL:L}=F,{i18n:N,t:B}=P(),{permissions:j}=Se(),{code:E}=Ie(),[$,M]=ii({id:void 0,collectionSlug:void 0,hasReadPermission:!1}),[O,G]=ii(-1),[W,U]=ii({}),[z,J]=ii(""),[Z,X]=ii(""),[ae,Y]=ii(!1),[ne,Q]=ii(!1),[de,ve]=ii(!1),fe=td(!1),{queueTask:$e}=ma(),[Me,Ne]=VV(HF,[]),be=td(I),[Ve,,{drawerSlug:Ye,isDrawerOpen:se,openDrawer:xe}]=Lt({id:$.id,collectionSlug:$.collectionSlug}),V=OV(()=>{let ce=u;if(I){let Le=(f===!1?[I]:I).reduce((je,Ke)=>(je[Ke.relationTo]||(je[Ke.relationTo]=[]),je[Ke.relationTo].push(Ke.value),je),{});(Array.isArray(w)?w:[w]).forEach(je=>{ce={...ce||{},[je]:{...typeof u?.[je]=="object"?u[je]:{},...Le[je]?{id:{not_in:Le[je]}}:{}}}})}return ce},[u,I,f,w]),[le,,{closeDrawer:q,isDrawerOpen:me,openDrawer:pe}]=da({collectionSlugs:w,filterOptions:V}),re=fa(({collectionSlug:ce,doc:Le})=>{f?y([...Array.isArray(I)?I:[],{relationTo:ce,value:Le.id}]):f===!1&&y({relationTo:ce,value:Le.id}),q()},[f,y,q,I]),ee=td(!1),he=fa(({filterOptions:ce,hasMany:Le,lastFullyLoadedRelation:je,lastLoadedPage:Ke,onSuccess:ct,search:ut,sort:Ce,value:nt})=>{j&&$e(async()=>{let Bt=typeof je<"u"?je:-1,ft=Array.isArray(w)?w:[w],Rt=Bt===-1?ft:ft.slice(Bt+1),vt=0,So=c0(Le===!0?{hasMany:!0,relationTo:w,value:nt}:{hasMany:!1,relationTo:w,value:nt});z||(await Rt.reduce(async(Br,pt)=>{let or=ce?.[pt],nn;if(Z!==ut?nn=1:nn=(Ke[pt]||0)+1,await Br,or===!1)return G(ft.indexOf(pt)),Promise.resolve();if(vt<10){let Xo=A({collectionSlug:pt}),os=Xo?.admin?.useAsTitle||"id",Ri=Xo?.defaultSort||"id";typeof R=="string"?Ri=R:R?.[pt]&&(Ri=R[pt]);let br={depth:0,draft:!0,limit:C,locale:E,page:nn,select:{[os]:!0},sort:Ri,where:{and:[{id:{not_in:So[pt]}}]}};ut&&br.where.and.push({[os]:{like:ut}}),or&&typeof or!="boolean"&&br.where.and.push(or),l0(br.where);let rs=await fetch(d0({apiRoute:k,path:`/${pt}`}),{body:m0.stringify(br),credentials:"include",headers:{"Accept-Language":N.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"},method:"POST"});if(rs.ok){let ns=await rs.json();U(Gs=>({...Gs,[pt]:nn})),ns.nextPage||G(ft.indexOf(pt)),ns.docs.length>0&&(vt+=ns.docs.length,Ne({type:"ADD",collection:Xo,config:F,docs:ns.docs,i18n:N,sort:Ce}))}else rs.status===403?(G(ft.indexOf(pt)),Ne({type:"ADD",collection:Xo,config:F,docs:[],i18n:N,ids:So[pt],sort:Ce})):J(B("error:unspecific"))}},Promise.resolve()),typeof ct=="function"&&ct())})},[j,$e,w,z,Z,A,R,C,E,k,N,F,B]),te=i0(({hasMany:ce,search:Le,value:je})=>{$t({filterOptions:u,lastLoadedPage:{},onSuccess:()=>{Y(!1)},search:Le,sort:!0,...ce===!0?{hasMany:ce,value:je}:{hasMany:ce,value:je}}),X(Le)},300),ge=fa(ce=>{Z!==ce.search&&(Y(!0),U({}),te(ce))},[Z,te]),ye=Je(({hasMany:ce,value:Le})=>{let je=c0(ce===!0?{hasMany:ce,relationTo:w,value:Le}:{hasMany:ce,relationTo:w,value:Le});Object.entries(je).reduce(async(Ke,[ct,ut])=>{await Ke;let Ce=ut.filter(nt=>!Me.find(Bt=>Bt?.options?.find(ft=>ft.value===nt&&ft.relationTo===ct)));if(Ce.length>0){let nt=A({collectionSlug:ct}),Bt=nt?.admin?.useAsTitle||"id",ft={depth:0,draft:!0,limit:Ce.length,locale:E,select:{[Bt]:!0},where:{id:{in:Ce}}};if(!z){let Rt=await fetch(d0({apiRoute:k,path:`/${ct}`}),{body:m0.stringify(ft),credentials:"include",headers:{"Accept-Language":N.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"},method:"POST"}),vt=[];Rt.ok&&(vt=(await Rt.json()).docs),Ne({type:"ADD",collection:nt,config:F,docs:vt,i18n:N,ids:Ce,sort:!0})}}},Promise.resolve())}),{mostRecentUpdate:rt}=_s(),Be=Je(ce=>{if(!I)return!1;let Le=ce.doc.id,je=!1;if(ce.operation==="update"?f===!0?je=(Array.isArray(I)?I:[I]).some(ut=>ut.value===Le&&ut.relationTo===ce.entitySlug):f===!1&&(je=I?.value===Le&&I?.relationTo===ce.entitySlug):ce.operation==="create"&&(je=ce.drawerSlug===Ye),!je)return;let Ke=A({collectionSlug:ce.entitySlug});if(Ne({type:"UPDATE",collection:Ke,config:F,doc:ce.doc,i18n:N}),f){let ut=(I?Array.isArray(I)?I:[I]:[]).map(Ce=>({relationTo:Ce.value===Le?ce.entitySlug:Ce.relationTo,value:Ce.value}));y(ut)}else f===!1&&y({relationTo:ce.entitySlug,value:Le})});zl(()=>{rt&&Be(rt)},[rt]);let qe=fa(ce=>{Ne({type:"ADD",collection:ce.collectionConfig,config:F,docs:[ce.doc],i18n:N,sort:!0}),f?y(I?I.concat({relationTo:ce.collectionConfig.slug,value:ce.doc.id}):null):f===!1&&y({relationTo:ce.collectionConfig.slug,value:ce.doc.id})},[N,F,f,y,I]),wt=fa(ce=>{Ne({id:ce.id,type:"REMOVE",collection:ce.collectionConfig,config:F,i18n:N}),y(f&&I?I.filter(Le=>Le.value!==ce.id):null)},[N,F,f,y,I]),ro=fa((ce,Le)=>{if(!Le)return!0;let je=MV(Le||""),Ke=250,ct=String(ce.label);for(;ct.length>Ke;){let ut=ct.indexOf(" ",Le.length);if(je.test(ct.slice(0,ut===-1?Le.length:ut+1)))return!0;ct=ct.slice(ut===-1?Le.length:ut+1)}return je.test(ct.slice(-Ke))},[]),wo=fa(({id:ce,collectionSlug:Le,hasReadPermission:je,openInNewTab:Ke})=>{if(Ke){if(je&&ce&&Le){let ct=d0({adminRoute:F.routes.admin,path:`/collections/${Le}/${ce}`,serverURL:L});window.open(ct,"_blank")}}else ee.current=!0,M({id:ce,collectionSlug:Le,hasReadPermission:je})},[F.routes.admin,L]),$t=Je(ce=>he(ce));zl(()=>{fe.current&&de&&(Y(!0),$t({filterOptions:u,lastLoadedPage:{},onSuccess:()=>{fe.current=!0,Y(!1)},...f===!0?{hasMany:f,value:be.current}:{hasMany:f,value:be.current}})),Ne({type:"CLEAR",exemptValues:be.current}),G(-1),U({})},[w,u,E,v,de,f]);let tr=td(I),Re=td(!0);zl(()=>{(Re.current||!BV(I,tr.current))&&ye(f===!0?{hasMany:f,value:I}:{hasMany:f,value:I}),Re.current=!1,tr.current=I},[I,f]),zl(()=>{let Le=(Array.isArray(w)?w:[w]).reduce((je,Ke)=>(A({collectionSlug:Ke})?.admin?.useAsTitle||"id")==="id"&&je,!0);Q(!Le)},[w,A]),zl(()=>{ee.current&&(xe(),ee.current=!1)},[xe,$]),zl(()=>{be.current=I},[I]);let We=GF({allowEdit:n,options:Me,value:I});return!Array.isArray(We)&&We?.value==="null"&&(We.value=null),u0("div",{className:[Ae,od,i,S&&"error",z&&"error-loading",_&&`${od}--read-only`,!_&&o&&`${od}--allow-create`].filter(Boolean).join(" "),id:`field-${v.replace(/\./g,"__")}`,style:D,children:[In(ue,{CustomComponent:g,Fallback:In(_e,{label:h,localized:b,path:v,required:T})}),u0("div",{className:`${Ae}__wrap`,children:[In(ue,{CustomComponent:c,Fallback:In(Ze,{path:v,showError:S})}),s,z?In("div",{className:`${od}__error-loading`,children:z}):u0("div",{className:`${od}__wrap`,children:[In(gt,{backspaceRemovesValue:!(se||me),components:{MultiValueLabel:XF,SingleValue:YF,...r!=="select"&&{DropdownIndicator:null}},customProps:{disableKeyDown:se||me,disableMouseDown:se||me,onDocumentOpen:wo},disabled:_||se||me,filterOption:ne?ro:void 0,getOptionValue:ce=>{if(ce)return f&&Array.isArray(w)?`${ce.relationTo}_${ce.value}`:ce.value},isLoading:r==="select"&&ae,isMulti:f,isSearchable:r==="select",isSortable:p,menuIsOpen:r==="select"?de:!1,onChange:_?void 0:ce=>{f?ce===null?(be.current=[],y([])):(be.current=ce,y(ce)):f===!1&&(ce===null?(be.current=null,y(null)):(be.current=ce,y(ce)))},onInputChange:ce=>ge({search:ce,...f===!0?{hasMany:f,value:I}:{hasMany:f,value:I}}),onMenuClose:()=>{ve(!1)},onMenuOpen:()=>{r==="drawer"?pe():r==="select"&&(ve(!0),fe.current||(Y(!0),$t({filterOptions:u,lastLoadedPage:{},onSuccess:()=>{fe.current=!0,Y(!1)},...f===!0?{hasMany:f,value:I}:{hasMany:f,value:I}})))},onMenuScrollToBottom:()=>{Y(!0),$t({filterOptions:u,lastFullyLoadedRelation:O,lastLoadedPage:W,onSuccess:()=>{Y(!1)},search:Z,sort:!1,...f===!0?{hasMany:f,value:m}:{hasMany:f,value:m}})},options:typeof d=="function"?d(Me):Me,placeholder:x,showError:S,value:We??null}),!_&&o&&In(NF,{path:v,relationTo:w,...f===!0?{hasMany:f,onChange:y,value:I}:{hasMany:f,onChange:y,value:I}})]}),e,In(ue,{CustomComponent:l,Fallback:In(Ue,{description:a,path:v})})]}),$.collectionSlug&&$.hasReadPermission&&In(Ve,{onDelete:wt,onDuplicate:qe}),r==="drawer"&&!_&&In(le,{allowCreate:o,enableRowSelections:!1,onSelect:re})]})};var WV=t=>{let{field:e,field:{admin:{allowCreate:o=!0,allowEdit:n=!0,appearance:r="select",className:s,description:i,isSortable:a=!0,placeholder:l,sortOptions:c}={},hasMany:u,label:d,localized:f,relationTo:m,required:p},path:h,readOnly:g,validate:b}=t,C=h0((M,O)=>{if(typeof b=="function")return b(M,{...O,required:p})},[b,p]),{customComponents:{AfterInput:y,BeforeInput:v,Description:x,Error:_,Label:w}={},disabled:T,filterOptions:S,initialValue:R,path:D,setValue:I,showError:F,value:A}=Fe({potentiallyStalePath:h,validate:C}),k=zV(()=>Qe(e),[e]),L=Array.isArray(m),[N]=p0.useState(()=>Array.isArray(m)?m:[m]),B=h0(M=>{if(!M){I(null,M===A);return}let O=!1;L?O=Array.isArray(A)&&Array.isArray(M)&&A.length===M.length&&A.every((W,U)=>{let z=M[U];return W.value===z.value&&W.relationTo===z.relationTo}):O=Array.isArray(A)&&Array.isArray(M)&&A.length===M.length&&A.every((W,U)=>W===M[U].value);let G=M.map(W=>L?W:W.value);I(G,O)},[L,I,A]),j=h0(M=>{if(!M){I(null,M===A);return}let O=!1;L?O=A&&M&&A.value===M.value&&A.relationTo===M.relationTo:O=A&&M&&A===M.value;let G=L?M:M.value;I(G,O)},[L,I,A]),E=p0.useMemo(()=>u===!0?Array.isArray(A)?A.map(M=>L?M:{relationTo:Array.isArray(N)?N[0]:N,value:M}):A:A&&(L?A:{relationTo:Array.isArray(N)?N[0]:N,value:A}),[u,A,L,N]),$=p0.useMemo(()=>u===!0?Array.isArray(R)?R.map(M=>L?M:{relationTo:Array.isArray(N)?N[0]:N,value:M}):R:R&&(L?R:{relationTo:Array.isArray(N)?N[0]:N,value:R}),[R,L,N,u]);return GV(f0,{AfterInput:y,allowCreate:o,allowEdit:n,appearance:r,BeforeInput:v,className:s,Description:x,description:i,Error:_,filterOptions:S,formatDisplayedOptions:L?void 0:M=>M.map(O=>O.options).flat(),isSortable:a,Label:w,label:d,localized:f,maxResultsPerRequest:10,maxRows:e?.maxRows,minRows:e?.minRows,path:D,placeholder:l,readOnly:g||T,relationTo:N,required:p,showError:F,sortOptions:c,style:k,...u===!0?{hasMany:!0,initialValue:$,onChange:B,value:E}:{hasMany:!1,initialValue:$,onChange:j,value:E}})},rd=ze(WV);var nd=()=>null;import{jsx as g0}from"react/jsx-runtime";import"react";var JF="row",HV=t=>{let{field:{admin:{className:e,style:o}={},fields:n},forceRender:r=!1,indexPath:s="",parentPath:i="",parentSchemaPath:a="",permissions:l,readOnly:c}=t;return g0(aT,{children:g0("div",{className:[Ae,JF,e].filter(Boolean).join(" "),style:o||void 0,children:g0(ko,{className:`${JF}__fields`,fields:n,forceRender:r,margins:!1,parentIndexPath:s,parentPath:i,parentSchemaPath:a,permissions:l,readOnly:c})})})},sd=ze(HV);import{jsx as XV}from"react/jsx-runtime";import ZV,{useCallback as QF,useMemo as YV}from"react";import{c as UV}from"react/compiler-runtime";import{jsx as pa,jsxs as qF}from"react/jsx-runtime";import{getTranslation as b0}from"@payloadcms/translations";import"react";var qr=t=>{let e=UV(37),{id:o,AfterInput:n,BeforeInput:r,className:s,Description:i,description:a,Error:l,filterOption:c,hasMany:u,isClearable:d,isSortable:f,label:m,Label:p,localized:h,onChange:g,onInputChange:b,options:C,path:y,placeholder:v,readOnly:x,required:_,showError:w,style:T,value:S}=t,R=u===void 0?!1:u,D=d===void 0?!0:d,I=f===void 0?!0:f,{i18n:F}=P(),A;if(e[0]!==n||e[1]!==r||e[2]!==i||e[3]!==l||e[4]!==p||e[5]!==s||e[6]!==a||e[7]!==c||e[8]!==R||e[9]!==F||e[10]!==o||e[11]!==D||e[12]!==I||e[13]!==m||e[14]!==h||e[15]!==g||e[16]!==b||e[17]!==C||e[18]!==y||e[19]!==v||e[20]!==x||e[21]!==_||e[22]!==w||e[23]!==T||e[24]!==S){let k;if(R&&Array.isArray(S)){let E;e[26]!==F||e[27]!==C?(E=$=>{let M=C.find(O=>O.value===$);return{label:M?b0(M.label,F):$,value:M?.value??$}},e[26]=F,e[27]=C,e[28]=E):E=e[28],k=S.map(E)}else if(S){let E;e[29]!==S?(E=M=>M.value===S,e[29]=S,e[30]=E):E=e[30];let $=C.find(E);k={label:$?b0($.label,F):S,value:$?.value??S}}else k=null;let L=w&&"error",N=x&&"read-only",B;e[31]!==s||e[32]!==L||e[33]!==N?(B=[Ae,"select",s,L,N].filter(Boolean),e[31]=s,e[32]=L,e[33]=N,e[34]=B):B=e[34];let j;e[35]!==F?(j=E=>({...E,label:b0(E.label,F)}),e[35]=F,e[36]=j):j=e[36],A=qF("div",{className:B.join(" "),id:`field-${y.replace(/\./g,"__")}`,style:T,children:[pa(ue,{CustomComponent:p,Fallback:pa(_e,{label:m,localized:h,path:y,required:_})}),qF("div",{className:`${Ae}__wrap`,children:[pa(ue,{CustomComponent:l,Fallback:pa(Ze,{path:y,showError:w})}),r,pa(gt,{disabled:x,filterOption:c,id:o,isClearable:D,isMulti:R,isSortable:I,onChange:g,onInputChange:b,options:C.map(j),placeholder:v,showError:w,value:k}),n]}),pa(ue,{CustomComponent:i,Fallback:pa(Ue,{description:a,path:y})})]}),e[0]=n,e[1]=r,e[2]=i,e[3]=l,e[4]=p,e[5]=s,e[6]=a,e[7]=c,e[8]=R,e[9]=F,e[10]=o,e[11]=D,e[12]=I,e[13]=m,e[14]=h,e[15]=g,e[16]=b,e[17]=C,e[18]=y,e[19]=v,e[20]=x,e[21]=_,e[22]=w,e[23]=T,e[24]=S,e[25]=A}else A=e[25];return A};var Zp=t=>t.map(e=>typeof e=="object"&&(e.value||e.value==="")?e:{label:e,value:e}),JV=t=>{let{field:e,field:{name:o,admin:{className:n,description:r,isClearable:s=!0,isSortable:i=!0,placeholder:a}={},hasMany:l=!1,label:c,localized:u,options:d=[],required:f},onChange:m,path:p,readOnly:h,validate:g}=t,b=ZV.useMemo(()=>Zp(d),[d]),C=QF((L,N)=>{if(typeof g=="function")return g(L,{...N,hasMany:l,options:b,required:f})},[g,f,l,b]),{customComponents:{AfterInput:y,BeforeInput:v,Description:x,Error:_,Label:w}={},disabled:T,path:S,selectFilterOptions:R,setValue:D,showError:I,value:F}=Fe({potentiallyStalePath:p,validate:C}),A=QF(L=>{if(!h||T){let N=null;L&&l?Array.isArray(L)?N=L.map(B=>B.value):N=[]:L&&!Array.isArray(L)&&(N=L.value),typeof m=="function"&&m(N),D(N)}},[h,T,l,D,m]),k=YV(()=>Qe(e),[e]);return XV(qr,{AfterInput:y,BeforeInput:v,className:n,Description:x,description:r,Error:_,filterOption:R?({label:L,value:N},B)=>R?.some(j=>(typeof j=="string"?j:j.value)===N)&&L.toLowerCase().includes(B.toLowerCase()):void 0,hasMany:l,isClearable:s,isSortable:i,Label:w,label:c,localized:u,name:o,onChange:A,options:b,path:S,placeholder:a,readOnly:h||T,required:f,showError:I,style:k,value:F})},id=ze(JV);import{c as gR}from"react/compiler-runtime";import{jsx as Fs,jsxs as bR}from"react/jsx-runtime";import{getTranslation as $G}from"@payloadcms/translations";import{getFieldPaths as BG,toKebabCase as MG}from"payload/shared";import{useEffect as hR,useState as OG}from"react";var dR=Pi(C0(),1);import{jsx as _n}from"react/jsx-runtime";import{dequal as cR}from"dequal/lite";import{useRouter as _G}from"next/navigation.js";import{deepCopyObjectSimpleWithoutReactComponents as uR,getDataByPath as TG,getSiblingData as FG,hasDraftValidationEnabled as RG,reduceFieldsToValues as I0,wait as DG}from"payload/shared";import AG,{useCallback as Mo,useEffect as ga,useReducer as PG,useRef as ba,useState as ai}from"react";import{c as tG}from"react/compiler-runtime";import{jsx as x0,jsxs as oG}from"react/jsx-runtime";import rG from"react";function nG(t){let e=[];for(let o of t)if(o){let n=o.split(" \u2192 "),r=!1;for(let s=0;s<e.length;s++)if(e[s].startsWith(n[0])){e.splice(s+1,0,o),r=!0;break}r||e.push(o)}return e}function sG(t){let[e,o]=t.split(":");if(!o)return{message:e};let n=o.split(",").map(r=>r.replaceAll(" > "," \u2192 ").trim());return n.length===1?{errors:n,message:`${e}: `}:{errors:nG(n),message:`${e} (${n.length}):`}}function oR(t){let e=tG(5),{errorMessage:o}=t,n;e[0]!==o?(n=()=>sG(o),e[0]=o,e[1]=n):n=e[1];let[r]=rG.useState(n),{errors:s,message:i}=r,a;return e[2]!==s||e[3]!==i?(a=oG("div",{children:[i,Array.isArray(s)&&s.length>0?s.length===1?x0("span",{"data-testid":"field-error",children:s[0]}):x0("ul",{"data-testid":"field-errors",children:s.map(iG)}):null]}),e[2]=s,e[3]=i,e[4]=a):a=e[4],a}function iG(t,e){return x0("li",{children:t},e)}import{c as aG}from"react/compiler-runtime";import{useEffect as rR,useState as lG}from"react";function w0(t,e,o){let n=aG(11),r;n[0]!==t?(r=()=>t,n[0]=t,n[1]=r):r=n[1];let[s,i]=lG(r),a;n[2]!==o||n[3]!==t?(a=()=>{let d=setTimeout(()=>{i(()=>t)},o);return()=>{clearTimeout(d)}},n[2]=o,n[3]=t,n[4]=a):a=n[4];let l;n[5]!==o||n[6]!==e?(l=[...e,o],n[5]=o,n[6]=e,n[7]=l):l=n[7],rR(a,l);let c,u;n[8]!==s?(c=()=>{s()},u=[s],n[8]=s,n[9]=c,n[10]=u):(c=n[9],u=n[10]),rR(c,u)}import{c as cG}from"react/compiler-runtime";import{jsx as uG}from"react/jsx-runtime";import nR,{useState as dG}from"react";var sR=nR.createContext(null),S0=t=>{let e=cG(6),{children:o}=t,[n,r]=dG(mG),s;e[0]!==n?(s=u=>{let{collectionSlug:d}=u;return n.get(d)},e[0]=n,e[1]=s):s=e[1];let i=s,a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=u=>{let{collectionSlug:d,handler:f}=u;r(m=>{let p=new Map(m);return p.set(d,f),p})},e[2]=a):a=e[2];let l=a,c;return e[3]!==o||e[4]!==i?(c=uG(sR,{value:{getUploadHandler:i,setUploadHandler:l},children:o}),e[3]=o,e[4]=i,e[5]=c):c=e[5],c},ad=()=>{let t=nR.use(sR);if(t===null)throw new Error("useUploadHandlers must be used within UploadHandlersProvider");return t};function mG(){return new Map}var iR={413:"Your request was too large to submit successfully."};var Jp=Pi(Tv(),1);import{dequal as pG}from"dequal/lite";import{deepCopyObjectSimpleWithoutReactComponents as lR}from"payload/shared";import{dequal as fG}from"dequal/lite";var aR=({acceptValues:t,currentState:e={},incomingState:o})=>{let n={...e};for(let[r,s]of Object.entries(o||{})){if(!(r in e)&&!s.addedByServer)continue;let i=s.addedByServer||t===!0||typeof t=="object"&&t!==null&&t.overrideLocalChanges===!1&&!e[r]?.isModified,a=s;if(!i){let{initialValue:l,value:c,...u}=s;a=u}n[r]={...e[r],...a},e[r]&&"errorPaths"in e[r]&&!("errorPaths"in s)&&(n[r].errorPaths=[]),Array.isArray(s.rows)&&r in e&&(n[r].rows=[...e[r]?.rows||[]],s.rows.forEach(l=>{let c=e[r].rows?.findIndex(u=>u.id===l.id);if(c>-1)n[r].rows[c]={...e[r].rows[c],...l};else if(l.addedByServer){let u={...l};delete u.addedByServer,n[r].rows.push(u)}})),s.valid!==!1&&(n[r].valid=!0),s.passesCondition!==!1&&(n[r].passesCondition=!0),s.blocksFilterOptions||delete n[r].blocksFilterOptions,delete n[r].addedByServer}return fG(n,e)?e:n};var Wl=(t,e)=>{let o={},n=Object.entries(e).reduce((r,[s,i])=>{let a=r;if(s.indexOf(`${t}.`)===0){let[l]=s.replace(`${t}.`,"").split(".");a[l]||(a[l]={}),a[l][s.replace(`${t}.${String(l)}.`,"")]={...i}}else o[s]=i;return a},[]);return{remainingFields:o,rows:n}},Hl=(t,e)=>e.reduce((o,n,r)=>({...o,...Object.entries(n).reduce((s,[i,a])=>({...s,[`${t}.${r}.${i}`]:{...a}}),{})}),{});var ld="default"in Jp.default?Jp.default.default:Jp.default;function cd(t,e){switch(e.type){case"ADD_ROW":{let{blockType:o,path:n,rowIndex:r,subFieldState:s={}}=e,i=typeof r=="number"?r:t[n]?.rows?.length||0,a=[...t[n]?.rows||[]],l={id:s?.id?.value||new ld().toHexString(),isLoading:!0};o&&(l.blockType=o),a.splice(i,0,l),o&&(s.blockType={initialValue:o,valid:!0,value:o});let{remainingFields:c,rows:u}=Wl(n,t);return u.splice(i,0,s),{...c,...Hl(n,u),[`${n}.${i}.id`]:{initialValue:l.id,passesCondition:!0,valid:!0,value:l.id},[n]:{...t[n],disableFormData:!0,rows:a,value:u.length}}}case"ADD_SERVER_ERRORS":{let o={...t},n=[];return e.errors.forEach(({message:r,path:s})=>{o[s]={...o[s]||{initialValue:null,value:null},errorMessage:r,valid:!1};let i=s.split(".");i.length>1&&n.push({fieldErrorPath:s,parentPath:i.slice(0,i.length-1).join(".")})}),o=Object.entries(o).reduce((r,[s,i])=>{let a=n.reduce((c,{fieldErrorPath:u,parentPath:d})=>(d.startsWith(s)&&c.push(u),c),[]),l=!1;if(a.length>0){let c=Array.isArray(i.errorPaths)?i.errorPaths:[];a.forEach(u=>{c.includes(u)||(c.push(u),l=!0)}),l&&(r[s]={...i,errorPaths:c})}return l||(r[s]=i),r},{}),o}case"DUPLICATE_ROW":{let{path:o,rowIndex:n}=e,{remainingFields:r,rows:s}=Wl(o,t),i=[...t[o].rows||[]],a=lR(i[n]),l=new ld().toHexString();a.id&&(a.id=l),i[n]?.customComponents?.RowLabel&&(a.customComponents={RowLabel:i[n].customComponents.RowLabel});let c=lR(s[n]);c.id&&(c.id.value=l,c.id.initialValue=l);for(let d of Object.keys(c).filter(f=>f.endsWith(".id"))){let f=c[d],m=new ld().toHexString();if(f&&typeof f.value=="string"&&ld.isValid(f.value)){c[d].value=m,c[d].initialValue=m;let p=d.split("."),h=parseInt(p[p.length-2],10),g=p.slice(0,p.length-2).join("."),b=c?.[g]?.rows;c[g]&&Array.isArray(b)&&(b[h]?b[h].id=m:b[h]={id:m})}}return Object.keys(c).length>0&&(s.splice(n+1,0,c),i.splice(n+1,0,a)),{...r,...Hl(o,s),[o]:{...t[o],disableFormData:!0,rows:i,value:s.length}}}case"MERGE_SERVER_STATE":{let{acceptValues:o,prevStateRef:n,serverState:r}=e,s=aR({acceptValues:o,currentState:t||{},incomingState:r});return n.current=s,s}case"MOVE_ROW":{let{moveFromIndex:o,moveToIndex:n,path:r}=e,{remainingFields:s,rows:i}=Wl(r,t),a=i[o];i.splice(o,1),i.splice(n,0,a);let l=[...t[r]?.rows||[]],c={...l[o]};return l.splice(o,1),l.splice(n,0,c),{...s,...Hl(r,i),[r]:{...t[r],rows:l}}}case"REMOVE":{let o={...t};return o[e.path]&&delete o[e.path],o}case"REMOVE_ROW":{let{path:o,rowIndex:n}=e,{remainingFields:r,rows:s}=Wl(o,t),i=[...t[o]?.rows||[]];return s.splice(n,1),i.splice(n,1),{...r,[o]:{...t[o],disableFormData:s.length>0,rows:i,value:s.length},...Hl(o,s)}}case"REPLACE_ROW":{let{blockType:o,path:n,rowIndex:r,subFieldState:s={}}=e,{remainingFields:i,rows:a}=Wl(n,t),l=Math.max(0,Math.min(r,a?.length-1||0)),c=[...t[n]?.rows||[]];return c[l]={id:new ld().toHexString(),blockType:o||void 0,collapsed:!1},o&&(s.blockType={initialValue:o,valid:!0,value:o}),a[l]=s,{...i,...Hl(n,a),[n]:{...t[n],disableFormData:!0,rows:c,value:a.length}}}case"REPLACE_STATE":{if(e.optimize!==!1){let o={};for(let[n,r]of Object.entries(e.state)){let s=t[n];r.valid!==!1&&(r.valid=!0),r.passesCondition!==!1&&(r.passesCondition=!0),pG(s,r)?s&&(o[n]=s):o[n]=r}return o}if(e.sanitize)for(let o of Object.values(e.state))o.valid!==!1&&(o.valid=!0),o.passesCondition!==!1&&(o.passesCondition=!0);return e.state}case"SET_ALL_ROWS_COLLAPSED":{let{path:o,updatedRows:n}=e;return{...t,[o]:{...t[o],rows:n}}}case"SET_ROW_COLLAPSED":{let{path:o,updatedRows:n}=e;return{...t,[o]:{...t[o],rows:n}}}case"UPDATE":{let o=Object.entries(e).reduce((r,[s,i])=>["disableFormData","errorMessage","initialValue","rows","valid","validate","value"].includes(s)?{...r,[s]:i,...s==="value"?{isModified:!0}:{}}:r,t?.[e.path]||{}),n={...t,[e.path]:o};if("value"in e)for(let[r,s]of Object.entries(n))r!==e.path&&"isModified"in s&&delete n[r].isModified;return n}case"UPDATE_MANY":{let o={...t};return Object.entries(e.formState).forEach(([n,r])=>{o[n]=r}),o}default:return t}}var hG=()=>{},gG=()=>{},bG=()=>{},vG=()=>{},yG=()=>{},CG=()=>{},xG=()=>{},wG=()=>{},SG=()=>{},IG=()=>{},qp={addFieldRow:()=>{},buildRowErrors:()=>{},createFormData:yG,disabled:!1,dispatchFields:bG,fields:{},formRef:null,getData:()=>{},getDataByPath:()=>{},getField:()=>{},getFields:()=>({}),getSiblingData:gG,initializing:void 0,isValid:!0,moveFieldRow:()=>{},removeFieldRow:()=>{},replaceFieldRow:()=>{},replaceState:()=>{},reset:IG,setBackgroundProcessing:wG,setDisabled:()=>{},setIsValid:()=>{},setModified:CG,setProcessing:xG,setSubmitted:SG,submit:hG,validateForm:vG};var EG="form",Ts=t=>{let{id:e,collectionSlug:o,docConfig:n,docPermissions:r,getDocPreferences:s,globalSlug:i}=Te(),a=RG(n),{action:l,beforeSubmit:c,children:u,className:d,disabled:f,disableSuccessStatus:m,disableValidationOnSubmit:p,el:h,handleResponse:g,initialState:b,isDocumentForm:C,isInitializing:y,onChange:v,onSubmit:x,onSuccess:_,redirect:w,submitted:T,uuid:S,waitForAutocomplete:R}=t,D="method"in t?t?.method:void 0,I=_G(),F=Ya(),{code:A}=Ie(),{i18n:k,t:L}=P(),{refreshCookie:N,user:B}=Se(),j=Sr(),{queueTask:E}=ma(),{getFormState:$}=Pt(),{startRouteTransition:M}=Xe(),{getUploadHandler:O}=ad(),{config:G}=H(),[W,U]=ai(f||!1),[z,J]=ai(!1),[Z,X]=ai(!1),[ae,Y]=ai(!0),[ne,Q]=ai(y),[de,ve]=ai(!1),[fe,$e]=ai(!1),Me=ba(fe),Ne=ba(!1),be=Mo(Ce=>{Me.current=Ce,$e(Ce)},[]),[Ve,Ye]=ai(!1),se=Mo(Ce=>{Me.current&&(Ne.current=!0),Ye(Ce)},[]),xe=ba(null),V=ba({}),le=ba(null),q=ba(!0),me=PG(cd,{},()=>b),[pe,re]=me;V.current.fields=pe;let ee=ba(pe),he=Mo(async()=>{let Ce={},nt=!0,Bt=V.current.getData(),ft=Object.entries(V.current.fields).map(async([Rt,vt])=>{let So=vt,Br=Rt?Rt.split("."):[];if(vt.passesCondition!==!1){let pt=So.valid;if("validate"in vt&&typeof vt.validate=="function"){let or=vt.value;vt?.rows&&Array.isArray(vt.rows)&&(or=V.current.getDataByPath(Rt)),pt=await vt.validate(or,{...vt,id:e,collectionSlug:o,blockData:void 0,data:F?.getData?F.getData():Bt,event:"submit",operation:j,path:Br,preferences:{},req:{payload:{config:G},t:L,user:B},siblingData:V.current.getSiblingData(Rt)}),typeof pt=="string"?(So.errorMessage=pt,So.valid=!1):(So.valid=!0,So.errorMessage=void 0)}So.valid===!1&&(nt=!1)}Ce[Rt]=So});return await Promise.all(ft),cR(V.current.fields,Ce)||re({type:"REPLACE_STATE",state:Ce}),Y(nt),nt},[o,G,re,e,j,L,B,F]),te=Mo(async(Ce,nt)=>{let{acceptValues:Bt=!0,action:ft=l,context:Rt,disableFormWhileProcessing:vt=!0,disableSuccessStatus:So,method:Br=D,overrides:pt={},skipValidation:or}=Ce||{},nn=So??m;if(W){nt&&nt.preventDefault();return}let Xo,os,Ri=new Promise((Ht,Io)=>{os=Ht,Xo=Io}),br=ft||typeof l=="string"||typeof l=="function";w||nn||!br?(os=Ht=>oe.success(Ht),Xo=Ht=>oe.error(Ht)):oe.promise(Ri,{error:Ht=>Ht,loading:L("general:submitting"),success:Ht=>Ht}),nt&&(nt.stopPropagation(),nt.preventDefault()),vt&&(ve(!0),U(!0)),R&&await DG(100);let rs=I0(V.current.fields,!0),ns=uR(V.current.fields,{excludeFiles:!0});if(Array.isArray(c)){let Ht;await c.reduce(async(ss,Ec)=>{await ss,Ht=await Ec({formState:ns})},Promise.resolve());let Io=Object.entries(Ht).every(([,ss])=>ss.valid!==!1);if(Y(Io),!Io)return ve(!1),X(!0),U(!1),re({type:"REPLACE_STATE",state:Ht})}let Gs=or||p?!0:await V.current.validateForm();if(Y(Gs),!Gs){Xo(L("error:correctInvalidFields")),ve(!1),X(!0),U(!1);return}let Di={};if(typeof pt=="function"?Di=pt(V.current.fields):typeof pt=="object"&&(Di=pt),x){for(let[Ht,Io]of Object.entries(Di))rs[Ht]=Io;x(V.current.fields,rs)}if(!br){ve(!1),X(!0),U(!1);return}try{let Ht=await V.current.createFormData(Di,{data:rs,mergeOverrideData:typeof pt!="function"}),Io;if(typeof ft=="string"?Io=await Ge[Br.toLowerCase()](ft,{body:Ht,headers:{"Accept-Language":k.language}}):typeof l=="function"&&(Io=await l(Ht)),Ne.current?Ne.current=!1:se(!1),U(!1),typeof g=="function"){g(Io,os,Xo);return}let ss=Io.headers.get("content-type"),Ec=ss&&ss.indexOf("application/json")!==-1,sn={};if(Ec&&(sn=await Io.json()),Io.status<400){if(typeof _=="function"){let Ai=await _(sn,{context:Rt,formState:ns});Ai&&re({type:"MERGE_SERVER_STATE",acceptValues:Bt,prevStateRef:ee,serverState:Ai})}X(!1),ve(!1),w?M(()=>I.push(w)):nn||os(sn.message||L("general:submissionSuccessful"))}else{if(ve(!1),X(!0),pt._status==="draft"&&(se(!0),a||X(!1)),V.current={...V.current},sn.message){Xo(sn.message);return}if(Array.isArray(sn.errors)){let[Nt,Mr]=sn.errors.reduce(([rr,zs],Or)=>{let vr=[],is=[];return Or?.message&&is.push(Or),Array.isArray(Or?.data?.errors)&&Or.data?.errors.forEach(yr=>{yr?.path?vr.push(yr):is.push(yr)}),[[...rr,...vr],[...zs,...is]]},[[],[]]);Y(!1),re({type:"ADD_SERVER_ERRORS",errors:Nt}),Mr.forEach(rr=>{Xo(_n(oR,{errorMessage:rr.message||L("error:unknown")}))});return}let Ai=iR?.[Io.status]||Io?.statusText||L("error:unknown");Xo(Ai)}return{formState:V.current.fields,res:Io}}catch(Ht){console.error("Error submitting form",Ht),ve(!1),X(!0),U(!1),Xo(Ht.message)}},[c,M,l,m,p,W,re,g,D,x,_,w,I,L,k,a,R,se,X]),ge=Mo(()=>V.current.fields,[]),ye=Mo(Ce=>V.current.fields[Ce],[]),rt=Mo(()=>I0(V.current.fields,!0),[]),Be=Mo(Ce=>FG(V.current.fields,Ce),[]),qe=Mo(Ce=>TG(V.current.fields,Ce),[]),wt=Mo(async(Ce,{data:nt,mergeOverrideData:Bt=!0})=>{let ft=nt||I0(V.current.fields,!0),Rt=ft?.file;if(n&&"upload"in n&&n.upload&&Rt){delete ft.file;let Br=O({collectionSlug:o});if(typeof Br=="function"){let pt=Rt.name,or=await Br({file:Rt,updateFilename:nn=>{pt=nn}});Rt=JSON.stringify({clientUploadContext:or,collectionSlug:o,filename:pt,mimeType:Rt.type,size:Rt.size})}}Bt?ft={...ft,...Ce}:ft=Ce;let vt={_payload:JSON.stringify(ft)};return n&&"upload"in n&&n.upload&&Rt&&(vt.file=Rt),(0,dR.serialize)(vt,{indices:!0,nullsAsUndefineds:!1})},[o,n,O]),ro=Mo(async Ce=>{let nt=Dr(le),Bt=await s(),{state:ft}=await $({id:e,collectionSlug:o,data:Ce,docPermissions:r,docPreferences:Bt,globalSlug:i,locale:A,operation:j,renderAllFields:!0,schemaPath:o||i,signal:nt.signal,skipValidation:!0});V.current={...qp},se(!1),re({type:"REPLACE_STATE",state:ft}),le.current=null},[o,re,i,e,j,$,r,s,A,se]),wo=Mo(Ce=>{V.current={...qp},se(!1),re({type:"REPLACE_STATE",state:Ce})},[re,se]),$t=Mo(({blockType:Ce,path:nt,rowIndex:Bt,subFieldState:ft})=>{let Rt=qe(nt)||[],vt=Bt===void 0?Rt.length:Bt;re({type:"ADD_ROW",blockType:Ce,path:nt,rowIndex:vt,subFieldState:ft}),se(!0)},[re,qe,se]),tr=Mo(({moveFromIndex:Ce,moveToIndex:nt,path:Bt})=>{re({type:"MOVE_ROW",moveFromIndex:Ce,moveToIndex:nt,path:Bt}),se(!0)},[re,se]),Re=Mo(({path:Ce,rowIndex:nt})=>{re({type:"REMOVE_ROW",path:Ce,rowIndex:nt}),se(!0)},[re,se]),We=Mo(({blockType:Ce,path:nt,rowIndex:Bt,subFieldState:ft})=>{let Rt=qe(nt),vt=Bt===void 0?Rt.length:Bt;re({type:"REPLACE_ROW",blockType:Ce,path:nt,rowIndex:vt,subFieldState:ft}),se(!0)},[re,qe,se]);ga(()=>{let Ce=le.current;return()=>{Rr(Ce)}},[]),ga(()=>{y!==void 0&&Q(y)},[y]),V.current.submit=te,V.current.getFields=ge,V.current.getField=ye,V.current.getData=rt,V.current.getSiblingData=Be,V.current.getDataByPath=qe,V.current.validateForm=he,V.current.createFormData=wt,V.current.setModified=se,V.current.setProcessing=ve,V.current.setBackgroundProcessing=be,V.current.setSubmitted=X,V.current.setIsValid=Y,V.current.disabled=W,V.current.setDisabled=U,V.current.formRef=xe,V.current.reset=ro,V.current.replaceState=wo,V.current.dispatchFields=re,V.current.addFieldRow=$t,V.current.removeFieldRow=Re,V.current.moveFieldRow=tr,V.current.replaceFieldRow=We,V.current.uuid=S,V.current.initializing=ne,V.current.isValid=ae,ga(()=>{J(!0)},[]),ga(()=>{typeof f=="boolean"&&U(f)},[f]),ga(()=>{typeof T=="boolean"&&X(T)},[T]),ga(()=>{b&&(V.current={...qp},re({type:"REPLACE_STATE",optimize:!1,sanitize:!0,state:b}))},[b,re]),Hi(()=>{N()},15e3,[pe]);let ce=Je(()=>{V.current={...V.current},se(!1)});ga(()=>{ce()},[A]);let Le=[d,EG].filter(Boolean).join(" "),je=Je(Ce=>{E(async()=>{if(Array.isArray(v)){let nt;for(let Bt of v)nt=await Bt({formState:uR(pe,{excludeFiles:!0}),submitted:Ce});re({type:"MERGE_SERVER_STATE",prevStateRef:ee,serverState:nt})}})});w0(()=>{(q.current||!cR(pe,ee.current))&&Ve&&je(Z),ee.current=pe,q.current=!1},[Ve,Z,pe],250);let Ke=C?Bm:AG.Fragment,ct=C?{value:V.current}:{};return _n(h||"form",{action:typeof l=="function"?void 0:l,className:Le,method:D,noValidate:!0,onSubmit:Ce=>void V.current.submit({},Ce),ref:xe,children:_n(Ke,{...ct,children:_n($m,{value:V.current,children:_n(Mm,{value:{fields:pe,...V.current},children:_n(Om,{value:Z,children:_n(db,{value:!z||z&&ne,children:_n(Vm,{value:de,children:_n(ub,{value:fe,children:_n(Gm,{value:Ve,children:_n(Bc.Provider,{value:me,children:u})})})})})})})})})})};import{c as NG}from"react/compiler-runtime";import{jsx as mR,jsxs as fR}from"react/jsx-runtime";import{getTranslation as LG}from"@payloadcms/translations";import{tabHasName as pR}from"payload/shared";import kG,{useState as jG}from"react";var Qp="tabs-field__tab-button",_0=t=>{let e=NG(12),{hidden:o,isActive:n,parentPath:r,setIsActive:s,tab:i}=t,{i18n:a}=P(),[l,c]=jG(void 0),u;if(e[0]!==l||e[1]!==o||e[2]!==a||e[3]!==n||e[4]!==r||e[5]!==s||e[6]!==i){let d=[...r?r.split(".").slice(0,-1):[],...pR(i)?[i.name]:[]],f=l>0,m=mR(Ki,{fields:i.fields,path:d,setErrorCount:c}),p=f&&`${Qp}--has-error`,h=n&&`${Qp}--active`,g=o&&`${Qp}--hidden`,b;e[8]!==p||e[9]!==h||e[10]!==g?(b=[Qp,p,h,g].filter(Boolean),e[8]=p,e[9]=h,e[10]=g,e[11]=b):b=e[11],u=fR(kG.Fragment,{children:[m,fR("button",{className:b.join(" "),onClick:s,type:"button",children:[i.label?LG(i.label,a):pR(i)?i.name:"",f&&mR(_o,{count:l,i18n:a})]})]}),e[0]=l,e[1]=o,e[2]=a,e[3]=n,e[4]=r,e[5]=s,e[6]=i,e[7]=u}else u=e[7];return u};var Rs="tabs-field";var VG=t=>{let e=gR(43),{field:o,forceRender:n,indexPath:r,parentPath:s,parentSchemaPath:i,path:a,permissions:l,readOnly:c,schemaPath:u}=t,{admin:d,tabs:f}=o,m;e[0]!==d?(m=d===void 0?{}:d,e[0]=d,e[1]=m):m=e[1];let{className:p}=m,h;e[2]!==f?(h=f===void 0?[]:f,e[2]=f,e[3]=h):h=e[3];let g=h,b=n===void 0?!1:n,C=r===void 0?"":r,y=s===void 0?"":s,v=i===void 0?"":i,x=a===void 0?"":a,_=u===void 0?"":u,{getPreference:w,setPreference:T}=so(),{preferencesKey:S}=Te(),{i18n:R}=P(),{isWithinCollapsible:D}=Qs(),I;e[4]!==g?(I=ne=>{let[Q]=ne;return g.map((de,ve)=>{let fe=de?.id;return{index:ve,passesCondition:Q?.[fe]?.passesCondition??!0,tab:de}})},e[4]=g,e[5]=I):I=e[5];let F=Mt(I),A;e[6]!==F?(A=()=>F.filter(zG)?.[0]?.index??0,e[6]=F,e[7]=A):A=e[7];let[k,L]=OG(A),N=`tabs-${C}`,B=F[k],j=B?.tab,E=j.admin?.description??j.description,$=typeof E=="function"?E({i18n:R,t:R.t}):E,M=F.some(WG),O;e[8]!==w||e[9]!==x||e[10]!==S||e[11]!==T||e[12]!==N?(O=async ne=>{L(ne);let Q=await w(S);S&&T(S,{...Q,...x?{fields:{...Q?.fields||{},[x]:{...Q?.fields?.[x],tabIndex:ne}}}:{fields:{...Q?.fields,[N]:{...Q?.fields?.[N],tabIndex:ne}}}})},e[8]=w,e[9]=x,e[10]=S,e[11]=T,e[12]=N,e[13]=O):O=e[13];let G=O,W;e[14]!==w||e[15]!==x||e[16]!==S||e[17]!==N?(W=()=>{S&&(async()=>{let Q=await w(S),ve=(x?Q?.fields?.[x]?.tabIndex:Q?.fields?.[N]?.tabIndex)||0;L(ve)})()},e[14]=w,e[15]=x,e[16]=S,e[17]=N,e[18]=W):W=e[18];let U;e[19]!==w||e[20]!==y||e[21]!==v||e[22]!==x||e[23]!==S||e[24]!==g||e[25]!==N?(U=[x,w,S,N,g,y,v],e[19]=w,e[20]=y,e[21]=v,e[22]=x,e[23]=S,e[24]=g,e[25]=N,e[26]=U):U=e[26],hR(W,U);let z;e[27]!==B?.passesCondition||e[28]!==G||e[29]!==F?(z=()=>{if(B?.passesCondition===!1){let ne=F.find(HG);ne&&G(ne.index)}},e[27]=B?.passesCondition,e[28]=G,e[29]=F,e[30]=z):z=e[30];let J;e[31]!==B||e[32]!==G||e[33]!==F?(J=[B,F,G],e[31]=B,e[32]=G,e[33]=F,e[34]=J):J=e[34],hR(z,J);let Z=D&&`${Rs}--within-collapsible`,X=!M&&`${Rs}--hidden`,ae;e[35]!==p||e[36]!==Z||e[37]!==X?(ae=[Ae,p,Rs,Z,X].filter(Boolean),e[35]=p,e[36]=Z,e[37]=X,e[38]=ae):ae=e[38];let Y;return e[39]!==k||e[40]!==G||e[41]!==x?(Y=ne=>{let{index:Q,passesCondition:de,tab:ve}=ne;return Fs(_0,{hidden:!de,isActive:k===Q,parentPath:x,setIsActive:()=>{G(Q)},tab:ve},Q)},e[39]=k,e[40]=G,e[41]=x,e[42]=Y):Y=e[42],Fs("div",{className:ae.join(" "),children:bR(Iv,{children:[Fs("div",{className:`${Rs}__tabs-wrap`,children:Fs("div",{className:`${Rs}__tabs`,children:F.map(Y)})}),Fs("div",{className:`${Rs}__content-wrap`,children:j&&Fs(GG,{description:$,field:j,forceRender:b,hidden:!1,parentIndexPath:C,parentPath:x,parentSchemaPath:_,path:x,permissions:l&&typeof l=="object"&&"name"in j?l[j.name]&&typeof l[j.name]=="object"&&"fields"in l[j.name]?l[j.name].fields:l[j.name]:l,readOnly:c,tabIndex:k})})]})})},ud=ze(VG);function GG(t){let e=gR(21),{description:o,field:n,forceRender:r,hidden:s,label:i,parentIndexPath:a,parentPath:l,parentSchemaPath:c,permissions:u,readOnly:d,tabIndex:f}=t,{i18n:m}=P(),{customComponents:p}=Fe(),h,g;if(e[0]!==o||e[1]!==n||e[2]!==r||e[3]!==s||e[4]!==m||e[5]!==i||e[6]!==a||e[7]!==l||e[8]!==c||e[9]!==u||e[10]!==d||e[11]!==p||e[12]!==f){g=Symbol.for("react.early_return_sentinel");e:{let{AfterInput:b,BeforeInput:C,Description:y,Field:v}=p===void 0?{}:p;if(v){g=v;break e}let{indexPath:x,path:_,schemaPath:w}=BG({field:n,index:f,parentIndexPath:a,parentPath:l,parentSchemaPath:c}),T=s&&`${Rs}__tab--hidden`,S;e[15]!==m||e[16]!==i?(S=i&&`${Rs}__tabConfigLabel-${MG($G(i,m))}`,e[15]=m,e[16]=i,e[17]=S):S=e[17];let R;e[18]!==T||e[19]!==S?(R=[T,`${Rs}__tab`,S].filter(Boolean),e[18]=T,e[19]=S,e[20]=R):R=e[20],h=bR("div",{className:R.join(" "),children:[Fs(ue,{CustomComponent:y,Fallback:Fs(Ue,{description:o,marginPlacement:"bottom",path:l})}),C,Fs(ko,{fields:n.fields,forceRender:r,parentIndexPath:x,parentPath:_,parentSchemaPath:w,permissions:u,readOnly:d}),b]})}e[0]=o,e[1]=n,e[2]=r,e[3]=s,e[4]=m,e[5]=i,e[6]=a,e[7]=l,e[8]=c,e[9]=u,e[10]=d,e[11]=p,e[12]=f,e[13]=h,e[14]=g}else h=e[13],g=e[14];return g!==Symbol.for("react.early_return_sentinel")?g:h}function zG(t){let{passesCondition:e}=t;return e}function WG(t){let{passesCondition:e}=t;return e}function HG(t){let{passesCondition:e}=t;return e}import{jsx as JG}from"react/jsx-runtime";import{useCallback as yR,useEffect as qG,useMemo as QG,useState as KG}from"react";import{c as UG}from"react/compiler-runtime";import{jsx as li,jsxs as vR}from"react/jsx-runtime";import{getTranslation as XG}from"@payloadcms/translations";import"react";var dd=t=>{let e=UG(32),{AfterInput:o,BeforeInput:n,className:r,Description:s,description:i,Error:a,hasMany:l,htmlAttributes:c,inputRef:u,Label:d,label:f,localized:m,maxRows:p,onChange:h,onKeyDown:g,path:b,placeholder:C,readOnly:y,required:v,rtl:x,showError:_,style:w,value:T,valueToRender:S}=t,{i18n:R,t:D}=P(),I=YG,F;if(e[0]!==o||e[1]!==n||e[2]!==s||e[3]!==a||e[4]!==d||e[5]!==r||e[6]!==i||e[7]!==l||e[8]!==c||e[9]!==R||e[10]!==u||e[11]!==f||e[12]!==m||e[13]!==p||e[14]!==h||e[15]!==g||e[16]!==b||e[17]!==C||e[18]!==y||e[19]!==v||e[20]!==x||e[21]!==_||e[22]!==w||e[23]!==D||e[24]!==T||e[25]!==S){let A=XG(C,R),k=_&&"error",L=y&&"read-only",N=l&&"has-many",B;e[27]!==r||e[28]!==k||e[29]!==L||e[30]!==N?(B=[Ae,"text",r,k,L,N].filter(Boolean),e[27]=r,e[28]=k,e[29]=L,e[30]=N,e[31]=B):B=e[31],F=vR("div",{className:B.join(" "),style:w,children:[li(ue,{CustomComponent:d,Fallback:li(_e,{label:f,localized:m,path:b,required:v})}),vR("div",{className:`${Ae}__wrap`,children:[li(ue,{CustomComponent:a,Fallback:li(Ze,{path:b,showError:_})}),n,l?li(gt,{className:`field-${b.replace(/\./g,"__")}`,components:{DropdownIndicator:null},customProps:{editableProps:I},disabled:y,filterOption:()=>p?!(Array.isArray(T)&&p&&T.length>=p):!0,isClearable:!1,isCreatable:!0,isMulti:!0,isSortable:!0,menuIsOpen:!1,noOptionsMessage:()=>Array.isArray(T)&&T.length>=p?D("validation:limitReached",{max:p,value:T.length+1}):null,onChange:h,options:[],placeholder:A,showError:_,value:S}):li("input",{"data-rtl":x,disabled:y,id:`field-${b?.replace(/\./g,"__")}`,name:b,onChange:h,onKeyDown:g,placeholder:A,ref:u,type:"text",value:T||"",...c??{}}),o,li(ue,{CustomComponent:s,Fallback:li(Ue,{description:i,path:b})})]})]}),e[0]=o,e[1]=n,e[2]=s,e[3]=a,e[4]=d,e[5]=r,e[6]=i,e[7]=l,e[8]=c,e[9]=R,e[10]=u,e[11]=f,e[12]=m,e[13]=p,e[14]=h,e[15]=g,e[16]=b,e[17]=C,e[18]=y,e[19]=v,e[20]=x,e[21]=_,e[22]=w,e[23]=D,e[24]=T,e[25]=S,e[26]=F}else F=e[26];return F};function ZG(t){t.currentTarget.contentEditable="false"}function YG(t,e,o){let n=`${e}--editable`;return{onBlur:ZG,onClick:r=>{r.currentTarget.contentEditable="true",r.currentTarget.classList.add(n),r.currentTarget.focus()},onKeyDown:r=>{if(!r.nativeEvent.isComposing&&(r.key==="Enter"||r.key==="Tab"||r.key==="Escape")){if(r.currentTarget.contentEditable="false",r.currentTarget.classList.remove(n),t.value.value=r.currentTarget.innerText,t.label=r.currentTarget.innerText,t.value.value.replaceAll(`
`,""))o.onChange(o.value,{action:"create-option",option:t});else if(Array.isArray(o.value)){let s=o.value.filter(i=>i.id!==t.id);o.onChange(s,{action:"pop-value",removedValue:t})}r.preventDefault()}r.stopPropagation()}}}var ez=t=>{let{field:e,field:{admin:{autoComplete:o,className:n,description:r,placeholder:s,rtl:i}={},hasMany:a,label:l,localized:c,maxLength:u,maxRows:d,minLength:f,minRows:m,required:p},inputRef:h,path:g,readOnly:b,validate:C}=t,y=Ie(),{config:{localization:v}}=H(),x=yR(($,M)=>{if(typeof C=="function")return C($,{...M,maxLength:u,minLength:f,required:p})},[C,f,u,p]),{customComponents:{AfterInput:_,BeforeInput:w,Description:T,Error:S,Label:R}={},disabled:D,path:I,setValue:F,showError:A,value:k}=Fe({potentiallyStalePath:g,validate:x}),L=pl({fieldLocalized:c,fieldRTL:i,locale:y,localizationConfig:v||void 0}),[N,B]=KG([]),j=yR($=>{if(!(b||D)){let M;$?Array.isArray($)?M=$.map(O=>O.value?.value||O.value):M=[$.value?.value||$.value]:M=[],F(M)}},[b,F,D]);qG(()=>{a&&Array.isArray(k)&&B(k.map(($,M)=>({id:`${$}${M}`,label:`${$}`,value:{toString:()=>`${$}${M}`,value:$?.value||$}})))},[k,a]);let E=QG(()=>Qe(e),[e]);return JG(dd,{AfterInput:_,BeforeInput:w,className:n,Description:T,description:r,Error:S,hasMany:a,htmlAttributes:{autoComplete:o||void 0},inputRef:h,Label:R,label:l,localized:c,maxRows:d,minRows:m,onChange:a?j:$=>{F($.target.value)},path:I,placeholder:s,readOnly:b||D,required:p,rtl:L,showError:A,style:E,value:k||"",valueToRender:N})},va=ze(ez);import{jsx as rz}from"react/jsx-runtime";import{getTranslation as nz}from"@payloadcms/translations";import{useCallback as sz,useMemo as iz}from"react";import{c as tz}from"react/compiler-runtime";import{jsx as ci,jsxs as CR}from"react/jsx-runtime";import{getTranslation as oz}from"@payloadcms/translations";import"react";var T0=t=>{let e=tz(26),{AfterInput:o,BeforeInput:n,className:r,Description:s,description:i,Error:a,Label:l,label:c,localized:u,onChange:d,path:f,placeholder:m,readOnly:p,required:h,rows:g,rtl:b,showError:C,style:y,value:v}=t,{i18n:x}=P(),_=C&&"error",w=p&&"read-only",T;e[0]!==r||e[1]!==_||e[2]!==w?(T=[Ae,"textarea",r,_,w].filter(Boolean),e[0]=r,e[1]=_,e[2]=w,e[3]=T):T=e[3];let S=T.join(" "),R=`field-${f.replace(/\./g,"__")}`,D;return e[4]!==o||e[5]!==n||e[6]!==s||e[7]!==a||e[8]!==l||e[9]!==i||e[10]!==x||e[11]!==c||e[12]!==u||e[13]!==d||e[14]!==f||e[15]!==m||e[16]!==p||e[17]!==h||e[18]!==g||e[19]!==b||e[20]!==C||e[21]!==y||e[22]!==S||e[23]!==R||e[24]!==v?(D=CR("div",{className:S,style:y,children:[ci(ue,{CustomComponent:l,Fallback:ci(_e,{htmlFor:R,label:c,localized:u,path:f,required:h})}),CR("div",{className:`${Ae}__wrap`,children:[ci(ue,{CustomComponent:a,Fallback:ci(Ze,{path:f,showError:C})}),n,ci("div",{className:"textarea-outer",children:ci("textarea",{"data-rtl":b,disabled:p,id:`field-${f.replace(/\./g,"__")}`,name:f,onChange:d,placeholder:oz(m,x),rows:g,style:{"--rows":g},value:v||""})}),o,ci(ue,{CustomComponent:s,Fallback:ci(Ue,{description:i,path:f})})]})]}),e[4]=o,e[5]=n,e[6]=s,e[7]=a,e[8]=l,e[9]=i,e[10]=x,e[11]=c,e[12]=u,e[13]=d,e[14]=f,e[15]=m,e[16]=p,e[17]=h,e[18]=g,e[19]=b,e[20]=C,e[21]=y,e[22]=S,e[23]=R,e[24]=v,e[25]=D):D=e[25],D};var az=t=>{let{field:e,field:{admin:{className:o,description:n,placeholder:r,rows:s,rtl:i}={},label:a,localized:l,maxLength:c,minLength:u,required:d},path:f,readOnly:m,validate:p}=t,{i18n:h}=P(),{config:{localization:g}}=H(),b=Ie(),C=pl({fieldLocalized:l,fieldRTL:i,locale:b,localizationConfig:g||void 0}),y=sz((k,L)=>{if(typeof p=="function")return p(k,{...L,maxLength:c,minLength:u,required:d})},[p,d,c,u]),{customComponents:{AfterInput:v,BeforeInput:x,Description:_,Error:w,Label:T}={},disabled:S,path:R,setValue:D,showError:I,value:F}=Fe({potentiallyStalePath:f,validate:y}),A=iz(()=>Qe(e),[e]);return rz(T0,{AfterInput:v,BeforeInput:x,className:o,Description:_,description:n,Error:w,Label:T,label:a,localized:l,onChange:k=>{D(k.target.value)},path:R,placeholder:nz(r,h),readOnly:m||S,required:d,rows:s,rtl:C,showError:I,style:A,value:F})},md=ze(az);var fd=()=>null;import{jsx as eA}from"react/jsx-runtime";import tA,{useMemo as GH}from"react";import{c as zD}from"react/compiler-runtime";import{jsx as As,jsxs as CH}from"react/jsx-runtime";import{validateMimeType as xH}from"payload/shared";import Nr,{useEffect as wH}from"react";import{c as lz}from"react/compiler-runtime";import{jsx as cz}from"react/jsx-runtime";import{createContext as uz,use as dz,useState as F0}from"react";var xR=uz(void 0),Ul=t=>{let e=lz(5),{children:o}=t,[n,r]=F0(null),[s,i]=F0(""),[a,l]=F0(null),c;return e[0]!==o||e[1]!==a||e[2]!==n||e[3]!==s?(c=cz(xR,{value:{setUploadControlFile:l,setUploadControlFileName:r,setUploadControlFileUrl:i,uploadControlFile:a,uploadControlFileName:n,uploadControlFileUrl:s},children:o}),e[0]=o,e[1]=a,e[2]=n,e[3]=s,e[4]=c):c=e[4],c},R0=()=>{let t=dz(xR);if(!t)throw new Error("useUploadControls must be used within an UploadControlsProvider");return t};import{jsx as eh,jsxs as D0}from"react/jsx-runtime";import vz from"react";import{jsx as mz}from"react/jsx-runtime";import ui from"react";var wR=t=>{t.preventDefault(),t.stopPropagation()},fz="dropzone";function ya({children:t,className:e,disabled:o=!1,dropzoneStyle:n="default",multipleFiles:r,onChange:s}){let i=ui.useRef(null),[a,l]=ui.useState(!1),c=ui.useCallback(h=>{if(!r&&h.length>1){let g=new DataTransfer;g.items.add(h[0]),s(g.files)}else s(h)},[r,s]),u=ui.useCallback(h=>{h.preventDefault(),h.stopPropagation(),h.clipboardData.files&&h.clipboardData.files.length>0&&c(h.clipboardData.files)},[c]),d=ui.useCallback(h=>{h.preventDefault(),h.stopPropagation(),l(!0)},[]),f=ui.useCallback(h=>{h.preventDefault(),h.stopPropagation(),l(!1)},[]),m=ui.useCallback(h=>{h.preventDefault(),h.stopPropagation(),l(!1),h.dataTransfer.files&&h.dataTransfer.files.length>0&&(c(h.dataTransfer.files),l(!1),h.dataTransfer.clearData())},[c]);ui.useEffect(()=>{let h=i.current;return h&&!o?(h.addEventListener("dragenter",d),h.addEventListener("dragleave",f),h.addEventListener("dragover",wR),h.addEventListener("drop",m),h.addEventListener("paste",u),()=>{h.removeEventListener("dragenter",d),h.removeEventListener("dragleave",f),h.removeEventListener("dragover",wR),h.removeEventListener("drop",m),h.removeEventListener("paste",u)}):()=>null},[o,d,f,m,u]);let p=[fz,e,a?"dragging":"",`dropzoneStyle--${n}`].filter(Boolean).join(" ");return mz("div",{className:p,ref:i,children:t})}import{jsx as IR,jsxs as gz}from"react/jsx-runtime";import"react";import{c as pz}from"react/compiler-runtime";import{jsx as SR}from"react/jsx-runtime";import"react";var hz="drawer-close-button";function Kp(t){let e=pz(3),{onClick:o}=t,{t:n}=P(),r;return e[0]!==o||e[1]!==n?(r=SR("button",{"aria-label":n("general:close"),className:hz,onClick:o,type:"button",children:SR(yt,{})}),e[0]=o,e[1]=n,e[2]=r):r=e[2],r}var bz="bulk-upload--drawer-header";function di({onClose:t,title:e}){return gz("div",{className:bz,children:[IR("h2",{title:e,children:e}),IR(Kp,{onClick:t})]})}var th="bulk-upload--add-files";function oh({acceptMimeTypes:t,onCancel:e,onDrop:o}){let{t:n}=P(),r=vz.useRef(null);return D0("div",{className:th,children:[eh(di,{onClose:e,title:n("upload:addFiles")}),eh("div",{className:`${th}__dropArea`,children:D0(ya,{multipleFiles:!0,onChange:o,children:[eh(K,{buttonStyle:"subtle",iconPosition:"left",onClick:()=>{r.current&&r.current.click()},size:"small",children:n("upload:selectFile")}),eh("input",{accept:t,"aria-hidden":"true",className:`${th}__hidden-input`,hidden:!0,multiple:!0,onChange:s=>{s.target.files&&s.target.files.length>0&&o(s.target.files)},ref:r,type:"file"}),D0("p",{className:`${th}__dragAndDropText`,children:[n("general:or")," ",n("upload:dragAndDrop")]})]})})]})}import{c as bH}from"react/compiler-runtime";import{jsx as Ed,jsxs as X0}from"react/jsx-runtime";import{getTranslation as vH}from"@payloadcms/translations";import{reduceFieldsToValues as yH}from"payload/shared";import"react";import{c as MR}from"react/compiler-runtime";import{jsx as Tn,jsxs as hd}from"react/jsx-runtime";import"react";import{c as $z}from"react/compiler-runtime";import{jsx as ah,jsxs as Bz}from"react/jsx-runtime";import"react";import{jsx as Cz,jsxs as xz}from"react/jsx-runtime";import{formatAdminURL as wz}from"payload/shared";import*as rh from"qs-esm";import _t from"react";var _R=Pi(C0(),1);import{reduceFieldsToValues as yz}from"payload/shared";async function TR(t={},e={},o,n){let r=yz(t,!0),s=r?.file;if(s&&delete r.file,s&&typeof n=="function"){let l=s.name,c=await n({file:s,updateFilename:u=>{l=u}});s=JSON.stringify({clientUploadContext:c,collectionSlug:o,filename:l,mimeType:s.type,size:s.size})}let i={...r,...e},a={_payload:JSON.stringify(i),file:s};return(0,_R.serialize)(a,{indices:!0,nullsAsUndefineds:!1})}function FR(t,e){switch(e.type){case"ADD_FORMS":{let o=[];for(let n=0;n<e.forms.length;n++)o[n]={errorCount:0,formID:e.forms[n].formID??(crypto.randomUUID?crypto.randomUUID():gn()),formState:{...e.forms[n].initialState||{},file:{initialValue:e.forms[n].file,valid:!0,value:e.forms[n].file}},uploadEdits:{}};return{...t,activeIndex:0,forms:[...o,...t.forms]}}case"REMOVE_FORM":{let o=[...t.forms],[n]=o.splice(e.index,1),r=t.activeIndex>=e.index,s=t.activeIndex===e.index?e.index:r?t.activeIndex-1:t.activeIndex,i=Math.min(o.length-1,s);return{...t,activeIndex:r?i:t.activeIndex,forms:o,totalErrorCount:t.totalErrorCount-n.errorCount}}case"REPLACE":return{...t,...e.state};case"SET_ACTIVE_INDEX":return{...t,activeIndex:e.index};case"UPDATE_ERROR_COUNT":{let o=[...t.forms];return o[e.index].errorCount=e.count,{...t,forms:o,totalErrorCount:o.reduce((n,r)=>n+r.errorCount,0)}}case"UPDATE_FORM":{let o=[...t.forms];return o[e.index].errorCount=e.errorCount,o[e.index]={...o[e.index],formState:{...o[e.index].formState,...e.formState},uploadEdits:{...o[e.index].uploadEdits,...e.uploadEdits}},{...t,forms:o,totalErrorCount:o.reduce((n,r)=>n+r.errorCount,0)}}default:return t}}var RR=_t.createContext({activeIndex:0,addFiles:()=>Promise.resolve(),bulkUpdateForm:()=>null,collectionSlug:"",docPermissions:void 0,documentSlots:{},forms:[],getFormDataRef:{current:()=>({})},hasPublishPermission:!1,hasSavePermission:!1,hasSubmitted:!1,isInitializing:!1,removeFile:()=>{},saveAllDocs:()=>Promise.resolve(),setActiveIndex:()=>0,setFormTotalErrorCount:()=>{},totalErrorCount:0,updateUploadEdits:()=>{}}),Sz={activeIndex:0,forms:[],totalErrorCount:0};function DR({children:t}){let{config:e}=H(),{routes:{api:o}}=e,{code:n}=Ie(),{i18n:r,t:s}=P(),{getDocumentSlots:i,getFormState:a}=Pt(),{getUploadHandler:l}=ad(),[c,u]=_t.useState({}),[d,f]=_t.useState(!1),[m,p]=_t.useState(),[h,g]=_t.useState(!1),[b,C]=_t.useState(!1),[y,v]=_t.useState(!1),[x,_]=_t.useState(!1),[w,T]=_t.useState(!1),[S,R]=_t.useReducer(FR,Sz),{activeIndex:D,forms:I,totalErrorCount:F}=S,A=_t.useRef(I);A.current=I;let{toggleLoadingOverlay:k}=_p(),{closeModal:L}=ie(),{collectionSlug:N,drawerSlug:B,initialFiles:j,initialForms:E,onSuccess:$,setInitialFiles:M,setInitialForms:O,setSuccessfullyUploaded:G}=Vo(),[W,U]=_t.useState(!1),[z,J]=_t.useState(""),Z=_t.useRef(!1),X=_t.useRef(null),ae=_t.useRef(()=>({})),Y=wz({apiRoute:o,path:""}),ne=`${Y}/${N}`,Q=_t.useCallback(async()=>{let V={locale:n||void 0},le=`/${N}/access`,me=await(await fetch(`${Y}${le}?${rh.stringify(V)}`,{credentials:"include",headers:{"Accept-Language":r.language,"Content-Type":"application/json"},method:"post"})).json(),pe=await fetch(`${Y}${le}?${rh.stringify(V)}`,{body:JSON.stringify({_status:"published"}),credentials:"include",headers:{"Accept-Language":r.language,"Content-Type":"application/json"},method:"POST"}).then(re=>re.json());p(me),g(eu({collectionSlug:N,docPermissions:me,isEditing:!1})),C(pe?.update),_(!0)},[Y,n,N,r.language]),de=_t.useCallback(async V=>{V?.signal&&V.abort("aborting previous fetch for initial form state without files");let le=await i({collectionSlug:N});u(le);try{let{state:q}=await a({collectionSlug:N,docPermissions:m,docPreferences:{fields:{}},locale:n,operation:"create",renderAllFields:!0,schemaPath:N,skipValidation:!0});X.current=q,v(!0)}catch{}},[i,N,a,m,n]),ve=_t.useCallback(V=>{let le=ae.current();R({type:"REPLACE",state:{activeIndex:V,forms:I.map((q,me)=>me===D?{errorCount:q.errorCount,formID:q.formID,formState:le,uploadEdits:q.uploadEdits}:q)}})},[I,D]),fe=_t.useCallback(async V=>{I.length&&R({type:"UPDATE_FORM",errorCount:I[D].errorCount,formState:ae.current(),index:D}),k({isLoading:!0,key:"addingDocs"}),y||await de(),R({type:"ADD_FORMS",forms:Array.from(V).map(le=>({file:le,initialState:X.current}))}),k({isLoading:!1,key:"addingDocs"})},[de,y,k,D,I]),$e=Je(fe),Me=Je(async V=>{k({isLoading:!0,key:"addingDocs"}),y||await de(),R({type:"ADD_FORMS",forms:V.map(le=>({...le,initialState:le?.initialState||X.current}))}),k({isLoading:!1,key:"addingDocs"})}),Ne=_t.useCallback(V=>{R({type:"REMOVE_FORM",index:V})},[]),be=_t.useCallback(({errorCount:V,index:le})=>{R({type:"UPDATE_ERROR_COUNT",count:V,index:le})},[]),Ve=_t.useCallback(async({overrides:V}={})=>{let le=ae.current(),q=[...I];q[D]={errorCount:q[D].errorCount,formID:q[D].formID,formState:le,uploadEdits:q[D].uploadEdits};let me=q[D]?.formID,pe=[];U(!0);for(let te=0;te<q.length;te++)try{let ge=q[te],ye=ge.formState?.file?.value;J(s("general:uploadingBulk",{current:te+1,total:q.length}));let rt=`${ne}${rh.stringify({locale:n,uploadEdits:ge?.uploadEdits||void 0},{addQueryPrefix:!0})}`,Be=await fetch(rt,{body:await TR(ge.formState,V,N,l({collectionSlug:N})),credentials:"include",method:"POST"}),qe=await Be.json();Be.status===201&&qe?.doc&&pe.push({collectionSlug:N,doc:qe.doc,formID:ge.formID});let[wt,ro]=(qe?.errors||[]).reduce(([Re,We],ce)=>{let Le=[],je=[];return ce?.message&&je.push(ce),Array.isArray(ce?.data?.errors)&&ce.data?.errors.forEach(Ke=>{Ke?.path?Le.push(Ke):je.push(Ke)}),[[...Re,...Le],[...We,...je]]},[[],[]]),wo=!ye&&Be.status===400,$t=ye&&Be.status===413,tr=ye&&typeof ye=="object"&&"name"in ye&&(!ye.name||ye.name==="");if(wo||$t||tr){q[te].formState.file.valid=!1;let{state:Re}=await a({collectionSlug:N,docPermissions:m,docPreferences:null,formState:q[te].formState,operation:"update",schemaPath:N});q[te]={errorCount:Object.values(Re).reduce((We,ce)=>ce?.valid===!1?We+1:We,0),formID:q[te].formID,formState:Re},oe.error(ro[0]?.message)}else q[te]={errorCount:wt.length,formID:q[te].formID,formState:cd(q[te].formState,{type:"ADD_SERVER_ERRORS",errors:wt})}}catch{}f(!0),J(""),U(!1);let re=[];q.forEach(({errorCount:te},ge)=>{te&&re.push(q[ge])});let ee=Math.max(0,q.length-re.length),he=q.length-ee;ee&&(oe.success(`Successfully saved ${ee} files`),G(!0),typeof $=="function"&&$(pe,he)),he?oe.error(`Failed to save ${he} files`):L(B),R({type:"REPLACE",state:{activeIndex:re.reduce((te,{formID:ge},ye)=>ge===me?ye:te,0),forms:re,totalErrorCount:re.reduce((te,{errorCount:ge})=>te+ge,0)}}),re.length===0&&(M(void 0),O(void 0))},[I,D,s,ne,n,N,l,a,m,G,$,L,B,M,O]),Ye=_t.useCallback(async(V,le)=>{for(let q=0;q<I.length;q++)if(Object.entries(V).forEach(([me,pe])=>{I[q].formState[me]&&(I[q].formState[me].value=pe,R({type:"UPDATE_FORM",errorCount:I[q].errorCount,formState:I[q].formState,index:q}))}),typeof le=="function"&&le(),d){let{state:me}=await a({collectionSlug:N,docPermissions:m,docPreferences:null,formState:I[q].formState,operation:"create",schemaPath:N}),pe=Object.values(me).reduce((re,ee)=>ee?.valid===!1?re+1:re,0);R({type:"UPDATE_FORM",errorCount:pe,formState:me,index:q})}},[N,m,I,a,d]),se=_t.useCallback(V=>{R({type:"UPDATE_FORM",errorCount:I[D].errorCount,formState:I[D].formState,index:D,uploadEdits:V})},[D,I]),xe=_t.useCallback(()=>{R({type:"REPLACE",state:{forms:I.map(V=>({...V,uploadEdits:{}}))}})},[I]);return _t.useEffect(()=>{N&&(y||de(),x||Q(),(j||E)&&T(!y||!x),y&&(E?.length||j?.length)&&!Z.current&&(E?.length&&Me(E),j?.length&&$e(j),Z.current=!0))},[j,de,Q,N,y,x,E]),xz(RR,{value:{activeIndex:S.activeIndex,addFiles:fe,bulkUpdateForm:Ye,collectionSlug:N,docPermissions:m,documentSlots:c,forms:I,getFormDataRef:ae,hasPublishPermission:b,hasSavePermission:h,hasSubmitted:d,isInitializing:w,removeFile:Ne,resetUploadEdits:xe,saveAllDocs:Ve,setActiveIndex:ve,setFormTotalErrorCount:be,totalErrorCount:F,updateUploadEdits:se},children:[W&&Cz(xn,{animationDuration:"250ms",loadingText:z,overlayType:"fullscreen",show:!0}),t]})}function Oo(){return _t.use(RR)}import{jsx as Qr,jsxs as A0}from"react/jsx-runtime";import{getTranslation as Nz}from"@payloadcms/translations";import{unflatten as kR}from"payload/shared";import Lz,{useCallback as P0,useEffect as kz,useMemo as jz,useState as jR}from"react";import{c as Rz}from"react/compiler-runtime";import{jsx as LR,jsxs as Dz}from"react/jsx-runtime";import{useState as Az}from"react";var AR=t=>{let e=["file","mimeType","thumbnailURL","width","height","filesize","filename","url","focalX","focalY","sizes"];return t.filter(o=>!e.includes("name"in o&&o.name))};import{fieldAffectsData as Iz,fieldHasSubFields as _z,fieldIsHiddenOrDisabled as Tz,getFieldPermissions as Fz}from"payload/shared";import{fieldAffectsData as PR}from"payload/shared";var Xl=(t,e)=>t?PR(e)&&e.name?`${t}.${e.name}`:t:PR(e)?e.name:"";import{jsx as nh,jsxs as ER}from"react/jsx-runtime";import{Fragment as NR}from"react";var pd=({CustomLabel:t,field:e,prefix:o})=>ER(NR,{children:[o?ER(NR,{children:[nh("span",{style:{display:"inline-block"},children:o})," > "]}):null,nh("span",{style:{display:"inline-block"},children:nh(ue,{CustomComponent:t,Fallback:nh(_e,{label:"label"in e&&e.label})})})]});var sh=({fields:t,formState:e,labelPrefix:o=null,parentPath:n="",path:r="",permissions:s})=>{if(!t)return[];let i=e?.[r]?.customComponents?.Label;return t?.reduce((a,l)=>{let{operation:c,permissions:u,read:d}=Fz({field:l,operation:"update",parentName:n?.includes(".")?n.split(".")[n.split(".").length-1]:n,permissions:s});if((Iz(l)||l.type==="ui")&&(l.admin?.disableBulkEdit||l.unique||Tz(l)||"readOnly"in l&&l.readOnly||!c||!d))return a;if(!(l.type==="array"||l.type==="blocks")&&_z(l))return[...a,...sh({fields:l.fields,labelPrefix:pd({CustomLabel:i,field:l,prefix:o}),parentPath:r,path:Xl(r,l),permissions:u})];if(l.type==="tabs"&&"tabs"in l)return[...a,...l.tabs.reduce((m,p)=>{if("fields"in p){let h="name"in p&&p.name;return[...m,...sh({fields:p.fields,labelPrefix:o,parentPath:r,path:h?Xl(r,l):r,permissions:u})]}},[])];let f={label:pd({CustomLabel:i,field:l,prefix:o}),value:{field:l,fieldPermissions:u,path:Xl(r,l)}};return[...a,f]},[])};var Pz="field-select",ih=t=>{let e=Rz(14),{fields:o,onChange:n,permissions:r}=t,{t:s}=P(),{dispatchFields:i,getFields:a}=Oe(),l;e[0]!==o||e[1]!==a||e[2]!==r?(l=()=>sh({fields:AR(o),formState:a(),permissions:r}),e[0]=o,e[1]=a,e[2]=r,e[3]=l):l=e[3];let[c]=Az(l),u;if(e[4]!==i||e[5]!==a||e[6]!==n||e[7]!==c||e[8]!==s){let d;e[10]!==i||e[11]!==a||e[12]!==n?(d=f=>n({dispatchFields:i,formState:a(),selected:f}),e[10]=i,e[11]=a,e[12]=n,e[13]=d):d=e[13],u=Dz("div",{className:Pz,children:[LR(_e,{label:s("fields:selectFieldsToEdit")}),LR(gt,{getOptionValue:Ez,isMulti:!0,onChange:d,options:c})]}),e[4]=i,e[5]=a,e[6]=n,e[7]=c,e[8]=s,e[9]=u}else u=e[9];return u};function Ez(t){return typeof t.value=="object"&&"path"in t.value?String(t.value.path):String(t.value)}var $R=t=>{let{collection:{fields:e,labels:{plural:o,singular:n}}={},collection:r,drawerSlug:s,forms:i}=t,[a,l]=jR(!1),{permissions:c}=Se(),{i18n:u,t:d}=P(),{closeModal:f}=ie(),{bulkUpdateForm:m}=Oo(),{getFormState:p}=Pt(),h=Lz.useRef(null),[g,b]=jR([]),C=c?.collections?.[r.slug],y=jz(()=>kR(g.reduce((w,T)=>(w[T.value.path]=!0,w),{})),[g]),v=P0(async({formState:w,submitted:T})=>{let S=Dr(h),{state:R}=await p({collectionSlug:r.slug,docPermissions:C,docPreferences:null,formState:w,operation:"update",schemaPath:r.slug,select:y,signal:S.signal,skipValidation:!T});return h.current=null,R},[p,r,C,y]);kz(()=>{let w=h.current;return()=>{Rr(w)}},[]);let x=P0(w=>{let T=g.reduce((S,R)=>(w[R.value.path]&&(S[R.value.path]=w[R.value.path].value),S),{});m(T,()=>f(s))},[f,s,m,g]),_=P0(async({dispatchFields:w,formState:T,selected:S})=>{l(!0),b(S||[]);let{state:R}=await p({collectionSlug:r.slug,docPermissions:C,docPreferences:null,formState:T,operation:"update",schemaPath:r.slug,select:kR(S.reduce((D,I)=>(D[I.value.path]=!0,D),{})),skipValidation:!0});w({type:"UPDATE_MANY",formState:R}),l(!1)},[p,r,C]);return A0("div",{className:`${Kr}__main`,children:[A0("div",{className:`${Kr}__header`,children:[Qr("h2",{className:`${Kr}__header__title`,children:d("general:editingLabel",{count:i.length,label:Nz(i.length>1?o:n,u)})}),Qr("button",{"aria-label":d("general:close"),className:`${Kr}__header__close`,id:`close-drawer__${s}`,onClick:()=>f(s),type:"button",children:Qr(yt,{})})]}),A0(Ts,{className:`${Kr}__form`,isInitializing:a,onChange:[v],onSubmit:x,children:[Qr(ih,{fields:e,onChange:_,permissions:C.fields}),g.length===0?null:Qr("div",{className:"render-fields",children:Qr(gs,{value:void 0,children:g.map((w,T)=>{let{value:{field:S,fieldPermissions:R,path:D}}=w;return Qr(Zl,{clientFieldConfig:S,indexPath:"",parentPath:"",parentSchemaPath:"",path:D,permissions:R},`${D}-${T}`)})})}),Qr("div",{className:`${Kr}__sidebar-wrap`,children:Qr("div",{className:`${Kr}__sidebar`,children:Qr("div",{className:`${Kr}__sidebar-sticky-wrap`,children:Qr("div",{className:`${Kr}__document-actions`,children:Qr(K,{type:"submit",children:d("general:applyChanges")})})})})})]})]})};var Kr="edit-many-bulk-uploads",BR=t=>{let e=$z(5),{collection:o,collection:n}=t,{slug:r}=o===void 0?{}:o,{permissions:s}=Se(),{t:i}=P(),{forms:a}=Oo(),c=s?.collections?.[r]?.update,u=`edit-${r}-bulk-uploads`;if(!c)return null;let d;return e[0]!==n||e[1]!==u||e[2]!==a||e[3]!==i?(d=Bz("div",{className:Kr,children:[ah(fs,{"aria-label":i("general:editAll"),className:`${Kr}__toggle`,slug:u,children:i("general:editAll")}),ah(ls,{children:ah(St,{Header:null,slug:u,children:ah($R,{collection:n,drawerSlug:u,forms:a})})})]}),e[0]=n,e[1]=u,e[2]=a,e[3]=i,e[4]=d):d=e[4],d};var Yl="bulk-upload--actions-bar";function OR(t){let e=MR(15),{collectionConfig:o}=t,{activeIndex:n,forms:r,setActiveIndex:s}=Oo(),{t:i}=P(),a=n+1,l;if(e[0]!==n||e[1]!==o||e[2]!==r.length||e[3]!==s||e[4]!==i||e[5]!==a){let c;e[7]!==n||e[8]!==r.length||e[9]!==s?(c=()=>{let d=n-1;d<0?s(r.length-1):s(d)},e[7]=n,e[8]=r.length,e[9]=s,e[10]=c):c=e[10];let u;e[11]!==n||e[12]!==r.length||e[13]!==s?(u=()=>{let d=n+1;d===r.length?s(0):s(d)},e[11]=n,e[12]=r.length,e[13]=s,e[14]=u):u=e[14],l=hd("div",{className:Yl,children:[hd("div",{className:`${Yl}__navigation`,children:[hd("p",{className:`${Yl}__locationText`,children:[Tn("strong",{children:a}),` ${i("general:of")} `,Tn("strong",{children:r.length})]}),hd("div",{className:`${Yl}__controls`,children:[Tn(K,{"aria-label":i("general:previous"),buttonStyle:"none",onClick:c,type:"button",children:Tn(He,{direction:"left"})}),Tn(K,{"aria-label":i("general:next"),buttonStyle:"none",onClick:u,type:"button",children:Tn(He,{direction:"right"})})]}),Tn(BR,{collection:o})]}),Tn(E0,{className:`${Yl}__saveButtons`})]}),e[0]=n,e[1]=o,e[2]=r.length,e[3]=s,e[4]=i,e[5]=a,e[6]=l}else l=e[6];return l}function E0(t){let e=MR(12),{className:o}=t,{getEntityConfig:n}=H(),{t:r}=P(),{collectionSlug:s,hasPublishPermission:i,hasSavePermission:a,saveAllDocs:l}=Oo(),c;e[0]!==s||e[1]!==n?(c=n({collectionSlug:s}),e[0]=s,e[1]=n,e[2]=c):c=e[2];let u=c,d;e[3]!==o?(d=[`${Yl}__buttons`,o].filter(Boolean),e[3]=o,e[4]=d):d=e[4];let f=d.join(" "),m;return e[5]!==u?.versions?.drafts||e[6]!==i||e[7]!==a||e[8]!==l||e[9]!==r||e[10]!==f?(m=hd("div",{className:f,children:[u?.versions?.drafts&&a?Tn(K,{buttonStyle:"secondary",onClick:()=>void l({overrides:{_status:"draft"}}),children:r("version:saveDraft")}):null,u?.versions?.drafts&&i?Tn(K,{onClick:()=>void l({overrides:{_status:"published"}}),children:r("version:publish")}):null,!u?.versions?.drafts&&a?Tn(K,{onClick:()=>void l(),children:r("general:save")}):null]}),e[5]=u?.versions?.drafts,e[6]=i,e[7]=a,e[8]=l,e[9]=r,e[10]=f,e[11]=m):m=e[11],m}import{c as Mz}from"react/compiler-runtime";import{jsx as Oz}from"react/jsx-runtime";import"react";var gd="bulk-upload--discard-without-saving";function VR(){let t=Mz(9),{t:e}=P(),{closeModal:o}=ie(),{drawerSlug:n}=Vo(),r;t[0]!==o?(r=()=>{o(gd)},t[0]=o,t[1]=r):r=t[1];let s=r,i;t[2]!==o||t[3]!==n?(i=()=>{o(n),o(gd)},t[2]=o,t[3]=n,t[4]=i):i=t[4];let a=i,l;return t[5]!==s||t[6]!==a||t[7]!==e?(l=Oz(et,{body:e("general:changesNotSaved"),cancelLabel:e("general:stayOnThisPage"),confirmLabel:e("general:leaveAnyway"),heading:e("general:leaveWithoutSaving"),modalSlug:gd,onCancel:s,onConfirm:a}),t[5]=s,t[6]=a,t[7]=e,t[8]=l):l=t[8],l}import{c as QW}from"react/compiler-runtime";import{jsx as gi,jsxs as KW}from"react/jsx-runtime";import Pd,{useCallback as DD,useEffect as AD,useMemo as eH}from"react";import{jsx as Ca,jsxs as UR}from"react/jsx-runtime";import{fieldIsSidebar as Wz}from"payload/shared";import{useMemo as Hz}from"react";import{jsx as WR,jsxs as Vz}from"react/jsx-runtime";import{getTranslation as Gz}from"@payloadcms/translations";import"react";import{jsx as GR}from"react/jsx-runtime";import"react";function zR({className:t}){return GR("svg",{className:[t,"icon icon--trash"].filter(Boolean).join(" "),fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:GR("path",{d:"M4.1499 6.1H15.8499M14.5499 6.1V15.2C14.5499 15.85 13.8999 16.5 13.2499 16.5H6.7499C6.0999 16.5 5.4499 15.85 5.4499 15.2V6.1M7.3999 6.1V4.8C7.3999 4.15 8.0499 3.5 8.6999 3.5H11.2999C11.9499 3.5 12.5999 4.15 12.5999 4.8V6.1M8.6999 9.35V13.25M11.2999 9.35V13.25",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})})}var zz="trash-banner",HR=()=>{let{getEntityConfig:t}=H(),{collectionSlug:e}=Te(),o=t({collectionSlug:e}),{labels:n}=o,{i18n:r}=P();return Vz("div",{className:zz,children:[WR(zR,{}),WR("p",{children:r.t("general:documentIsTrashed",{label:`${Gz(n?.singular,r)}`})})]})};var Vn="document-fields",bd=({AfterFields:t,BeforeFields:e,docPermissions:o,fields:n,forceSidebarWrap:r,isTrashed:s=!1,readOnly:i,schemaPathSegments:a})=>{let{hasSidebarFields:l,mainFields:c,sidebarFields:u}=Hz(()=>n.reduce((d,f)=>(Wz(f)?(d.sidebarFields.push(f),d.mainFields.push(null),d.hasSidebarFields=!0):(d.mainFields.push(f),d.sidebarFields.push(null)),d),{hasSidebarFields:!1,mainFields:[],sidebarFields:[]}),[n]);return UR("div",{className:[Vn,l?`${Vn}--has-sidebar`:`${Vn}--no-sidebar`,r&&`${Vn}--force-sidebar-wrap`].filter(Boolean).join(" "),children:[Ca("div",{className:`${Vn}__main`,children:UR(To,{className:`${Vn}__edit`,children:[s&&Ca(HR,{}),e,Ca(ko,{className:`${Vn}__fields`,fields:c,forceRender:!0,parentIndexPath:"",parentPath:"",parentSchemaPath:a.join("."),permissions:o?.fields,readOnly:i}),t]})}),l?Ca("div",{className:`${Vn}__sidebar-wrap`,children:Ca("div",{className:`${Vn}__sidebar`,children:Ca("div",{className:`${Vn}__sidebar-fields`,children:Ca(ko,{fields:u,forceRender:!0,parentIndexPath:"",parentPath:"",parentSchemaPath:a.join("."),permissions:o?.fields,readOnly:i})})})}):null]})};import{c as lD}from"react/compiler-runtime";import{jsx as hh,jsxs as DW,Fragment as AW}from"react/jsx-runtime";import{getTranslation as PW}from"@payloadcms/translations";import{formatAdminURL as EW}from"payload/shared";import aD,{useId as NW}from"react";import{jsx as XR}from"react/jsx-runtime";import"react";function vd({className:t}){return XR("svg",{className:[t,"icon icon--folder"].filter(Boolean).join(" "),fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:XR("path",{d:"M13.3333 13.3333C13.6869 13.3333 14.026 13.1929 14.2761 12.9428C14.5261 12.6928 14.6666 12.3536 14.6666 12V5.33333C14.6666 4.97971 14.5261 4.64057 14.2761 4.39052C14.026 4.14048 13.6869 4 13.3333 4H8.06659C7.84359 4.00219 7.62362 3.94841 7.42679 3.84359C7.22996 3.73877 7.06256 3.58625 6.93992 3.4L6.39992 2.6C6.27851 2.41565 6.11323 2.26432 5.91892 2.1596C5.7246 2.05488 5.50732 2.00004 5.28659 2H2.66659C2.31296 2 1.97382 2.14048 1.72378 2.39052C1.47373 2.64057 1.33325 2.97971 1.33325 3.33333V12C1.33325 12.3536 1.47373 12.6928 1.72378 12.9428C1.97382 13.1929 2.31296 13.3333 2.66659 13.3333H13.3333Z",fill:"currentColor"})})}import{c as B0}from"react/compiler-runtime";import{jsx as Et,jsxs as ph,Fragment as gW}from"react/jsx-runtime";import{getTranslation as $0}from"@payloadcms/translations";import{extractID as bW}from"payload/shared";import en from"react";import{jsx as Uz}from"react/jsx-runtime";import{useRouter as Xz,useSearchParams as Zz}from"next/navigation.js";import{extractID as YR,formatAdminURL as lh,formatFolderOrDocumentItem as Yz}from"payload/shared";import*as yd from"qs-esm";import Tt from"react";function ZR(t){return t.reduce((e,o)=>(e[o.relationTo]||(e[o.relationTo]=[]),e[o.relationTo].push(o.value.id),e),{})}var JR=Tt.createContext({activeCollectionFolderSlugs:[],allCollectionFolderSlugs:[],allowCreateCollectionSlugs:[],breadcrumbs:[],checkIfItemIsDisabled:()=>!1,clearSelections:()=>{},currentFolder:null,documents:[],dragOverlayItem:void 0,focusedRowIndex:-1,folderCollectionConfig:null,folderCollectionSlug:"",folderFieldName:"folder",folderID:void 0,FolderResultsComponent:null,folderType:void 0,getFolderRoute:()=>"",getSelectedItems:()=>[],isDragging:!1,itemKeysToMove:void 0,moveToFolder:()=>Promise.resolve(void 0),onItemClick:()=>{},onItemKeyPress:()=>{},refineFolderData:()=>{},search:"",selectedFolderCollections:void 0,selectedItemKeys:new Set,setBreadcrumbs:()=>{},setFocusedRowIndex:()=>-1,setIsDragging:()=>!1,sort:"name",subfolders:[]});function xa({activeCollectionFolderSlugs:t,allCollectionFolderSlugs:e=[],allowCreateCollectionSlugs:o,allowMultiSelection:n=!0,baseFolderPath:r,breadcrumbs:s=[],children:i,documents:a,folderFieldName:l,folderID:c,FolderResultsComponent:u,onItemClick:d,search:f,sort:m="name",subfolders:p}){let h=Gt(),{config:g}=H(),{routes:b}=g,C=Wr(),{t:y}=P(),v=Xz(),{startRouteTransition:x}=Xe(),_=Ie(),w=_?_.code:void 0,T=Tt.useRef(new Set),[S,R]=Tt.useState([]),[D,I]=Tt.useState(u||(()=>null)),[F]=Tt.useState(()=>g.collections.find(se=>g.folders&&se.slug===g.folders.slug)),A=F.slug,k=Zz(),L=Tt.useMemo(()=>Ut(k),[k]),[N,B]=Tt.useState(L),[j,E]=Tt.useState(!1),[$,M]=Tt.useState(()=>new Set),[O,G]=Tt.useState(-1),[W,U]=Tt.useState(),[z,J]=Tt.useState(s),Z=Tt.useRef(null),X=p.length+a.length,ae=Tt.useCallback(()=>{G(-1),M(new Set),U(void 0),T.current=new Set},[]),Y=Tt.useCallback((se={})=>{let xe="page"in se?se.page:N?.page;return"search"in se&&(xe="1"),{...N,...se,locale:w,page:xe,relationTo:"relationTo"in se?se.relationTo:N?.relationTo,search:"search"in se?se.search:N?.search,sort:"sort"in se?se.sort:N?.sort??void 0}},[N,w]),ne=Tt.useCallback(({query:se,updateURL:xe})=>{if(xe){let V=Y(se);x(()=>v.replace(`${yd.stringify({...V,relationTo:JSON.stringify(V.relationTo)},{addQueryPrefix:!0})}`)),B(V)}},[Y,v,x]),Q=Tt.useCallback(se=>{let xe=yd.stringify(Y({page:"1",search:""}),{addQueryPrefix:!0});return lh({adminRoute:g.routes.admin,path:`${r}${se?`/${se}`:""}${xe}`})},[r,g.routes.admin,Y]),de=Tt.useCallback(se=>[...p,...a].find(xe=>xe.itemKey===se),[a,p]),ve=Tt.useCallback(()=>Array.from($).reduce((se,xe)=>{let V=de(xe);return V&&se.push(V),se},[]),[$,de]),fe=Tt.useCallback(({collectionSlug:se,docID:xe})=>{C===1?se===A?x(()=>{v.push(Q(xe)),ae()}):se&&x(()=>{v.push(lh({adminRoute:g.routes.admin,path:`/collections/${se}/${xe}`})),ae()}):ae(),typeof d=="function"&&d(de(`${se}-${xe}`))},[ae,g.routes.admin,C,A,Q,de,d,v,x]),$e=Tt.useCallback(se=>{let V=[...p,...a].reduce((te,ge,ye)=>($.has(ge.itemKey)&&te.push(ye),te),[]);if(V.length===0)return[se];let le=Math.min(...V),q=Math.max(...V),me=se>=le&&se<=q,pe=se;if(me)if(se===le||se===q)pe=se;else{let te=Math.abs(se-le),ge=Math.abs(se-q);pe=te>=ge?le:q}else{let te=Math.abs(se-le),ge=Math.abs(se-q);pe=te<=ge?le:q}let re=Math.min(pe,se),ee=Math.max(pe,se),he=Array.from({length:ee-re+1},(te,ge)=>re+ge);return me?he:[...new Set([...V,...he])]},[p,a,$]),Me=Tt.useCallback(({indexes:se})=>{let xe=[...p,...a],{newSelectedFolderCollections:V,newSelectedItemKeys:le}=xe.reduce((q,me,pe)=>(se.includes(pe)&&(q.newSelectedItemKeys.add(me.itemKey),me.relationTo===A?me.value.folderType?.forEach(re=>{q.newSelectedFolderCollections.includes(re)||q.newSelectedFolderCollections.push(re)}):q.newSelectedFolderCollections.includes(me.relationTo)||q.newSelectedFolderCollections.push(me.relationTo)),q),{newSelectedFolderCollections:[],newSelectedItemKeys:new Set});R(V),M(le)},[a,A,p]),Ne=Tt.useCallback(({event:se,item:xe})=>{let{code:V,ctrlKey:le,metaKey:q,shiftKey:me}=se,pe=me,re=le||q,ee=$.has(xe.itemKey),he=[...p,...a],te=he.findIndex(ge=>ge.itemKey===xe.itemKey);switch(V){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":{if(se.preventDefault(),te===-1)break;let ye=V==="ArrowLeft"||V==="ArrowUp"?te-1:te+1;if(ye<0||ye>X-1)return;if(G(ye),re)break;if(pe&&n){let rt=$e(ye);Me({indexes:rt});return}if(!pe){let rt=he[ye];M(new Set([rt.itemKey]))}break}case"Enter":{if($.size===1){G(void 0),fe({collectionSlug:xe.relationTo,docID:YR(xe.value)});return}break}case"Escape":{ae();break}case"KeyA":{n&&re&&(se.preventDefault(),G(X-1),Me({indexes:Array.from({length:X},(ge,ye)=>ye)}));break}case"Space":{if(n&&pe){se.preventDefault();let ge=[...p,...a];Me({indexes:ge.reduce((ye,rt,Be)=>{if(rt.itemKey===xe.itemKey){if(ee)return ye;ye.push(Be)}else $.has(rt.itemKey)&&ye.push(Be);return ye},[])})}else se.preventDefault(),Me({indexes:ee?[]:[te]});break}case"Tab":{if(n&&pe){let ge=te-1;ge<0&&$?.size>0&&G(ge)}else te+1===X&&$.size>0&&G(X-1);break}}},[$,p,a,n,$e,Me,fe,ae,X]),be=Tt.useCallback(({event:se,item:xe})=>{let V=!1,le=se.ctrlKey||se.metaKey,q=se.shiftKey,me=$.has(xe.itemKey),pe=[...p,...a],re=pe.findIndex(ee=>ee.itemKey===xe.itemKey);if(n&&le){se.preventDefault();let ee,he=pe.reduce((te,ge,ye)=>{if(ge.itemKey===xe.itemKey){if(me&&se.type!=="pointermove")return te;te.push(ye),ee=ge.itemKey}else $.has(ge.itemKey)&&te.push(ye);return te},[]);Me({indexes:he}),ee&&U(de(ee))}else if(n&&q){if(re!==-1){let ee=$e(re);Me({indexes:ee})}}else if(n&&se.type==="pointermove")me||Me({indexes:pe.reduce((ee,he,te)=>(he.itemKey===xe.itemKey&&ee.push(te),ee),[])}),U(de(xe.itemKey));else{let ee=Date.now();V=ee-Z.current<400&&W?.itemKey===xe.itemKey,Z.current=ee,V||Me({indexes:me&&$.size===1?[]:[re]}),U(de(xe.itemKey))}V&&fe({collectionSlug:xe.relationTo,docID:YR(xe.value)})},[$,p,a,n,W,de,Me,fe,$e]),Ve=Tt.useCallback(async se=>{let{itemsToMove:xe,toFolderID:V}=se;if(!xe.length)return;if(xe.length===1&&xe[0].relationTo===A&&xe[0].value.id===c){let q=yd.stringify({depth:0,locale:w},{addQueryPrefix:!0});(await fetch(lh({apiRoute:b.api,path:`/${A}/${c}${q}`}),{body:JSON.stringify({[l]:V||null}),credentials:"include",headers:{"content-type":"application/json"},method:"PATCH"})).status!==200&&oe.error(y("general:error"))}else for(let[q,me]of Object.entries(ZR(xe))){let pe=yd.stringify({depth:0,limit:0,locale:w,where:{id:{in:me}}},{addQueryPrefix:!0});try{await fetch(lh({apiRoute:b.api,path:`/${q}${pe}`}),{body:JSON.stringify({[l]:V||null}),credentials:"include",headers:{"content-type":"application/json"},method:"PATCH"})}catch(re){oe.error(y("general:error")),console.error(re);continue}}ae()},[c,ae,A,l,b.api,y,w]),Ye=Tt.useCallback(se=>{function xe({item:V,selectedFolderCollections:le}){return!V.value.folderType||Array.isArray(V.value.folderType)&&V.value.folderType.length===0?!1:le.length===0?!!(V.value.folderType||V.value.folderType.length>0):le.some(q=>!V.value.folderType.includes(q))}if(j)return $.has(se.itemKey)?!0:se.relationTo===A?xe({item:se,selectedFolderCollections:S}):!0;if(h?.selectedItemKeys?.size)return h.selectedItemKeys.has(se.itemKey)?!0:se.relationTo===A?xe({item:se,selectedFolderCollections:h.selectedFolderCollections}):!0},[S,j,$,A,h?.selectedFolderCollections,h?.selectedItemKeys]);return Tt.useEffect(()=>{u&&I(u)},[u]),Uz(JR,{value:{activeCollectionFolderSlugs:t||e,allCollectionFolderSlugs:e,allowCreateCollectionSlugs:o,breadcrumbs:z,checkIfItemIsDisabled:Ye,clearSelections:ae,currentFolder:z?.[z.length-1]?.id!==void 0?Yz({folderFieldName:l,isUpload:!1,relationTo:A,useAsTitle:F.admin.useAsTitle,value:z[z.length-1]}):null,documents:a,dragOverlayItem:W,focusedRowIndex:O,folderCollectionConfig:F,folderCollectionSlug:A,folderFieldName:l,folderID:c,FolderResultsComponent:D,folderType:z?.[z.length-1]?.folderType,getFolderRoute:Q,getSelectedItems:ve,isDragging:j,itemKeysToMove:h.selectedItemKeys,moveToFolder:Ve,onItemClick:be,onItemKeyPress:Ne,refineFolderData:ne,search:f,selectedFolderCollections:S,selectedItemKeys:$,setBreadcrumbs:J,setFocusedRowIndex:G,setIsDragging:E,sort:m,subfolders:p},children:i})}function Gt(){let t=Tt.use(JR);if(t===void 0)throw new Error("useFolder must be used within a FolderProvider");return t}import{c as Jz}from"react/compiler-runtime";import{jsx as qz}from"react/jsx-runtime";import{usePathname as Qz,useRouter as Kz}from"next/navigation.js";import{createContext as eW,use as tW,useEffect as qR,useRef as oW}from"react";var QR=eW({cachingEnabled:!0,clearRouteCache:()=>{}}),N0=t=>{let e=Jz(17),{cachingEnabled:o,children:n}=t,r=o===void 0?!0:o,s=Qz(),i=Kz(),a=oW(!1),l;e[0]!==i?(l=()=>{i.refresh()},e[0]=i,e[1]=l):l=e[1];let c=l,u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{let b=()=>{a.current=!0};return window.addEventListener("popstate",b),()=>{window.removeEventListener("popstate",b)}},e[2]=u):u=e[2];let d;e[3]!==i?(d=[i],e[3]=i,e[4]=d):d=e[4],qR(u,d);let f;e[5]!==r||e[6]!==c?(f=b=>{(r||a.current)&&(a.current=!1,c())},e[5]=r,e[6]=c,e[7]=f):f=e[7];let m=Je(f),p;e[8]!==m||e[9]!==s?(p=()=>{m(s)},e[8]=m,e[9]=s,e[10]=p):p=e[10];let h;e[11]!==s?(h=[s],e[11]=s,e[12]=h):h=e[12],qR(p,h);let g;return e[13]!==r||e[14]!==n||e[15]!==c?(g=qz(QR,{value:{cachingEnabled:r,clearRouteCache:c},children:n}),e[13]=r,e[14]=n,e[15]=c,e[16]=g):g=e[16],g},bt=()=>tW(QR);import{c as nW}from"react/compiler-runtime";import{jsx as ch,jsxs as eD}from"react/jsx-runtime";import"react";import{jsx as KR}from"react/jsx-runtime";import"react";var rW="form-submit",Er=t=>{let{type:e="submit",buttonId:o,children:n,disabled:r,onClick:s,programmaticSubmit:i,ref:a}=t,l=Gr(),c=mb(),u=Li(),{disabled:d,submit:f}=Oe();return KR("div",{className:rW,children:KR(K,{ref:a,...t,disabled:!(r||u||l||c||d)?void 0:!0,id:o,onClick:s??(i?()=>{f()}:void 0),type:e,children:n})})};var uh="drawer-action-header",tD=t=>{let e=nW(10),{cancelLabel:o,className:n,onCancel:r,onSave:s,saveLabel:i,title:a}=t,{t:l}=P(),c;e[0]!==n?(c=[uh,n].filter(Boolean),e[0]=n,e[1]=c):c=e[1];let u=c.join(" "),d;return e[2]!==o||e[3]!==r||e[4]!==s||e[5]!==i||e[6]!==l||e[7]!==u||e[8]!==a?(d=ch("div",{className:u,children:eD("div",{className:`${uh}__content`,children:[ch("h1",{className:`${uh}__title`,children:a}),eD("div",{className:`${uh}__actions`,children:[ch(K,{"aria-label":l("general:cancel"),buttonStyle:"secondary",onClick:r,children:o||l("general:cancel")}),ch(Er,{"aria-label":l("general:applyChanges"),onClick:s,children:i||l("general:applyChanges")})]})]})}),e[2]=o,e[3]=r,e[4]=s,e[5]=i,e[6]=l,e[7]=u,e[8]=a,e[9]=d):d=e[9],d};import{jsx as sW}from"react/jsx-runtime";import"react";var iW="drawer-content-container";function L0({children:t,className:e}){return sW("div",{className:[iW,e].filter(Boolean).join(" "),children:t})}import{c as aW}from"react/compiler-runtime";import{jsx as wa,jsxs as lW}from"react/jsx-runtime";import{getTranslation as cW}from"@payloadcms/translations";import k0 from"react";var j0="create-new-doc-in-folder";function Fn(t){let e=aW(22),{buttonLabel:o,collectionSlugs:n,folderAssignedCollections:r,onCreateSuccess:s,slugPrefix:i}=t,a=`${i}-new-doc-in-folder-drawer`,{i18n:l}=P(),{closeModal:c,openModal:u}=ie(),{config:d}=H(),{folderCollectionConfig:f,folderCollectionSlug:m,folderFieldName:p,folderID:h}=Gt(),g;e[0]!==m?(g={collectionSlug:m},e[0]=m,e[1]=g):g=e[1];let[b,,C]=Lt(g),{closeDrawer:y,openDrawer:v}=C,[x,_]=k0.useState(),w;e[2]!==n||e[3]!==d?(w=()=>n.reduce((R,D)=>{let I=d.collections.find(F=>{let{slug:A}=F;return A===D});return I&&R.push(I),R},[]),e[2]=n,e[3]=d,e[4]=w):w=e[4];let[T]=k0.useState(w);if(T.length===0)return null;let S;return e[5]!==b||e[6]!==o||e[7]!==y||e[8]!==c||e[9]!==n||e[10]!==x||e[11]!==T||e[12]!==r||e[13]!==f.slug||e[14]!==p||e[15]!==h||e[16]!==l||e[17]!==a||e[18]!==s||e[19]!==v||e[20]!==u?(S=lW(k0.Fragment,{children:[T.length===1?wa(K,{buttonStyle:"pill",className:`${j0}__button`,el:"div",onClick:()=>{T[0].slug===f.slug?v():(_(T[0].slug),u(a))},size:"small",children:o}):wa(st,{button:wa(K,{buttonStyle:"pill",className:`${j0}__popup-button`,el:"div",icon:"chevron",size:"small",children:o}),buttonType:"default",className:`${j0}__action-popup`,children:wa(we.ButtonGroup,{children:T.map((R,D)=>wa(we.Button,{onClick:()=>{R.slug===f.slug?v():(_(R.slug),u(a))},children:cW(R.labels.singular,l)},D))})}),x&&wa(Gv,{collectionSlug:x,drawerSlug:a,initialData:{[p]:h},onSave:async R=>{let{doc:D}=R;await s({collectionSlug:x,doc:D}),c(a)},redirectAfterCreate:!1}),n.includes(f.slug)&&wa(b,{initialData:{[p]:h,folderType:x?r||[x]:r},onSave:async R=>{await s({collectionSlug:f.slug,doc:R.doc}),y()},redirectAfterCreate:!1})]}),e[5]=b,e[6]=o,e[7]=y,e[8]=c,e[9]=n,e[10]=x,e[11]=T,e[12]=r,e[13]=f.slug,e[14]=p,e[15]=h,e[16]=l,e[17]=a,e[18]=s,e[19]=v,e[20]=u,e[21]=S):S=e[21],S}import{jsx as oD,jsxs as uW}from"react/jsx-runtime";import dW from"react";var rD="no-results";function Jl({Actions:t,Message:e}){return uW("div",{className:rD,children:[e,t&&t.length>0&&oD("div",{className:`${rD}__actions`,children:t.map((o,n)=>oD(dW.Fragment,{children:o},n))})]})}import{jsx as dh}from"react/jsx-runtime";import"react";var nD=({elements:t,translationString:e})=>{let o=/(<[^>]+>.*?<\/[^>]+>)/g,n=e.split(o);return dh("span",{children:n.map((r,s)=>{if(t&&r.startsWith("<")&&r.endsWith(">")){let i=r[1],a=t[i];if(a){let l=new RegExp(`<${i}>(.*?)</${i}>`,"g"),c=r.replace(l,(u,d)=>d);return dh(a,{children:dh(nD,{translationString:c})},s)}}return r})})},Kt=({elements:t,i18nKey:e,t:o,variables:n})=>{let r=o(e,n||{});return t?dh(nD,{elements:t,translationString:r}):r};import{c as mW}from"react/compiler-runtime";import{jsx as fh,jsxs as fW}from"react/jsx-runtime";import{useDroppable as pW}from"@dnd-kit/core";import"react";var mh="folderBreadcrumbs";function sD({breadcrumbs:t,className:e}){return fh("div",{className:`${mh} ${e||""}`.trim(),children:t?.map((o,n)=>fW("div",{className:`${mh}__crumb`,children:[o.onClick?fh(Sa,{className:`${mh}__crumb-item`,id:o.id,onClick:o.onClick,children:o.name}):o.name,t.length>0&&n!==t.length-1&&fh(He,{className:`${mh}__crumb-chevron`,direction:"right"})]},n))})}function Sa(t){let e=mW(13),{id:o,children:n,className:r,onClick:s}=t,i=`folder-${o}`,a;e[0]!==o?(a={id:o,type:"folder"},e[0]=o,e[1]=a):a=e[1];let l;e[2]!==i||e[3]!==a?(l={id:i,data:a},e[2]=i,e[3]=a,e[4]=l):l=e[4];let{isOver:c,setNodeRef:u}=pW(l),d=c&&"droppable-button--hover",f;e[5]!==r||e[6]!==d?(f=["droppable-button",r,d].filter(Boolean),e[5]=r,e[6]=d,e[7]=f):f=e[7];let m=f.join(" "),p;return e[8]!==n||e[9]!==s||e[10]!==u||e[11]!==m?(p=fh("button",{className:m,onClick:s,ref:u,type:"button",children:n}),e[8]=n,e[9]=s,e[10]=u,e[11]=m,e[12]=p):p=e[12],p}import{jsx as hW}from"react/jsx-runtime";function dr(){return hW(vd,{className:"colored-folder-icon"})}var Cd="move-folder-drawer",vW="move-folder-drawer",iD=`${vW}-confirm-move`;function ql(t){return Et(St,{gutter:!1,Header:null,slug:t.drawerSlug,children:Et(yW,{...t})})}function yW(t){let{permissions:e}=Se(),[o,n]=en.useState([]),[r,s]=en.useState([]),[i,a]=en.useState([]),[l,c]=en.useState(null),[u,d]=en.useState(!1),[f,m]=en.useState(t.fromFolderID||null),p=en.useRef(!1),{getFolderResultsComponentAndData:h}=Pt(),g=en.useCallback(async b=>{try{let C=await h({browseByFolder:!1,collectionsToDisplay:[t.folderCollectionSlug],displayAs:"grid",folderAssignedCollections:t.folderAssignedCollections,folderID:b,sort:"name"});a(C.breadcrumbs||[]),n(C?.subfolders||[]),s(C?.documents||[]),c(C.FolderResultsComponent||null),m(b),d(!0)}catch{a([]),n([]),s([])}p.current=!0},[h,t.folderAssignedCollections,t.folderCollectionSlug]);return en.useEffect(()=>{p.current||g(t.fromFolderID)},[g,t.fromFolderID]),u?Et(xa,{allCollectionFolderSlugs:[t.folderCollectionSlug],allowCreateCollectionSlugs:e.collections[t.folderCollectionSlug]?.create?[t.folderCollectionSlug]:[],allowMultiSelection:!1,breadcrumbs:i,documents:r,folderFieldName:t.folderFieldName,folderID:f,FolderResultsComponent:l,onItemClick:async b=>{await g(b.value.id)},subfolders:o,children:Et(CW,{...t,populateMoveToFolderDrawer:g})},f):Et(xn,{})}function CW(t){let e=B0(34),{drawerSlug:o,fromFolderID:n,fromFolderName:r,itemsToMove:s,onConfirm:i,populateMoveToFolderDrawer:a,skipConfirmModal:l,...c}=t,{clearRouteCache:u}=bt(),{closeModal:d,isModalOpen:f,openModal:m}=ie(),p;e[0]!==s?(p=()=>s.length,e[0]=s,e[1]=p):p=e[1];let[h]=en.useState(p),[g,b]=en.useState(!1),{i18n:C,t:y}=P(),{breadcrumbs:v,folderCollectionConfig:x,folderCollectionSlug:_,folderFieldName:w,folderID:T,FolderResultsComponent:S,folderType:R,getSelectedItems:D,subfolders:I}=Gt(),F;e[2]!==_?(F={collectionSlug:_},e[2]=_,e[3]=F):F=e[3];let[A,,k]=Lt(F),{closeDrawer:L,openDrawer:N}=k,B;e[4]!==v||e[5]!==D?(B=()=>{let X=D();if(X.length===0){let ae=v?.[v.length-1];return{id:ae?.id||null,name:ae?.name||null}}else return{id:X[0].value.id,name:X[0].value._folderOrDocumentTitle}},e[4]=v,e[5]=D,e[6]=B):B=e[6];let j=B,E;e[7]!==_||e[8]!==T||e[9]!==n||e[10]!==a?(E=async X=>{let{collectionSlug:ae,doc:Y}=X;await a(T),ae===_&&(Y?.folder&&n===bW(Y?.folder)||!n&&!Y?.folder)&&b(!0)},e[7]=_,e[8]=T,e[9]=n,e[10]=a,e[11]=E):E=e[11];let $=E,M;e[12]!==j||e[13]!==i?(M=()=>{typeof i=="function"&&i(j())},e[12]=j,e[13]=i,e[14]=M):M=e[14];let O=M,G,W;e[15]!==u||e[16]!==o||e[17]!==g||e[18]!==f?(G=()=>{!f(o)&&g&&(b(!1),u())},W=[o,f,u,g],e[15]=u,e[16]=o,e[17]=g,e[18]=f,e[19]=G,e[20]=W):(G=e[19],W=e[20]),en.useEffect(G,W);let U;e[21]!==d||e[22]!==o?(U=()=>{d(o)},e[21]=d,e[22]=o,e[23]=U):U=e[23];let z;e[24]!==O||e[25]!==m||e[26]!==l?(z=()=>{l?O():m(iD)},e[24]=O,e[25]=m,e[26]=l,e[27]=z):z=e[27];let J;e[28]!==v.length||e[29]!==a?(J=v.length?()=>{a(null)}:void 0,e[28]=v.length,e[29]=a,e[30]=J):J=e[30];let Z;return e[31]!==v.length||e[32]!==a?(Z=(X,ae)=>({id:X.id,name:X.name,onClick:ae!==v.length-1?()=>{a(X.id)}:void 0}),e[31]=v.length,e[32]=a,e[33]=Z):Z=e[33],ph("div",{className:Cd,children:[Et(tD,{onCancel:U,onSave:z,saveLabel:y("general:select"),title:Et(xW,{action:c.action,count:h,fromFolderName:n?r:void 0,title:c.action==="moveItemToFolder"?c.title:void 0})}),ph("div",{className:`${Cd}__breadcrumbs-section`,children:[Et(sD,{breadcrumbs:[{id:null,name:ph("span",{className:`${Cd}__folder-breadcrumbs-root`,children:[Et(dr,{}),y("folder:folders")]}),onClick:J},...v.map(Z)]}),I.length>0&&ph(gW,{children:[Et(K,{buttonStyle:"pill",className:`${Cd}__add-folder-button`,margin:!1,onClick:()=>{N()},children:y("fields:addLabel",{label:$0(x.labels?.singular,C)})}),Et(A,{initialData:{[w]:T,folderType:R},onSave:X=>{$({collectionSlug:x.slug,doc:X.doc}),L()},redirectAfterCreate:!1})]})]}),Et(L0,{className:`${Cd}__body-section`,children:I.length>0?S:Et(Jl,{Actions:[Et(Fn,{buttonLabel:`${y("general:create")} ${$0(x.labels?.singular,C).toLowerCase()}`,collectionSlugs:[_],folderAssignedCollections:c.folderAssignedCollections,onCreateSuccess:$,slugPrefix:"create-new-folder-from-drawer--no-results"},"create-folder")],Message:Et("p",{children:C.t("general:noResults",{label:`${$0(x.labels?.plural,C)}`})})})}),!l&&Et(et,{body:Et(wW,{action:c.action,count:h,fromFolderName:r,title:c.action==="moveItemToFolder"?c.title:void 0,toFolderName:j().name}),confirmingLabel:y("general:moving"),confirmLabel:y("general:move"),heading:y("general:confirmMove"),modalSlug:iD,onConfirm:O})]})}function xW(t){let e=B0(14),{t:o}=P();switch(t.action){case"moveItemToFolder":if(t.fromFolderName){let n;return e[0]!==t.fromFolderName||e[1]!==t.title||e[2]!==o?(n=o("folder:movingFromFolder",{fromFolder:t.fromFolderName,title:t.title}),e[0]=t.fromFolderName,e[1]=t.title,e[2]=o,e[3]=n):n=e[3],n}else{let n;return e[4]!==t.title||e[5]!==o?(n=o("folder:selectFolderForItem",{title:t.title}),e[4]=t.title,e[5]=o,e[6]=n):n=e[6],n}case"moveItemsToFolder":if(t.fromFolderName){let n=`${t.count} ${t.count>1?o("general:items"):o("general:item")}`,r;return e[7]!==t.fromFolderName||e[8]!==o||e[9]!==n?(r=o("folder:movingFromFolder",{fromFolder:t.fromFolderName,title:n}),e[7]=t.fromFolderName,e[8]=o,e[9]=n,e[10]=r):r=e[10],r}else{let n=`${t.count} ${t.count>1?o("general:items"):o("general:item")}`,r;return e[11]!==o||e[12]!==n?(r=o("folder:selectFolderForItem",{title:n}),e[11]=o,e[12]=n,e[13]=r):r=e[13],r}}}function wW(t){let e=B0(14),{t:o}=P();switch(t.action){case"moveItemToFolder":if(t.toFolderName){let n;return e[0]!==t.title||e[1]!==t.toFolderName||e[2]!==o?(n=Et(Kt,{elements:{1:RW,2:FW},i18nKey:"folder:moveItemToFolderConfirmation",t:o,variables:{title:t.title,toFolder:t.toFolderName}}),e[0]=t.title,e[1]=t.toFolderName,e[2]=o,e[3]=n):n=e[3],n}else{let n;return e[4]!==t.title||e[5]!==o?(n=Et(Kt,{elements:{1:TW},i18nKey:"folder:moveItemToRootConfirmation",t:o,variables:{title:t.title}}),e[4]=t.title,e[5]=o,e[6]=n):n=e[6],n}case"moveItemsToFolder":if(t.toFolderName){let n;return e[7]!==t.count||e[8]!==t.toFolderName||e[9]!==o?(n=Et(Kt,{elements:{1:_W,2:IW},i18nKey:"folder:moveItemsToFolderConfirmation",t:o,variables:{count:t.count,label:t.count>1?o("general:items"):o("general:item"),toFolder:t.toFolderName}}),e[7]=t.count,e[8]=t.toFolderName,e[9]=o,e[10]=n):n=e[10],n}else{let n;return e[11]!==t.count||e[12]!==o?(n=Et(Kt,{elements:{1:SW},i18nKey:"folder:moveItemsToRootConfirmation",t:o,variables:{count:t.count,label:t.count>1?o("general:items"):o("general:item")}}),e[11]=t.count,e[12]=o,e[13]=n):n=e[13],n}}}function SW(t){let{children:e}=t;return Et("strong",{children:e})}function IW(t){let{children:e}=t;return Et("strong",{children:e})}function _W(t){let{children:e}=t;return Et("strong",{children:e})}function TW(t){let{children:e}=t;return Et("strong",{children:e})}function FW(t){let{children:e}=t;return Et("strong",{children:e})}function RW(t){let{children:e}=t;return Et("strong",{children:e})}var LW="move-doc-to-folder";function xd(t){let e=lD(29),{buttonProps:o,className:n,folderCollectionSlug:r,folderFieldName:s}=t,i=n===void 0?"":n,{t:a}=P(),l=Mt(kW),c;e[0]!==s?(c=I=>{let[F]=I;return F&&F?.[s]||null},e[0]=s,e[1]=c):c=e[1];let u=Mt(c),d=u?.value,{id:f,collectionSlug:m,initialData:p,title:h}=Te(),{setModified:g}=Oe(),b;e[2]!==a?(b=()=>`${a("general:loading")}...`,e[2]=a,e[3]=b):b=e[3];let[C,y]=aD.useState(b),{config:v}=H(),x=NW(),_,w;e[4]!==v.routes.api||e[5]!==r||e[6]!==d||e[7]!==a?(_=()=>{(async function(){if(d&&(typeof d=="string"||typeof d=="number")){let k=await(await fetch(EW({apiRoute:v.routes.api,path:`/${r}/${d}`}))).json();y(k?.name||a("folder:noFolder"))}else y(a("folder:noFolder"))})()},w=[r,v.routes.api,d,a],e[4]=v.routes.api,e[5]=r,e[6]=d,e[7]=a,e[8]=_,e[9]=w):(_=e[8],w=e[9]),aD.useEffect(_,w);let T=`move-to-folder-${x}`,S;e[10]!==u||e[11]!==l||e[12]!==s||e[13]!==g?(S=I=>{let{id:F}=I;u.value!==F&&(l({type:"UPDATE",path:s,value:F}),g(!0))},e[10]=u,e[11]=l,e[12]=s,e[13]=g,e[14]=S):S=e[14];let R=!u?.value,D;return e[15]!==o||e[16]!==i||e[17]!==m||e[18]!==r||e[19]!==s||e[20]!==d||e[21]!==C||e[22]!==f||e[23]!==p||e[24]!==T||e[25]!==S||e[26]!==R||e[27]!==h?(D=hh(cD,{buttonProps:o,className:i,collectionSlug:m,docData:p,docID:f,docTitle:h,folderCollectionSlug:r,folderFieldName:s,fromFolderID:d,fromFolderName:C,modalSlug:T,onConfirm:S,skipConfirmModal:R}),e[15]=o,e[16]=i,e[17]=m,e[18]=r,e[19]=s,e[20]=d,e[21]=C,e[22]=f,e[23]=p,e[24]=T,e[25]=S,e[26]=R,e[27]=h,e[28]=D):D=e[28],D}function kW(t){let[,e]=t;return e}var cD=t=>{let e=lD(22),{buttonProps:o,className:n,collectionSlug:r,docData:s,docID:i,docTitle:a,folderCollectionSlug:l,folderFieldName:c,fromFolderID:u,fromFolderName:d,modalSlug:f,onConfirm:m,skipConfirmModal:p}=t,{getEntityConfig:h}=H(),{i18n:g,t:b}=P(),{closeModal:C,openModal:y}=ie(),v=Wr(),x;if(e[0]!==o||e[1]!==n||e[2]!==C||e[3]!==r||e[4]!==s||e[5]!==i||e[6]!==a||e[7]!==v||e[8]!==l||e[9]!==c||e[10]!==u||e[11]!==d||e[12]!==h||e[13]!==g||e[14]!==f||e[15]!==m||e[16]!==y||e[17]!==p||e[18]!==b){let _=Jc({slug:f,depth:v}),w=a||PW(h({collectionSlug:r}).labels.singular,g),T;e[20]!==n?(T=[LW,n].filter(Boolean),e[20]=n,e[21]=T):T=e[21],x=DW(AW,{children:[hh(K,{buttonStyle:"subtle",className:T.join(" "),icon:hh(vd,{}),iconPosition:"left",onClick:()=>{y(_)},...o,children:d}),hh(ql,{action:"moveItemToFolder",drawerSlug:_,folderAssignedCollections:[r],folderCollectionSlug:l,folderFieldName:c,fromFolderID:u,fromFolderName:d,itemsToMove:[{itemKey:`${r}-${i}`,relationTo:r,value:{...s,id:i}}],onConfirm:async S=>{if(u!==S.id&&typeof m=="function")try{await m(S),S.id?oe.success(b("folder:itemHasBeenMoved",{folderName:`"${S.name}"`,title:w})):oe.success(b("folder:itemHasBeenMovedToRoot",{title:w}))}catch(R){let D=R}C(_)},skipConfirmModal:p,title:w})]}),e[0]=o,e[1]=n,e[2]=C,e[3]=r,e[4]=s,e[5]=i,e[6]=a,e[7]=v,e[8]=l,e[9]=c,e[10]=u,e[11]=d,e[12]=h,e[13]=g,e[14]=f,e[15]=m,e[16]=y,e[17]=p,e[18]=b,e[19]=x}else x=e[19];return x};import{c as TD}from"react/compiler-runtime";import{jsx as jt,jsxs as on}from"react/jsx-runtime";import{formatAdminURL as ZW,isImage as FD}from"payload/shared";import Ad,{Fragment as YW,useCallback as Fd,useEffect as Rd,useRef as _D,useState as Dd}from"react";import{jsx as zt,jsxs as Qo}from"react/jsx-runtime";import vh,{useRef as tc,useState as pi}from"react";import ao,{PureComponent as jW,createRef as uD}from"react";var gh={x:0,y:0,width:0,height:0,unit:"px"},Ql=(t,e,o)=>Math.min(Math.max(t,e),o),$W=(...t)=>t.filter(e=>e&&typeof e=="string").join(" "),dD=(t,e)=>t===e||t.width===e.width&&t.height===e.height&&t.x===e.x&&t.y===e.y&&t.unit===e.unit;function Kl(t,e,o){return t.unit==="%"?{...gh,...t,unit:"%"}:{unit:"%",x:t.x?t.x/e*100:0,y:t.y?t.y/o*100:0,width:t.width?t.width/e*100:0,height:t.height?t.height/o*100:0}}function mi(t,e,o){return t.unit?t.unit==="px"?{...gh,...t,unit:"px"}:{unit:"px",x:t.x?t.x*e/100:0,y:t.y?t.y*o/100:0,width:t.width?t.width*e/100:0,height:t.height?t.height*o/100:0}:{...gh,...t,unit:"px"}}function mD(t,e,o,n,r,s=0,i=0,a=n,l=r){let c={...t},u=Math.min(s,n),d=Math.min(i,r),f=Math.min(a,n),m=Math.min(l,r);e&&(e>1?(u=i?i*e:u,d=u/e,f=a*e):(d=s?s/e:d,u=d*e,m=l/e)),c.y<0&&(c.height=Math.max(c.height+c.y,d),c.y=0),c.x<0&&(c.width=Math.max(c.width+c.x,u),c.x=0);let p=n-(c.x+c.width);p<0&&(c.x=Math.min(c.x,n-u),c.width+=p);let h=r-(c.y+c.height);if(h<0&&(c.y=Math.min(c.y,r-d),c.height+=h),c.width<u&&((o==="sw"||o=="nw")&&(c.x-=u-c.width),c.width=u),c.height<d&&((o==="nw"||o=="ne")&&(c.y-=d-c.height),c.height=d),c.width>f&&((o==="sw"||o=="nw")&&(c.x-=f-c.width),c.width=f),c.height>m&&((o==="nw"||o=="ne")&&(c.y-=m-c.height),c.height=m),e){let g=c.width/c.height;if(g<e){let b=Math.max(c.width/e,d);(o==="nw"||o=="ne")&&(c.y-=b-c.height),c.height=b}else if(g>e){let b=Math.max(c.height*e,u);(o==="sw"||o=="nw")&&(c.x-=b-c.width),c.width=b}}return c}function BW(t,e,o,n){let r={...t};return e==="ArrowLeft"?n==="nw"?(r.x-=o,r.y-=o,r.width+=o,r.height+=o):n==="w"?(r.x-=o,r.width+=o):n==="sw"?(r.x-=o,r.width+=o,r.height+=o):n==="ne"?(r.y+=o,r.width-=o,r.height-=o):n==="e"?r.width-=o:n==="se"&&(r.width-=o,r.height-=o):e==="ArrowRight"&&(n==="nw"?(r.x+=o,r.y+=o,r.width-=o,r.height-=o):n==="w"?(r.x+=o,r.width-=o):n==="sw"?(r.x+=o,r.width-=o,r.height-=o):n==="ne"?(r.y-=o,r.width+=o,r.height+=o):n==="e"?r.width+=o:n==="se"&&(r.width+=o,r.height+=o)),e==="ArrowUp"?n==="nw"?(r.x-=o,r.y-=o,r.width+=o,r.height+=o):n==="n"?(r.y-=o,r.height+=o):n==="ne"?(r.y-=o,r.width+=o,r.height+=o):n==="sw"?(r.x+=o,r.width-=o,r.height-=o):n==="s"?r.height-=o:n==="se"&&(r.width-=o,r.height-=o):e==="ArrowDown"&&(n==="nw"?(r.x+=o,r.y+=o,r.width-=o,r.height-=o):n==="n"?(r.y+=o,r.height-=o):n==="ne"?(r.y+=o,r.width-=o,r.height-=o):n==="sw"?(r.x-=o,r.width+=o,r.height+=o):n==="s"?r.height+=o:n==="se"&&(r.width+=o,r.height+=o)),r}var ec={capture:!0,passive:!1},fi=class Rn extends jW{constructor(){super(...arguments),this.docMoveBound=!1,this.mouseDownOnCrop=!1,this.dragStarted=!1,this.evData={startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0},this.componentRef=uD(),this.mediaRef=uD(),this.initChangeCalled=!1,this.state={cropIsActive:!1,newCropIsBeingDrawn:!1},this.onCropPointerDown=e=>{let{crop:o,disabled:n}=this.props,r=this.getBox();if(!o)return;let s=mi(o,r.width,r.height);if(n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let i=e.target.dataset.ord,a=!!i,l=e.clientX,c=e.clientY,u=s.x,d=s.y;if(i){let f=e.clientX-r.x,m=e.clientY-r.y,p=0,h=0;i==="ne"||i=="e"?(p=f-(s.x+s.width),h=m-s.y,u=s.x,d=s.y+s.height):i==="se"||i==="s"?(p=f-(s.x+s.width),h=m-(s.y+s.height),u=s.x,d=s.y):i==="sw"||i=="w"?(p=f-s.x,h=m-(s.y+s.height),u=s.x+s.width,d=s.y):(i==="nw"||i=="n")&&(p=f-s.x,h=m-s.y,u=s.x+s.width,d=s.y+s.height),l=u+r.x+p,c=d+r.y+h}this.evData={startClientX:l,startClientY:c,startCropX:u,startCropY:d,clientX:e.clientX,clientY:e.clientY,isResize:a,ord:i},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})},this.onComponentPointerDown=e=>{let{crop:o,disabled:n,locked:r,keepSelection:s,onChange:i}=this.props,a=this.getBox();if(n||r||s&&o)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let l=e.clientX-a.x,c=e.clientY-a.y,u={unit:"px",x:l,y:c,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:l,startCropY:c,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,i(mi(u,a.width,a.height),Kl(u,a.width,a.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})},this.onDocPointerMove=e=>{let{crop:o,disabled:n,onChange:r,onDragStart:s}=this.props,i=this.getBox();if(n||!o||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,s&&s(e));let{evData:a}=this;a.clientX=e.clientX,a.clientY=e.clientY;let l;a.isResize?l=this.resizeCrop():l=this.dragCrop(),dD(o,l)||r(mi(l,i.width,i.height),Kl(l,i.width,i.height))},this.onComponentKeyDown=e=>{let{crop:o,disabled:n,onChange:r,onComplete:s}=this.props;if(n)return;let i=e.key,a=!1;if(!o)return;let l=this.getBox(),c=this.makePixelCrop(l),u=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?Rn.nudgeStepLarge:e.shiftKey?Rn.nudgeStepMedium:Rn.nudgeStep;if(i==="ArrowLeft"?(c.x-=u,a=!0):i==="ArrowRight"?(c.x+=u,a=!0):i==="ArrowUp"?(c.y-=u,a=!0):i==="ArrowDown"&&(c.y+=u,a=!0),a){e.cancelable&&e.preventDefault(),c.x=Ql(c.x,0,l.width-c.width),c.y=Ql(c.y,0,l.height-c.height);let d=mi(c,l.width,l.height),f=Kl(c,l.width,l.height);r(d,f),s&&s(d,f)}},this.onHandlerKeyDown=(e,o)=>{let{aspect:n=0,crop:r,disabled:s,minWidth:i=0,minHeight:a=0,maxWidth:l,maxHeight:c,onChange:u,onComplete:d}=this.props,f=this.getBox();if(s||!r)return;if(e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="ArrowLeft"||e.key==="ArrowRight")e.stopPropagation(),e.preventDefault();else return;let m=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?Rn.nudgeStepLarge:e.shiftKey?Rn.nudgeStepMedium:Rn.nudgeStep,p=mi(r,f.width,f.height),h=BW(p,e.key,m,o),g=mD(h,n,o,f.width,f.height,i,a,l,c);if(!dD(r,g)){let b=Kl(g,f.width,f.height);u(g,b),d&&d(g,b)}},this.onDocPointerDone=e=>{let{crop:o,disabled:n,onComplete:r,onDragEnd:s}=this.props,i=this.getBox();this.unbindDocMove(),!(n||!o)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,s&&s(e),r&&r(mi(o,i.width,i.height),Kl(o,i.width,i.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))},this.onDragFocus=e=>{var o;(o=this.componentRef.current)==null||o.scrollTo(0,0)}}get document(){return document}getBox(){let e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};let{x:o,y:n,width:r,height:s}=e.getBoundingClientRect();return{x:o,y:n,width:r,height:s}}componentDidUpdate(e){let{crop:o,onComplete:n}=this.props;if(n&&!e.crop&&o){let{width:r,height:s}=this.getBox();r&&s&&n(mi(o,r,s),Kl(o,r,s))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,ec),this.document.addEventListener("pointerup",this.onDocPointerDone,ec),this.document.addEventListener("pointercancel",this.onDocPointerDone,ec),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,ec),this.document.removeEventListener("pointerup",this.onDocPointerDone,ec),this.document.removeEventListener("pointercancel",this.onDocPointerDone,ec),this.docMoveBound=!1)}getCropStyle(){let{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){let{evData:e}=this,o=this.getBox(),n=this.makePixelCrop(o),r=e.clientX-e.startClientX,s=e.clientY-e.startClientY;return n.x=Ql(e.startCropX+r,0,o.width-n.width),n.y=Ql(e.startCropY+s,0,o.height-n.height),n}getPointRegion(e,o,n,r){let{evData:s}=this,i=s.clientX-e.x,a=s.clientY-e.y,l;r&&o?l=o==="nw"||o==="n"||o==="ne":l=a<s.startCropY;let c;return n&&o?c=o==="nw"||o==="w"||o==="sw":c=i<s.startCropX,c?l?"nw":"sw":l?"ne":"se"}resolveMinDimensions(e,o,n=0,r=0){let s=Math.min(n,e.width),i=Math.min(r,e.height);return!o||!s&&!i?[s,i]:o>1?s?[s,s/o]:[i*o,i]:i?[i*o,i]:[s,s/o]}resizeCrop(){let{evData:e}=this,{aspect:o=0,maxWidth:n,maxHeight:r}=this.props,s=this.getBox(),[i,a]=this.resolveMinDimensions(s,o,this.props.minWidth,this.props.minHeight),l=this.makePixelCrop(s),c=this.getPointRegion(s,e.ord,i,a),u=e.ord||c,d=e.clientX-e.startClientX,f=e.clientY-e.startClientY;(i&&u==="nw"||u==="w"||u==="sw")&&(d=Math.min(d,-i)),(a&&u==="nw"||u==="n"||u==="ne")&&(f=Math.min(f,-a));let m={unit:"px",x:0,y:0,width:0,height:0};c==="ne"?(m.x=e.startCropX,m.width=d,o?(m.height=m.width/o,m.y=e.startCropY-m.height):(m.height=Math.abs(f),m.y=e.startCropY-m.height)):c==="se"?(m.x=e.startCropX,m.y=e.startCropY,m.width=d,o?m.height=m.width/o:m.height=f):c==="sw"?(m.x=e.startCropX+d,m.y=e.startCropY,m.width=Math.abs(d),o?m.height=m.width/o:m.height=f):c==="nw"&&(m.x=e.startCropX+d,m.width=Math.abs(d),o?(m.height=m.width/o,m.y=e.startCropY-m.height):(m.height=Math.abs(f),m.y=e.startCropY+f));let p=mD(m,o,c,s.width,s.height,i,a,n,r);return o||Rn.xyOrds.indexOf(u)>-1?l=p:Rn.xOrds.indexOf(u)>-1?(l.x=p.x,l.width=p.width):Rn.yOrds.indexOf(u)>-1&&(l.y=p.y,l.height=p.height),l.x=Ql(l.x,0,s.width-l.width),l.y=Ql(l.y,0,s.height-l.height),l}createCropSelection(){let{ariaLabels:e=Rn.defaultProps.ariaLabels,disabled:o,locked:n,renderSelectionAddon:r,ruleOfThirds:s,crop:i}=this.props,a=this.getCropStyle();if(i)return ao.createElement("div",{style:a,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":e.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!o&&!n&&ao.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},ao.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),ao.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),ao.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),ao.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),ao.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":e.nwDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"nw"),role:"button"}),ao.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":e.nDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"n"),role:"button"}),ao.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":e.neDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"ne"),role:"button"}),ao.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":e.eDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"e"),role:"button"}),ao.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":e.seDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"se"),role:"button"}),ao.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":e.sDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"s"),role:"button"}),ao.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":e.swDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"sw"),role:"button"}),ao.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":e.wDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"w"),role:"button"})),r&&ao.createElement("div",{className:"ReactCrop__selection-addon",onMouseDown:l=>l.stopPropagation()},r(this.state)),s&&ao.createElement(ao.Fragment,null,ao.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),ao.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){let o={...gh,...this.props.crop||{}};return mi(o,e.width,e.height)}render(){let{aspect:e,children:o,circularCrop:n,className:r,crop:s,disabled:i,locked:a,style:l,ruleOfThirds:c}=this.props,{cropIsActive:u,newCropIsBeingDrawn:d}=this.state,f=s?this.createCropSelection():null,m=$W("ReactCrop",r,u&&"ReactCrop--active",i&&"ReactCrop--disabled",a&&"ReactCrop--locked",d&&"ReactCrop--new-crop",s&&e&&"ReactCrop--fixed-aspect",s&&n&&"ReactCrop--circular-crop",s&&c&&"ReactCrop--rule-of-thirds",!this.dragStarted&&s&&!s.width&&!s.height&&"ReactCrop--invisible-crop",n&&"ReactCrop--no-animate");return ao.createElement("div",{ref:this.componentRef,className:m,style:l},ao.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},o),f)}};fi.xOrds=["e","w"];fi.yOrds=["n","s"];fi.xyOrds=["nw","ne","se","sw"];fi.nudgeStep=1;fi.nudgeStepMedium=10;fi.nudgeStepLarge=100;fi.defaultProps={ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}};var fD=fi;import"react-image-crop/dist/ReactCrop.css";var kt="edit-upload",bh=t=>{let{name:e,onChange:o,ref:n,value:r}=t;return Qo("div",{className:`${kt}__input`,children:[e,zt("input",{name:e,onChange:s=>o(s.target.value),ref:n,type:"number",value:r})]})},MW={height:100,unit:"%",width:100,x:0,y:0},M0=({fileName:t,fileSrc:e,imageCacheTag:o,initialCrop:n,initialFocalPoint:r,onSave:s,showCrop:i,showFocalPoint:a})=>{let{closeModal:l}=ie(),{t:c}=P(),[u,d]=pi(()=>({...MW,...n||{}})),f={x:50,y:50},[m,p]=pi(()=>({...f,...r})),[h,g]=pi(!1),[b,C]=pi(0),[y,v]=pi(0),x=tc(void 0),_=tc(void 0),w=tc(void 0),T=tc(null),S=tc(null),[R,D]=pi(!1),I=j=>{C(j.currentTarget.naturalHeight),v(j.currentTarget.naturalWidth),D(!0)},F=({dimension:j,value:E})=>{let M=100*(parseInt(E)/(j==="width"?y:b));if(M<=0||M>100)return null;d({...u,[j]:M})},A=({coordinate:j,value:E})=>{let $=parseInt(E);$>=0&&$<=100&&p(M=>({...M,[j]:$}))},k=()=>{typeof s=="function"&&s({crop:u||void 0,focalPoint:m,heightInPixels:Number(T?.current?.value??b),widthInPixels:Number(S?.current?.value??y)}),l(wd)},L=vh.useCallback(({x:j,y:E})=>{p({x:j,y:E}),g(!1)},[]),N=()=>{let j=x.current.getBoundingClientRect(),E=i?w.current.getBoundingClientRect():_.current.getBoundingClientRect(),$=(E.left-j.left+E.width/2)/j.width*100,M=(E.top-j.top+E.height/2)/j.height*100;p({x:$,y:M})},B=o?`${e}?${encodeURIComponent(o)}`:e;return Qo("div",{className:kt,children:[Qo("div",{className:`${kt}__header`,children:[Qo("h2",{title:`${c("general:editing")} ${t}`,children:[c("general:editing")," ",t]}),Qo("div",{className:`${kt}__actions`,children:[zt(K,{"aria-label":c("general:cancel"),buttonStyle:"secondary",className:`${kt}__cancel`,onClick:()=>l(wd),children:c("general:cancel")}),zt(K,{"aria-label":c("general:applyChanges"),buttonStyle:"primary",className:`${kt}__save`,disabled:!R,onClick:k,children:c("general:applyChanges")})]})]}),Qo("div",{className:`${kt}__toolWrap`,children:[zt("div",{className:`${kt}__crop`,children:Qo("div",{className:`${kt}__focal-wrapper`,ref:x,style:{aspectRatio:`${y/b}`},children:[i?zt(fD,{className:`${kt}__reactCrop`,crop:u,onChange:(j,E)=>d(E),onComplete:()=>g(!0),renderSelectionAddon:()=>zt("div",{className:`${kt}__crop-window`,ref:w}),children:zt("img",{alt:c("upload:setCropArea"),onLoad:I,ref:_,src:B})}):zt("img",{alt:c("upload:setFocalPoint"),onLoad:I,ref:_,src:B}),a&&zt(OW,{boundsRef:i?w:_,checkBounds:i?h:!1,className:`${kt}__focalPoint`,containerRef:x,initialPosition:m,onDragEnd:L,setCheckBounds:i?g:!1,children:zt(ar,{})})]})}),(i||a)&&Qo("div",{className:`${kt}__sidebar`,children:[i&&Qo("div",{className:`${kt}__groupWrap`,children:[zt("div",{children:Qo("div",{className:`${kt}__titleWrap`,children:[zt("h3",{children:c("upload:crop")}),zt(K,{buttonStyle:"none",className:`${kt}__reset`,onClick:()=>d({height:100,unit:"%",width:100,x:0,y:0}),children:c("general:reset")})]})}),zt("span",{className:`${kt}__description`,children:c("upload:cropToolDescription")}),Qo("div",{className:`${kt}__inputsWrap`,children:[zt(bh,{name:`${c("upload:width")} (px)`,onChange:j=>F({dimension:"width",value:j}),ref:S,value:(u.width/100*y).toFixed(0)}),zt(bh,{name:`${c("upload:height")} (px)`,onChange:j=>F({dimension:"height",value:j}),ref:T,value:(u.height/100*b).toFixed(0)})]})]}),a&&Qo("div",{className:`${kt}__groupWrap`,children:[zt("div",{children:Qo("div",{className:`${kt}__titleWrap`,children:[zt("h3",{children:c("upload:focalPoint")}),zt(K,{buttonStyle:"none",className:`${kt}__reset`,onClick:N,children:c("general:reset")})]})}),zt("span",{className:`${kt}__description`,children:c("upload:focalPointDescription")}),Qo("div",{className:`${kt}__inputsWrap`,children:[zt(bh,{name:"X %",onChange:j=>A({coordinate:"x",value:j}),value:m.x.toFixed(0)}),zt(bh,{name:"Y %",onChange:j=>A({coordinate:"y",value:j}),value:m.y.toFixed(0)})]})]})]})]})]})},OW=({boundsRef:t,checkBounds:e,children:o,className:n,containerRef:r,initialPosition:s={x:50,y:50},onDragEnd:i,setCheckBounds:a})=>{let[l,c]=pi({x:s.x,y:s.y}),[u,d]=pi(!1),f=tc(void 0),m=vh.useCallback((b,C,y)=>{let v=r.current.getBoundingClientRect(),x=t.current.getBoundingClientRect(),_=b??x.left,w=C??x.top,T=_<x.left||_>x.right,S=w<x.top||w>x.bottom,R=(_-v.left)/v.width*100,D=(w-v.top)/v.height*100,I=(x.left-v.left+x.width/2)/v.width*100,F=(x.top-v.top+x.height/2)/v.height*100;return(T||S)&&(d(!1),_<x.left?R=(x.left-v.left)/v.width*100:_>x.right&&(R=(v.width-(v.right-x.right))/v.width*100),w<x.top?D=(x.top-v.top)/v.height*100:w>x.bottom&&(D=(v.height-(v.bottom-x.bottom))/v.height*100),y&&(R=T?I:R,D=S?F:D)),{x:R,y:D}},[t,r]),p=b=>{b.preventDefault(),d(!0)},h=b=>{if(!u)return null;let{x:C,y}=m(b.clientX,b.clientY);c({x:C,y})},g=()=>{d(!1),i(l)};return vh.useEffect(()=>{if(!(u||!f.current)&&e){let{height:b,left:C,top:y,width:v}=f.current.getBoundingClientRect(),{x,y:_}=m(C+v/2,y+b/2,!0);i({x,y:_}),c({x,y:_}),a(!1);return}},[m,u,e,a,l.x,l.y,i]),vh.useEffect(()=>{c({x:s.x,y:s.y})},[s.x,s.y]),Qo("div",{className:[`${kt}__draggable-container`,u&&`${kt}__draggable-container--dragging`].filter(Boolean).join(" "),onMouseMove:h,children:[zt("button",{className:[`${kt}__draggable`,n].filter(Boolean).join(" "),onMouseDown:p,onMouseUp:g,ref:f,style:{left:`${l.x}%`,top:`${l.y}%`},type:"button",children:o}),zt("div",{})]})};import{jsx as xD}from"react/jsx-runtime";import"react";import{c as VW}from"react/compiler-runtime";import{jsx as Ds,jsxs as O0}from"react/jsx-runtime";import"react";var hi="file-details-draggable",pD=t=>{let e=VW(20),{collectionSlug:o,doc:n,hideRemoveFile:r,imageCacheTag:s,isSortable:i,removeItem:a,rowIndex:l,uploadConfig:c}=t,{id:u,filename:d,thumbnailURL:f,url:m}=n,p;e[0]!==o||e[1]!==u?(p={id:u,collectionSlug:o},e[0]=o,e[1]=u,e[2]=p):p=e[2];let[h,g]=Lt(p),b;e[3]!==h||e[4]!==g||e[5]!==o||e[6]!==n||e[7]!==d||e[8]!==r||e[9]!==s||e[10]!==i||e[11]!==a||e[12]!==l||e[13]!==f||e[14]!==c||e[15]!==m?(b=y=>O0("div",{className:[hi,y&&i&&`${hi}--has-drag-handle`].filter(Boolean).join(" "),ref:y.setNodeRef,style:{transform:y.transform,transition:y.transition,zIndex:y.isDragging?1:void 0},children:[O0("div",{className:`${hi}--drag-wrapper`,children:[i&&y&&Ds("div",{className:`${hi}__drag`,...y.attributes,...y.listeners,children:Ds(pn,{})}),Ds(Ar,{className:`${hi}__thumbnail`,collectionSlug:o,doc:n,fileSrc:f||m,imageCacheTag:s,uploadConfig:c})]}),Ds("div",{className:`${hi}__main-detail`,children:d}),O0("div",{className:`${hi}__actions`,children:[Ds(h,{}),Ds(g,{children:Ds(Cr,{})}),!r&&a&&Ds(K,{buttonStyle:"icon-label",className:`${hi}__remove`,icon:"x",iconStyle:"none",onClick:()=>a(l),round:!0})]})]}),e[3]=h,e[4]=g,e[5]=o,e[6]=n,e[7]=d,e[8]=r,e[9]=s,e[10]=i,e[11]=a,e[12]=l,e[13]=f,e[14]=c,e[15]=m,e[16]=b):b=e[16];let C;return e[17]!==u||e[18]!==b?(C=Ds(Nn,{id:u,children:b},u),e[17]=u,e[18]=b,e[19]=C):C=e[19],C};import{jsx as Td,jsxs as yD}from"react/jsx-runtime";import"react";import{jsx as bD,jsxs as Id}from"react/jsx-runtime";import{formatFilesize as HW}from"payload/shared";import vD from"react";import{c as GW}from"react/compiler-runtime";import{jsx as zW,jsxs as hD}from"react/jsx-runtime";import{useState as gD}from"react";var WW="copy-to-clipboard",Sd=t=>{let e=GW(11),{defaultMessage:o,successMessage:n,value:r}=t,[s,i]=gD(!1),[a,l]=gD(!1),{t:c}=P();if(r){let u;e[0]!==r?(u=async()=>{await navigator.clipboard.writeText(r),i(!0)},e[0]=r,e[1]=u):u=e[1];let d,f;e[2]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{l(!0),i(!1)},f=()=>{l(!1),i(!1)},e[2]=d,e[3]=f):(d=e[2],f=e[3]);let m;return e[4]!==s||e[5]!==o||e[6]!==a||e[7]!==n||e[8]!==c||e[9]!==u?(m=hD("button",{className:WW,onClick:u,onMouseEnter:d,onMouseLeave:f,type:"button",children:[zW($i,{}),hD(Po,{delay:s?0:void 0,show:a||s,children:[s&&(n??c("general:copied")),!s&&(o??c("general:copy"))]})]}),e[4]=s,e[5]=o,e[6]=a,e[7]=n,e[8]=c,e[9]=u,e[10]=m):m=e[10],m}return null};var V0="file-meta",_d=t=>{let{filename:e,filesize:o,height:n,mimeType:r,url:s,width:i}=t;return Id("div",{className:V0,children:[Id("div",{className:`${V0}__url`,children:[bD("a",{href:s,rel:"noopener noreferrer",target:"_blank",children:e}),bD(Sd,{defaultMessage:"Copy URL",value:s})]}),Id("div",{className:`${V0}__size-type`,children:[HW(o),typeof i=="number"&&typeof n=="number"&&Id(vD.Fragment,{children:["\xA0-\xA0",i,"x",n]}),r&&Id(vD.Fragment,{children:["\xA0-\xA0",r]})]})]})};var yh="file-details",CD=t=>{let{customUploadActions:e,doc:o,enableAdjustments:n,handleRemove:r,hasImageSizes:s,hideRemoveFile:i,imageCacheTag:a,uploadConfig:l}=t,{filename:c,filesize:u,height:d,mimeType:f,thumbnailURL:m,url:p,width:h}=o,g=l.displayPreview??!0;return Td("div",{className:yh,children:yD("header",{children:[g&&Td(Ar,{className:`${yh}__thumbnail`,doc:o,fileSrc:m||p,imageCacheTag:a,uploadConfig:l}),yD("div",{className:`${yh}__main-detail`,children:[Td(_d,{filename:c,filesize:u,height:d,mimeType:f,url:p,width:h}),(n||s&&o.filename||e)&&Td(G0,{customActions:e,enableAdjustments:!!n,enablePreviewSizes:s&&o.filename,mimeType:f})]}),!i&&r&&Td(K,{buttonStyle:"icon-label",className:`${yh}__remove`,icon:"x",iconStyle:"with-border",onClick:r,round:!0})]})})};var z0=t=>{let{hasMany:e}=t;return e?xD(pD,{...t}):xD(CD,{...t})};import{jsx as Gn,jsxs as oc}from"react/jsx-runtime";import{useEffect as UW,useMemo as XW,useState as wD}from"react";var tn="preview-sizes",SD=(t,e)=>{if(!e||e.length===0)return t;let o={};return e.forEach(({name:n})=>{t[n]&&(o[n]=t[n])}),o},ID=({name:t,active:e,alt:o,meta:n,onClick:r,previewSrc:s})=>oc("div",{className:[`${tn}__sizeOption`,e&&`${tn}--selected`].filter(Boolean).join(" "),onClick:typeof r=="function"?r:void 0,onKeyDown:i=>{typeof r=="function"&&i.key==="Enter"&&r()},role:"button",tabIndex:0,children:[Gn("div",{className:`${tn}__image`,children:Gn("img",{alt:o,src:s})}),oc("div",{className:`${tn}__sizeMeta`,children:[Gn("div",{className:`${tn}__sizeName`,children:t}),Gn(_d,{...n})]})]}),W0=({doc:t,imageCacheTag:e,uploadConfig:o})=>{let{imageSizes:n}=o,{sizes:r}=t,s=t?.alt||t.filename||"",[i,a]=wD(()=>SD(r,n)),[l,c]=wD(null),u=p=>{if(!p.filename)return null;if(p.url)return`${p.url}${e?`?${encodeURIComponent(e)}`:""}`};UW(()=>{a(SD(r,n))},[r,n,e]);let d=u(l?t.sizes[l]:t),f=XW(()=>({filename:t.filename,filesize:t.filesize,height:t.height,mimeType:t.mimeType,url:t.url,width:t.width}),[t]),m="Original";return oc("div",{className:tn,children:[oc("div",{className:`${tn}__imageWrap`,children:[oc("div",{className:`${tn}__meta`,children:[Gn("div",{className:`${tn}__sizeName`,children:l||m}),Gn(_d,{...l?i[l]:f})]}),Gn("img",{alt:s,className:`${tn}__preview`,src:d})]}),Gn("div",{className:`${tn}__listWrap`,children:oc("div",{className:`${tn}__list`,children:[Gn(ID,{active:!l,alt:s,meta:f,name:m,onClick:()=>c(null),previewSrc:u(t)}),Object.entries(i).map(([p,h])=>{let g=l===p,b=u(h);return b?Gn(ID,{active:g,alt:s,meta:h,name:p,onClick:()=>c(p),previewSrc:b},p):null})]})})]})};var go="file-field",wd="edit-upload",RD="preview-sizes",JW=t=>!t&&t!==void 0?"A file is required.":t&&(!t.name||t.name==="")?"A file name is required.":!0,G0=t=>{let e=TD(8),{customActions:o,enableAdjustments:n,enablePreviewSizes:r,mimeType:s}=t,{t:i}=P(),{openModal:a}=ie(),l,c;if(e[0]!==o||e[1]!==n||e[2]!==r||e[3]!==s||e[4]!==a||e[5]!==i){c=Symbol.for("react.early_return_sentinel");e:{let u=FD(s)&&s!=="image/svg+xml"&&s!=="image/jxl";if(!u&&(!o||o.length===0)){c=null;break e}l=on("div",{className:`${go}__upload-actions`,children:[u&&on(Ad.Fragment,{children:[r&&jt(K,{buttonStyle:"pill",className:`${go}__previewSizes`,margin:!1,onClick:()=>{a(RD)},size:"small",children:i("upload:previewSizes")}),n&&jt(K,{buttonStyle:"pill",className:`${go}__edit`,margin:!1,onClick:()=>{a(wd)},size:"small",children:i("upload:editImage")})]}),o&&o.map(qW)]})}e[0]=o,e[1]=n,e[2]=r,e[3]=s,e[4]=a,e[5]=i,e[6]=l,e[7]=c}else l=e[6],c=e[7];return c!==Symbol.for("react.early_return_sentinel")?c:l},H0=t=>{let e=TD(5),{resetUploadEdits:o,updateUploadEdits:n,uploadEdits:r}=Zi(),s;return e[0]!==t||e[1]!==o||e[2]!==n||e[3]!==r?(s=jt(Ul,{children:jt(U0,{...t,resetUploadEdits:o,updateUploadEdits:n,uploadEdits:r})}),e[0]=t,e[1]=o,e[2]=n,e[3]=r,e[4]=s):s=e[4],s},U0=t=>{let{collectionSlug:e,customActions:o,initialState:n,onChange:r,resetUploadEdits:s,updateUploadEdits:i,uploadConfig:a,UploadControls:l,uploadEdits:c}=t,{setUploadControlFile:u,setUploadControlFileName:d,setUploadControlFileUrl:f,uploadControlFile:m,uploadControlFileName:p,uploadControlFileUrl:h}=R0(),{config:{routes:{api:g}}}=H(),{t:b}=P(),{setModified:C}=Oe(),{id:y,data:v,docPermissions:x,setUploadStatus:_}=Te(),w=Gr(),{errorMessage:T,setValue:S,showError:R,value:D}=Fe({path:"file",validate:JW}),[I,F]=Dd(null),[A,k]=Dd(!1),[L,N]=Dd(D?.name||""),[B,j]=Dd(!1),[E,$]=Dd(""),M=_D(null),O=_D(null),G=typeof a?.pasteURL=="object"&&a.pasteURL.allowList?.length>0,W=Fd(({file:be,isNewFile:Ve=!0})=>{Ve&&be instanceof File&&F(URL.createObjectURL(be)),S(be),j(!1),f(""),d(null),u(null),typeof r=="function"&&r(be)},[r,S,u,d,f]),U=(be,Ve)=>new File([be],Ve,{type:be.type,lastModified:be.lastModified}),z=Ad.useCallback(be=>{let Ve=be.target.value;D&&(W({file:U(D,Ve),isNewFile:!1}),N(Ve))},[W,D]),J=Fd(be=>{let Ve=be?.[0];W({file:Ve})},[W]),Z=Fd(()=>{k(!0),W({file:null}),F(""),$(""),s(),j(!1),f(""),d(null),u(null)},[W,s,u,d,f]),X=Fd(be=>{C(!0),i(be)},[C,i]),ae=Fd(async()=>{if(!(!E||a?.pasteURL===!1)){_("uploading");try{let be=await fetch(E);if(!be.ok)throw new Error(`Fetch failed with status: ${be.status}`);let Ve=await be.blob(),Ye=p||decodeURIComponent(E.split("/").pop()||""),se=new File([Ve],Ye,{type:Ve.type});W({file:se}),_("idle");return}catch{if(!G){oe.error("Failed to fetch the file."),_("failed");return}}try{let be=`/${e}/paste-url${y?`/${y}?`:"?"}src=${encodeURIComponent(E)}`,Ve=await fetch(ZW({apiRoute:g,path:be}));if(!Ve.ok)throw new Error(`Fetch failed with status: ${Ve.status}`);let Ye=await Ve.blob(),se=decodeURIComponent(E.split("/").pop()||""),xe=new File([Ye],se,{type:Ye.type});W({file:xe}),_("idle")}catch{oe.error("The provided URL is not allowed."),_("failed")}}},[g,e,E,W,y,_,a,p,G]);Rd(()=>{n?.file?.value instanceof File&&(F(URL.createObjectURL(n.file.value)),k(!1))},[n]),Rd(()=>{B&&M.current},[B]),Rd(()=>{w&&k(!1)},[w]);let Y=x?.update,ne=a?.imageSizes?.length>0,Q=!!a?.resizeOptions,de=a?.focalPoint===!0,{crop:ve=!0,focalPoint:fe=!0}=a,$e=fe&&(ne||Q||de),Me=a.mimeTypes?.join(", "),Ne=a?.cacheTags&&v?.updatedAt;return Rd(()=>{(async()=>{h&&($(h),await ae())})()},[h,ae]),Rd(()=>{(()=>{m&&W({file:m})})()},[m,W]),on("div",{className:[Ae,go].filter(Boolean).join(" "),children:[jt(Ze,{message:T,showError:R}),v&&v.filename&&!A&&jt(z0,{collectionSlug:e,customUploadActions:o,doc:v,enableAdjustments:ve||$e,handleRemove:Y?Z:void 0,hasImageSizes:ne,hideRemoveFile:a.hideRemoveFile,imageCacheTag:Ne,uploadConfig:a}),(!a.hideFileInputOnCreate&&!v?.filename||A)&&on("div",{className:`${go}__upload`,children:[!D&&!B&&jt(ya,{onChange:J,children:on("div",{className:`${go}__dropzoneContent`,children:[on("div",{className:`${go}__dropzoneButtons`,children:[jt(K,{buttonStyle:"pill",onClick:()=>{O.current&&O.current.click()},size:"small",children:b("upload:selectFile")}),jt("input",{accept:Me,"aria-hidden":"true",className:`${go}__hidden-input`,hidden:!0,onChange:be=>{be.target.files&&be.target.files.length>0&&J(be.target.files)},ref:O,type:"file"}),a?.pasteURL!==!1&&on(YW,{children:[jt("span",{className:`${go}__orText`,children:b("general:or")}),jt(K,{buttonStyle:"pill",onClick:()=>{j(!0),f(""),u(null),d(null)},size:"small",children:b("upload:pasteURL")})]}),l||null]}),on("p",{className:`${go}__dragAndDropText`,children:[b("general:or")," ",b("upload:dragAndDrop")]})]})}),B&&on(Ad.Fragment,{children:[on("div",{className:`${go}__remote-file-wrap`,children:[jt("input",{className:`${go}__remote-file`,onChange:be=>{$(be.target.value)},ref:M,title:E,type:"text",value:E}),jt("div",{className:`${go}__add-file-wrap`,children:jt("button",{className:`${go}__add-file`,onClick:()=>{ae()},type:"button",children:b("upload:addFile")})})]}),jt(K,{buttonStyle:"icon-label",className:`${go}__remove`,icon:"x",iconStyle:"with-border",onClick:()=>{j(!1),f(""),u(null),d(null)},round:!0,tooltip:b("general:cancel")})]}),D&&I&&on(Ad.Fragment,{children:[jt("div",{className:`${go}__thumbnail-wrap`,children:jt(Ar,{collectionSlug:e,fileSrc:FD(D.type)?I:null})}),on("div",{className:`${go}__file-adjustments`,children:[jt("input",{className:`${go}__filename`,onChange:z,title:L||D.name,type:"text",value:L||D.name}),jt(G0,{customActions:o,enableAdjustments:ve||$e,enablePreviewSizes:ne&&v?.filename&&!A,mimeType:D.type})]}),jt(K,{buttonStyle:"icon-label",className:`${go}__remove`,icon:"x",iconStyle:"with-border",onClick:Z,round:!0,tooltip:b("general:cancel")})]})]}),(D||v?.filename)&&jt(ls,{children:jt(St,{Header:null,slug:wd,children:jt(M0,{fileName:D?.name||v?.filename,fileSrc:v?.url||I,imageCacheTag:Ne,initialCrop:c?.crop??void 0,initialFocalPoint:{x:c?.focalPoint?.x||v?.focalX||50,y:c?.focalPoint?.y||v?.focalY||50},onSave:X,showCrop:ve,showFocalPoint:$e})})}),v&&ne&&jt(St,{className:`${go}__previewDrawer`,hoverTitle:!0,slug:RD,title:b("upload:sizesFor",{label:v.filename}),children:jt(W0,{doc:v,imageCacheTag:Ne,uploadConfig:a})})]})};function qW(t,e){return jt(Ad.Fragment,{children:t},e)}var tH="collection-edit";function PD({resetUploadEdits:t,submitted:e,updateUploadEdits:o,uploadEdits:n}){let{action:r,collectionSlug:s,docPermissions:i,getDocPreferences:a,hasSavePermission:l,initialState:c,isInitializing:u,Upload:d}=Te(),{drawerSlug:f,onSave:m}=Mu(),{getFormState:p}=Pt(),{config:{folders:h},getEntityConfig:g}=H(),b=Pd.useRef(null),C=g({collectionSlug:s}),{reportUpdate:y}=_s(),v=C.slug,[x]=Pd.useState(v),_=DD(T=>{y({doc:T?.doc||T?.result,drawerSlug:f,entitySlug:v,operation:"create",updatedAt:T?.result?.updatedAt||new Date().toISOString()}),typeof m=="function"&&m({...T,operation:"create"}),t()},[v,m,y,t,f]),w=DD(async({formState:T,submitted:S})=>{let R=Dr(b),D=await a(),{state:I}=await p({collectionSlug:v,docPermissions:i,docPreferences:D,formState:T,operation:"create",schemaPath:x,signal:R.signal,skipValidation:!S});return b.current=null,I},[v,x,a,p,i]);return AD(()=>{let T=b.current;return()=>{Rr(T)}},[]),gi(ru,{operation:"create",children:KW(Ts,{action:r,className:`${tH}__form`,disabled:u||!l,initialState:u?void 0:c,isInitializing:u,method:"POST",onChange:[w],onSuccess:_,submitted:e,children:[gi(bd,{BeforeFields:gi(Pd.Fragment,{children:d||gi(U0,{collectionSlug:C.slug,customActions:[h&&C.folders&&gi(xd,{buttonProps:{buttonStyle:"pill",size:"small"},folderCollectionSlug:h.slug,folderFieldName:h.fieldName},"move-doc-to-folder")].filter(Boolean),initialState:c,resetUploadEdits:t,updateUploadEdits:o,uploadConfig:C.upload,uploadEdits:n})}),docPermissions:i,fields:C.fields,schemaPathSegments:[C.slug]}),gi(rH,{}),gi(oH,{})]})})}function oH(){let t=QW(7),{getField:e,getFields:o}=Oe(),{getFormDataRef:n}=Oo(),r;t[0]!==o||t[1]!==n?(r=()=>{n.current=o},t[0]=o,t[1]=n,t[2]=r):r=t[2];let s;return t[3]!==e||t[4]!==o||t[5]!==n?(s=[o,e,n],t[3]=e,t[4]=o,t[5]=n,t[6]=s):s=t[6],AD(r,s),null}function rH(){let{docConfig:t}=Te(),{activeIndex:e,forms:o,setFormTotalErrorCount:n}=Oo(),r=Pd.useRef(0),s=eH(()=>o[e]?.formState?.file?.valid??!0,[e,o]),i=Pd.useCallback(a=>{let l=a;s||(l+=1),l!==r.current&&(n({errorCount:l,index:e}),r.current=l)},[e,n,s]);return t?gi(Ki,{fields:t.fields,path:[],setErrorCount:i}):null}import{c as dH}from"react/compiler-runtime";import{jsx as Ot,jsxs as Dn}from"react/jsx-runtime";var bi={};$x(bi,{WindowInfo:()=>LD,WindowInfoContext:()=>rc,WindowInfoProvider:()=>$D,useWindowInfo:()=>mr,withWindowInfo:()=>BD});import{useContext as sH}from"react";import{createContext as nH}from"react";var rc=nH({});var mr=()=>sH(rc);import ED,{Fragment as ND}from"react";var LD=t=>{let{children:e}=t,o=mr();return e?typeof e=="function"?ED.createElement(ND,null,e(o)):ED.createElement(ND,null,e):null};import iH,{useCallback as kD,useEffect as jD,useReducer as aH,useRef as lH}from"react";var cH=(t,e)=>{let{payload:{breakpoints:o,animationRef:n}}=e;n.current=null;let{eventsFired:r}=t,{documentElement:{style:s,clientWidth:i,clientHeight:a}}=document,{innerWidth:l,innerHeight:c}=window,u=`${i/100}px`,d=`${a/100}px`,f=o?Object.keys(o).reduce((p,h)=>Object.assign(Object.assign({},p),{[h]:window.matchMedia(o[h]).matches}),{}):{},m={width:l,height:c,"--vw":u,"--vh":d,breakpoints:f,eventsFired:r+1};return s.setProperty("--vw",u),s.setProperty("--vh",d),m},$D=t=>{let{breakpoints:e,children:o}=t,n=lH(null),[r,s]=aH(cH,{width:void 0,height:void 0,"--vw":"","--vh":"",breakpoints:{},eventsFired:0}),i=kD(()=>{n.current&&cancelAnimationFrame(n.current),n.current=requestAnimationFrame(()=>s({type:"UPDATE",payload:{breakpoints:e,animationRef:n}}))},[e]),a=kD(()=>{setTimeout(()=>{i()},500)},[i]);return jD(()=>(window.addEventListener("resize",i),window.addEventListener("orientationchange",a),()=>{window.removeEventListener("resize",i),window.removeEventListener("orientationchange",a)}),[i,a]),jD(()=>{r.eventsFired===0&&s({type:"UPDATE",payload:{breakpoints:e,animationRef:n}})},[e,r]),iH.createElement(rc.Provider,{value:Object.assign({},r)},o&&o)};import uH from"react";var BD=t=>o=>{let n=mr();return uH.createElement(t,Object.assign({},o,{windowInfo:n}))};import{isImage as mH}from"payload/shared";import xh from"react";var MD=t=>new Promise((e,o)=>{let n=new Image;n.src=URL.createObjectURL(t),n.onload=()=>{let s,i,a=n.width/n.height;a>1?(i=280,s=280/a):(i=280*a,s=280);let l=new OffscreenCanvas(i,s),c=l.getContext("2d"),u=t.type==="image/png"?"image/png":"image/jpeg",d=t.type==="image/png"?void 0:.8;c.drawImage(n,0,0,i,s),l.convertToBlob({type:u,...d&&{quality:d}}).then(f=>{URL.revokeObjectURL(n.src);let m=new FileReader;m.onload=()=>e(m.result),m.onerror=o,m.readAsDataURL(f)}).catch(o)},n.onerror=r=>{URL.revokeObjectURL(n.src),o(r)}});var Ch="bulk-upload-drawer--add-more-files",Ft="file-selections";function OD(){let t=dH(39),{activeIndex:e,addFiles:o,forms:n,isInitializing:r,removeFile:s,setActiveIndex:i,totalErrorCount:a}=Oo(),{initialFiles:l,initialForms:c,maxFiles:u}=Vo(),{i18n:d,t:f}=P(),{closeModal:m,openModal:p}=ie(),[h,g]=xh.useState(!1),{breakpoints:b}=mr(),C;t[0]!==s?(C=L=>{s(L)},t[0]=s,t[1]=C):C=t[1];let y=C,v;t[2]!==o||t[3]!==m?(v=L=>{o(L),m(Ch)},t[2]=o,t[3]=m,t[4]=v):v=t[4];let x=v,_=hH,w=r?l?.length??c?.length:n.length,{collectionSlug:T,selectableCollections:S,setCollectionSlug:R}=Vo(),{getEntityConfig:D}=H(),I=h&&`${Ft}__showingFiles`,F;t[5]!==I?(F=[Ft,I].filter(Boolean),t[5]=I,t[6]=F):F=t[6];let A=F.join(" "),k;if(t[7]!==e||t[8]!==b.m||t[9]!==T||t[10]!==m||t[11]!==n||t[12]!==D||t[13]!==x||t[14]!==y||t[15]!==d||t[16]!==l||t[17]!==c||t[18]!==r||t[19]!==u||t[20]!==p||t[21]!==S||t[22]!==i||t[23]!==R||t[24]!==h||t[25]!==f||t[26]!==A||t[27]!==a||t[28]!==w){let L;t[30]===Symbol.for("react.memo_cache_sentinel")?(L=()=>g(pH),t[30]=L):L=t[30];let N;t[31]!==m?(N=()=>m(Ch),t[31]=m,t[32]=N):N=t[32];let B;t[33]!==e||t[34]!==y||t[35]!==d||t[36]!==i||t[37]!==f?(B=(j,E)=>{let{errorCount:$,formID:M,formState:O}=j,G=O?.file?.value||{};return Dn("div",{className:[`${Ft}__fileRowContainer`,E===e&&`${Ft}__fileRowContainer--active`,$&&$>0&&`${Ft}__fileRowContainer--error`].filter(Boolean).join(" "),children:[Dn("button",{className:`${Ft}__fileRow`,onClick:()=>i(E),type:"button",children:[Ot(gH,{file:G,formID:M}),Ot("div",{className:`${Ft}__fileDetails`,children:Ot("p",{className:`${Ft}__fileName`,title:G.name,children:G.name||f("upload:noFile")})}),G instanceof File?Ot("p",{className:`${Ft}__fileSize`,children:_(G)}):null,Ot("div",{className:`${Ft}__remove ${Ft}__remove--underlay`,children:Ot(yt,{})}),$?Ot(_o,{className:`${Ft}__errorCount`,count:$,i18n:d}):null]}),Ot("button",{"aria-label":f("general:remove"),className:`${Ft}__remove ${Ft}__remove--overlay`,onClick:()=>y(E),type:"button",children:Ot(yt,{})})]},M)},t[33]=e,t[34]=y,t[35]=d,t[36]=i,t[37]=f,t[38]=B):B=t[38],k=Dn("div",{className:A,children:[b.m&&h?Ot("div",{className:`${Ft}__mobileBlur`}):null,Dn("div",{className:`${Ft}__header`,children:[S?.length>1&&Ot(qr,{className:`${Ft}__collectionSelect`,isClearable:!1,name:"groupBy",onChange:j=>{let E=typeof j=="object"&&"value"in j?j?.value:j;R(E)},options:S?.map(j=>{let E=D({collectionSlug:j});return{label:E.labels.singular,value:E.slug}})||[],path:"groupBy",required:!0,value:T}),Dn("div",{className:`${Ft}__headerTopRow`,children:[Dn("div",{className:`${Ft}__header__text`,children:[Ot(_o,{count:a,i18n:d,withMessage:!0}),Ot("p",{children:Dn("strong",{title:`${w} ${f(w>1?"upload:filesToUpload":"upload:fileToUpload")}`,children:[w," ",f(w>1?"upload:filesToUpload":"upload:fileToUpload")]})})]}),Dn("div",{className:`${Ft}__header__actions`,children:[typeof u!="number"||w<u?Ot(tt,{className:`${Ft}__header__addFile`,onClick:()=>p(Ch),size:"small",children:f("upload:addFile")}):null,Dn(K,{buttonStyle:"transparent",className:`${Ft}__toggler`,onClick:L,children:[Ot("span",{className:`${Ft}__toggler__label`,children:Dn("strong",{title:`${w} ${f(w>1?"upload:filesToUpload":"upload:fileToUpload")}`,children:[w," ",f(w>1?"upload:filesToUpload":"upload:fileToUpload")]})}),Ot(He,{direction:h?"down":"up"})]}),Ot(St,{gutter:!1,Header:null,slug:Ch,children:Ot(oh,{onCancel:N,onDrop:x})})]})]}),Ot("div",{className:`${Ft}__header__mobileDocActions`,children:Ot(E0,{})})]}),Ot("div",{className:`${Ft}__animateWrapper`,children:Ot(_r,{height:!b.m||h?"auto":0,children:Dn("div",{className:`${Ft}__filesContainer`,children:[r&&n.length===0&&(l?.length>0||c?.length>0)?(l?Array.from(l):c).map(fH):null,n.map(B)]})})})]}),t[7]=e,t[8]=b.m,t[9]=T,t[10]=m,t[11]=n,t[12]=D,t[13]=x,t[14]=y,t[15]=d,t[16]=l,t[17]=c,t[18]=r,t[19]=u,t[20]=p,t[21]=S,t[22]=i,t[23]=R,t[24]=h,t[25]=f,t[26]=A,t[27]=a,t[28]=w,t[29]=k}else k=t[29];return k}function fH(t,e){return Ot(Dt,{animationDelay:`calc(${e} * 60ms)`,height:"35px"},e)}function pH(t){return!t}function hH(t){let e=t.size,o=e===0?0:Math.floor(Math.log(e)/Math.log(1024)),n=o>1?1:0;return(e/Math.pow(1024,o)).toFixed(n)+" "+["B","kB","MB","GB","TB"][o]}function gH({file:t,formID:e}){let[o,n]=xh.useState(null),[r,s]=xh.useState(!0);return xh.useEffect(()=>{let i=!1;async function a(){s(!0),n(null);try{if(mH(t.type)){let l=await MD(t);i||n(l)}else n(null)}catch{i||n(null)}finally{i||s(!1)}}return a(),()=>{i=!0}},[t]),r?Ot(Dt,{className:`${Ft}__thumbnail-shimmer`,disableInlineStyles:!0}):Ot(Ar,{className:`${Ft}__thumbnail`,fileSrc:o},`${e}-${o||"placeholder"}`)}var VD="bulk-upload--file-manager";function GD(){let t=bH(18),{activeIndex:e,collectionSlug:o,docPermissions:n,documentSlots:r,forms:s,hasPublishPermission:i,hasSavePermission:a,hasSubmitted:l,resetUploadEdits:c,updateUploadEdits:u}=Oo(),d=s[e],{getEntityConfig:f}=H(),{i18n:m}=P(),{user:p}=Se(),{openModal:h}=ie(),g;if(t[0]!==d||t[1]!==e||t[2]!==o||t[3]!==n||t[4]!==r||t[5]!==s.length||t[6]!==f||t[7]!==i||t[8]!==a||t[9]!==l||t[10]!==m||t[11]!==h||t[12]!==c||t[13]!==u||t[14]!==p){let b=f({collectionSlug:o}),C;t[16]!==h?(C=()=>h(gd),t[16]=h,t[17]=C):C=t[17],g=X0("div",{className:VD,children:[Ed(OD,{}),X0("div",{className:`${VD}__editView`,children:[Ed(di,{onClose:C,title:vH(b.labels.singular,m)}),d?X0(ou,{collectionSlug:o,currentEditor:p,docPermissions:n,hasPublishedDoc:!1,hasPublishPermission:i,hasSavePermission:a,id:null,initialData:yH(d.formState,!0),initialState:d.formState,isLocked:!1,lastUpdateTime:0,mostRecentVersionIsAutosaved:!1,unpublishedVersionCount:0,Upload:r.Upload,versionCount:0,children:[Ed(OR,{collectionConfig:b}),Ed(PD,{resetUploadEdits:c,submitted:l,updateUploadEdits:u,uploadEdits:d?.uploadEdits})]},`${e}-${s.length}`):null]}),Ed(VR,{})]}),t[0]=d,t[1]=e,t[2]=o,t[3]=n,t[4]=r,t[5]=s.length,t[6]=f,t[7]=i,t[8]=a,t[9]=l,t[10]=m,t[11]=h,t[12]=c,t[13]=u,t[14]=p,t[15]=g}else g=t[15];return g}var SH="bulk-upload-drawer-slug";function IH(){let{addFiles:t,forms:e,isInitializing:o}=Oo(),{closeModal:n}=ie(),{collectionSlug:r,drawerSlug:s}=Vo(),{getEntityConfig:i}=H(),{t:a}=P(),u=i({collectionSlug:r})?.upload?.mimeTypes,d=Nr.useCallback(f=>{let m=new DataTransfer;for(let p of f)(u===void 0||u.length===0||xH(p.type,u))&&m.items.add(p);m.files.length===0?oe.error(a("error:invalidFileType")):t(m.files)},[t,a,u]);return r?!e.length&&!o?As(oh,{acceptMimeTypes:u?.join(", "),onCancel:()=>n(s),onDrop:d}):As(GD,{}):null}function WD(){let t=zD(17),{drawerSlug:e,onCancel:o,setInitialFiles:n,setInitialForms:r,setOnCancel:s,setOnSuccess:i,setSelectableCollections:a,setSuccessfullyUploaded:l,successfullyUploaded:c}=Vo(),{modalState:u}=ie(),d=Nr.useRef(u),f;t[0]!==e||t[1]!==o||t[2]!==n||t[3]!==r||t[4]!==s||t[5]!==i||t[6]!==a||t[7]!==l||t[8]!==c?(f=b=>{let C=d.current[e],y=b[e];typeof y>"u"&&typeof C>"u"||(C?.isOpen!==y?.isOpen&&(y?.isOpen||(c||typeof o=="function"&&o(),n(void 0),r(void 0),s(FH),i(_H),a(null),l(!1))),d.current=b)},t[0]=e,t[1]=o,t[2]=n,t[3]=r,t[4]=s,t[5]=i,t[6]=a,t[7]=l,t[8]=c,t[9]=f):f=t[9];let m=Je(f),p;t[10]!==u||t[11]!==m?(p=()=>{m(u)},t[10]=u,t[11]=m,t[12]=p):p=t[12];let h;t[13]!==u?(h=[u],t[13]=u,t[14]=h):h=t[14],wH(p,h);let g;return t[15]!==e?(g=As(St,{gutter:!1,Header:null,slug:e,children:As(DR,{children:As(Ul,{children:As(ls,{children:As(IH,{})})})})}),t[15]=e,t[16]=g):g=t[16],g}function _H(){return TH}function TH(){return null}function FH(){return RH}function RH(){return null}var HD=Nr.createContext({collectionSlug:"",drawerSlug:"",initialFiles:void 0,initialForms:[],maxFiles:void 0,onCancel:()=>null,onSuccess:()=>null,selectableCollections:null,setCollectionSlug:()=>null,setInitialFiles:()=>null,setInitialForms:()=>null,setMaxFiles:()=>null,setOnCancel:()=>null,setOnSuccess:()=>null,setSelectableCollections:()=>null,setSuccessfullyUploaded:()=>!1,successfullyUploaded:!1});function Z0(t){let e=zD(17),{children:o,drawerSlugPrefix:n}=t,[r,s]=Nr.useState(null),[i,a]=Nr.useState(),[l,c]=Nr.useState(),[u,d]=Nr.useState(),[f,m]=Nr.useState(void 0),[p,h]=Nr.useState(void 0),[g,b]=Nr.useState(void 0),[C,y]=Nr.useState(!1),v=`${n?`${n}-`:""}${UD()}`,x;e[0]===Symbol.for("react.memo_cache_sentinel")?(x=I=>{c(()=>I)},e[0]=x):x=e[0];let _=x,w;e[1]===Symbol.for("react.memo_cache_sentinel")?(w=I=>{d(()=>I)},e[1]=w):w=e[1];let T=w,S;e[2]!==u?(S=()=>{typeof u=="function"&&u()},e[2]=u,e[3]=S):S=e[3];let R;e[4]!==l?(R=(I,F)=>{typeof l=="function"&&l(I,F)},e[4]=l,e[5]=R):R=e[5];let D;return e[6]!==o||e[7]!==i||e[8]!==v||e[9]!==f||e[10]!==p||e[11]!==g||e[12]!==r||e[13]!==C||e[14]!==S||e[15]!==R?(D=As(HD,{value:{collectionSlug:i,drawerSlug:v,initialFiles:f,initialForms:p,maxFiles:g,onCancel:S,onSuccess:R,selectableCollections:r,setCollectionSlug:a,setInitialFiles:m,setInitialForms:h,setMaxFiles:b,setOnCancel:T,setOnSuccess:_,setSelectableCollections:s,setSuccessfullyUploaded:y,successfullyUploaded:C},children:CH(Nr.Fragment,{children:[o,As(WD,{})]})}),e[6]=o,e[7]=i,e[8]=v,e[9]=f,e[10]=p,e[11]=g,e[12]=r,e[13]=C,e[14]=S,e[15]=R,e[16]=D):D=e[16],D}var Vo=()=>Nr.use(HD);function UD(){let t=Wr();return`${SH}-${t||1}`}import{jsx as eo,jsxs as _a,Fragment as Ld}from"react/jsx-runtime";import{formatAdminURL as VH}from"payload/shared";import*as KD from"qs-esm";import An,{useCallback as Y0,useEffect as QD,useMemo as J0}from"react";function XD(t,e){let o=Array.isArray(e);if(typeof t=="string"||typeof t=="number")return t;if(t&&typeof t=="object"&&"relationTo"in t&&"value"in t){let n=t.value;for(;n&&typeof n=="object"&&n!==null&&"value"in n;)n=n.value;return n&&typeof n=="object"&&n!==null&&"id"in n&&(n=n.id),o?{relationTo:t.relationTo,value:n}:n}return t&&typeof t=="object"&&"id"in t?t.id:t}import{c as NH}from"react/compiler-runtime";import{jsx as Ia,jsxs as LH}from"react/jsx-runtime";import"react";import{c as DH}from"react/compiler-runtime";import{jsx as vi,jsxs as wh}from"react/jsx-runtime";import{getTranslation as AH}from"@payloadcms/translations";import{formatFilesize as PH}from"payload/shared";import"react";var Ps="upload-relationship-details";function Sh(t){let e=DH(11),{id:o,allowEdit:n,allowRemove:r,alt:s,byteSize:i,className:a,collectionSlug:l,displayPreview:c,filename:u,mimeType:d,onRemove:f,reloadDoc:m,showCollectionSlug:p,src:h,thumbnailSrc:g,updatedAt:b,withMeta:C,x:y,y:v}=t,x=p===void 0?!1:p,_=C===void 0?!0:C,{config:w}=H(),{i18n:T}=P(),S="collections"in w?w.collections.find(M=>M.slug===l):void 0,R=o??void 0,D;e[0]!==l||e[1]!==R?(D={id:R,collectionSlug:l},e[0]=l,e[1]=R,e[2]=D):D=e[2];let[I,,F]=Lt(D),{openDrawer:A}=F,k;e[3]!==l||e[4]!==m?(k=async M=>{let{doc:O}=M;return m(O.id,l)},e[3]=l,e[4]=m,e[5]=k):k=e[5];let L=k,N;e[6]!==y||e[7]!==v?(N=function(O,G){let W=[];return G&&W.push(PH(G)),y&&v&&W.push(`${y}x${v}`),O&&W.push(O),W.join(" \u2014 ")},e[6]=y,e[7]=v,e[8]=N):N=e[8];let j=_?N(d,i):"",E=c??S?.upload?.displayPreview??!0,$;return e[9]!==a?($=[Ps,a].filter(Boolean),e[9]=a,e[10]=$):$=e[10],wh("div",{className:$.join(" "),children:[wh("div",{className:`${Ps}__imageAndDetails`,children:[E&&vi(nF,{alt:s,className:`${Ps}__thumbnail`,filename:u,fileSrc:g,imageCacheTag:S?.upload?.cacheTags&&b,size:"small"}),x&&S?vi(tt,{size:"small",children:AH(S.labels.singular,T)}):null,wh("div",{className:`${Ps}__details`,children:[vi("p",{className:`${Ps}__filename`,children:h?vi("a",{href:h,target:"_blank",children:u}):u}),_?vi("p",{className:`${Ps}__meta`,children:j}):null]})]}),n!==!1||r!==!1?wh("div",{className:`${Ps}__actions`,children:[n!==!1?vi(K,{buttonStyle:"icon-label",className:`${Ps}__edit`,icon:"edit",iconStyle:"none",onClick:A}):null,r!==!1?vi(K,{buttonStyle:"icon-label",className:`${Ps}__remove`,icon:"x",iconStyle:"none",onClick:()=>f()}):null,vi(I,{onSave:L})]}):null]})}import{jsx as EH}from"react/jsx-runtime";import"react";var ZD="upload-field-card";function Ih({children:t,className:e,size:o="medium"}){return EH("div",{className:[ZD,e,`${ZD}--size-${o}`].filter(Boolean).join(" "),children:t})}import{getBestFitFromSizes as kH,isImage as jH}from"payload/shared";var Nd="upload upload--has-many";function YD(t){let e=NH(29),{className:o,displayPreview:n,fileDocs:r,isSortable:s,onRemove:i,onReorder:a,readonly:l,reloadDoc:c,serverURL:u,showCollectionSlug:d}=t,f=d===void 0?!1:d,m;e[0]!==r||e[1]!==a?(m=(v,x)=>{if(v===x)return;let _=[...r],[w]=_.splice(v,1);_.splice(x,0,w),a(_)},e[0]=r,e[1]=a,e[2]=m):m=e[2];let p=m,h;e[3]!==r||e[4]!==i?(h=v=>{let x=[...r||[]];x.splice(v,1),i(x.length===0?[]:x)},e[3]=r,e[4]=i,e[5]=h):h=e[5];let g=h,b;e[6]!==o?(b=[Nd,o].filter(Boolean),e[6]=o,e[7]=b):b=e[7];let C=b.join(" "),y;if(e[8]!==n||e[9]!==r||e[10]!==s||e[11]!==p||e[12]!==l||e[13]!==c||e[14]!==g||e[15]!==u||e[16]!==f||e[17]!==C){let v;e[19]!==p?(v=_=>{let{moveFromIndex:w,moveToIndex:T}=_;return p(w,T)},e[19]=p,e[20]=v):v=e[20];let x;e[21]!==n||e[22]!==s||e[23]!==l||e[24]!==c||e[25]!==g||e[26]!==u||e[27]!==f?(x=(_,w)=>{let{relationTo:T,value:S}=_,R=String(S.id),D,I;if(S.url)try{D=new URL(S.url,u).toString()}catch{D=`${u}${S.url}`}if(S.thumbnailURL)try{I=new URL(S.thumbnailURL,u).toString()}catch{I=`${u}${S.thumbnailURL}`}return jH(S.mimeType)&&(I=kH({sizes:S.sizes,thumbnailURL:I,url:D,width:S.width})),Ia(Nn,{disabled:!s||l,id:R,children:F=>Ia("div",{className:[`${Nd}__dragItem`,F&&s&&`${Nd}--has-drag-handle`].filter(Boolean).join(" "),ref:F.setNodeRef,style:{transform:F.transform,transition:F.transition,zIndex:F.isDragging?1:void 0},children:LH(Ih,{size:"small",children:[F&&Ia("div",{className:`${Nd}__drag`,...F.attributes,...F.listeners,children:Ia(pn,{})}),Ia(Sh,{allowEdit:!l,allowRemove:!l,alt:S?.alt||S?.filename,byteSize:S.filesize,collectionSlug:T,displayPreview:n,filename:S.filename,id:R,mimeType:S?.mimeType,onRemove:()=>g(w),reloadDoc:c,showCollectionSlug:f,src:D,thumbnailSrc:I,updatedAt:S.updatedAt,withMeta:!1,x:S?.width,y:S?.height})]})})},R)},e[21]=n,e[22]=s,e[23]=l,e[24]=c,e[25]=g,e[26]=u,e[27]=f,e[28]=x):x=e[28],y=Ia("div",{className:C,children:Ia(zr,{className:`${Nd}__draggable-rows`,ids:r?.map($H),onDragEnd:v,children:r.map(x)})}),e[8]=n,e[9]=r,e[10]=s,e[11]=p,e[12]=l,e[13]=c,e[14]=g,e[15]=u,e[16]=f,e[17]=C,e[18]=y}else y=e[18];return y}function $H(t){let{value:e}=t;return String(e.id)}import{jsx as JD}from"react/jsx-runtime";import{getBestFitFromSizes as BH,isImage as MH}from"payload/shared";import"react";var OH="upload upload--has-one";function qD(t){let{className:e,displayPreview:o,fileDoc:n,onRemove:r,readonly:s,reloadDoc:i,serverURL:a,showCollectionSlug:l=!1}=t,{relationTo:c,value:u}=n,d=String(u?.id),f,m;if(u.url)try{f=new URL(u.url,a).toString()}catch{f=`${a}${u.url}`}if(u.thumbnailURL)try{m=new URL(u.thumbnailURL,a).toString()}catch{m=`${a}${u.thumbnailURL}`}return MH(u.mimeType)&&(m=BH({sizes:u.sizes,thumbnailURL:m,url:f,width:u.width})),JD(Ih,{className:[OH,e].filter(Boolean).join(" "),children:JD(Sh,{allowEdit:!s,allowRemove:!s,alt:u?.alt||u?.filename,byteSize:u.filesize,collectionSlug:c,displayPreview:o,filename:u.filename,id:d,mimeType:u?.mimeType,onRemove:r,reloadDoc:i,showCollectionSlug:l,src:f,thumbnailSrc:m,updatedAt:u.updatedAt,x:u?.width,y:u?.height})})}var zn="upload";function _h(t){let{AfterInput:e,allowCreate:o,api:n,BeforeInput:r,className:s,Description:i,description:a,displayPreview:l,Error:c,filterOptions:u,hasMany:d,isSortable:f,Label:m,label:p,localized:h,maxRows:g,onChange:b,path:C,readOnly:y,relationTo:v,required:x,serverURL:_,showError:w,style:T,value:S}=t,[R,D]=An.useState(),[I]=An.useState(Array.isArray(v)?v[0]:v),{openModal:F}=ie(),{drawerSlug:A,setCollectionSlug:k,setInitialFiles:L,setMaxFiles:N,setOnSuccess:B,setSelectableCollections:j}=Vo(),{permissions:E}=Se(),{code:$}=Ie(),{i18n:M,t:O}=P(),G=J0(()=>Array.isArray(v)?v.filter(V=>E?.collections&&E.collections?.[V]?.create):[],[v,E]),W=J0(()=>{let V=Array.isArray(v);if(!S)return u;let le={},q=Array.isArray(S)?S:[S];for(let re of q)if(V&&typeof re=="object"&&"relationTo"in re)le[re.relationTo]||(le[re.relationTo]=[]),le[re.relationTo].push(re.value);else if(!V){let ee=v;le[ee]||(le[ee]=[]);let he=typeof re=="object"&&"value"in re?re.value:re;(typeof he=="string"||typeof he=="number")&&le[ee].push(he)}let me={...u};return(V?v:[v]).forEach(re=>{let ee=le[re]||[];me[re]={...u?.[re]||{},id:{...u?.[re]?.id||{},not_in:(u?.[re]?.id?.not_in||[]).concat(ee)}}}),me},[S,u,v]),[U,,{closeDrawer:z,openDrawer:J}]=da({collectionSlugs:typeof v=="string"?[v]:v,filterOptions:W}),[Z,,{closeDrawer:X,openDrawer:ae}]=Lt({collectionSlug:I}),Y=An.useRef(null),ne=J0(()=>o?!!(typeof I=="string"&&E?.collections&&E.collections?.[I]?.create):!1,[I,E,o]),Q=An.useCallback(V=>{typeof b=="function"&&b(V)},[b]),de=An.useCallback(async V=>{if(!V?.length)return[];let le={};V.forEach(({relationTo:ee,value:he})=>{le[ee]||(le[ee]=[]);let te=he;he&&typeof he=="object"&&"value"in he&&(te=he.value),le[ee].push(te)});let q=Object.entries(le).map(async([ee,he])=>{let te={depth:0,draft:!0,limit:he.length,locale:$,where:{and:[{id:{in:he}}]}},ge=await fetch(VH({apiRoute:n,path:`/${ee}`}),{body:KD.stringify(te),credentials:"include",headers:{"Accept-Language":M.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"},method:"POST"}),ye=[];ge.ok&&(ye=(await ge.json()).docs);let rt=ye.reduce((Be,qe)=>(Be[qe.id]=qe,Be),{});return{collection:ee,docsById:rt}}),me=await Promise.all(q),pe={};return me.forEach(({collection:ee,docsById:he})=>{pe[ee]=he}),V.map(({relationTo:ee,value:he})=>{let te=pe[ee]?.[he]||{id:he,filename:`${O("general:untitled")} - ID: ${he}`,isPlaceholder:!0};return{relationTo:ee,value:te}})},[n,$,M.language,O]),ve=Y0(V=>XD(V,v),[v]),fe=Y0(V=>{let le=Array.isArray(v);if(d){let q=V.map(re=>le?{relationTo:re.collectionSlug,value:re.doc.id}:re.doc.id),pe=[...Array.isArray(S)?S.map(ve):[],...q];Q(pe),D(re=>[...re||[],...V.map(ee=>({relationTo:ee.collectionSlug,value:ee.doc}))])}else{let q=V[0],me=le?{relationTo:q.collectionSlug,value:q.doc.id}:q.doc.id;Q(me),D([{relationTo:q.collectionSlug,value:q.doc}])}},[S,Q,d,v,ve]),$e=An.useCallback(V=>{let le=V;if(!d&&V&&V.length>1){let me=new DataTransfer;me.items.add(V[0]),le=me.files}le&&L(le);let q=Array.isArray(v)?I:v;k(q),Array.isArray(G)&&j(G),typeof g=="number"&&N(g),F(A)},[d,v,I,k,G,g,F,A,L,j,N]),Me=An.useCallback(async V=>{let le=Array.isArray(v),q=[];for(let[he,te]of V)te&&q.push(he);let me=q.map(he=>({relationTo:I,value:he})),pe=await de(me);pe&&D(he=>[...he||[],...pe]);let re=q.map(he=>le?{relationTo:I,value:he}:he),ee=Array.isArray(S)?S.map(ve):[];Q([...ee,...re]),z()},[I,z,Q,de,S,v,ve]),Ne=An.useCallback(V=>{let le=Array.isArray(v);if(V.doc){D(me=>[...me||[],{relationTo:I,value:V.doc}]);let q=le?{relationTo:I,value:V.doc.id}:V.doc.id;Q(q)}X()},[X,I,Q,v]),be=Y0(async({collectionSlug:V,doc:le})=>{let q=Array.isArray(v),pe=(await de([{relationTo:V,value:le.id}]))?.[0]||null;if(D(re=>pe?d?[...re||[],pe]:[pe]:re),d){let re=q?{relationTo:V,value:le.id}:le.id,he=[...Array.isArray(S)?S.map(ve):[],re];Q(he)}else{let re=q?{relationTo:V,value:le.id}:le.id;Q(re)}z()},[z,d,de,Q,S,v,ve]),Ve=An.useCallback(async(V,le)=>{let q=await de([{relationTo:le,value:V}]);if(q[0]){let me=[];D(pe=>{let re=pe?.findIndex(ee=>(ee.value?.id===q[0].value.id||ee.value?.isPlaceholder)&&ee.relationTo===le);if(re>-1){let ee=[...pe];return ee[re]=q[0],me=ee,ee}return pe}),me.length&&d&&Q(me.map(pe=>pe.value?.id))}},[de,Q,d]),Ye=An.useCallback(V=>{let le=Array.isArray(v),q=V.map(({relationTo:me,value:pe})=>le?{relationTo:me,value:pe.id}:pe.id);Q(q),D(V)},[Q,v]),se=An.useCallback(V=>{let le=Array.isArray(v);if(!V||V.length===0){Q(d?[]:null),D(d?[]:null);return}let q=V.map(({relationTo:me,value:pe})=>le?{relationTo:me,value:pe.id}:pe.id);Q(d?q:q[0]),D(V)},[Q,d,v]);QD(()=>{async function V(){if(S){let q=[];if(Array.isArray(v)&&(typeof S=="object"&&"relationTo"in S||Array.isArray(S)&&S.length>0&&typeof S[0]=="object"&&"relationTo"in S[0])?q=(Array.isArray(S)?S:[S]).filter(pe=>typeof pe=="object"&&"relationTo"in pe).map(pe=>{let re=pe.value;for(;re&&typeof re=="object"&&re!==null&&"value"in re;)re=re.value;return{relationTo:pe.relationTo,value:re}}):Array.isArray(v)||(q=(Array.isArray(S)?S:[S]).map(pe=>{let re=pe;for(;re&&typeof re=="object"&&re!==null&&"value"in re;)re=re.value;return{relationTo:v,value:re}})),q.length>0){let me=await de(q);me&&(D(me),Y.current=S)}}else D([]),Y.current=null}Y.current!==S&&V()},[de,S,v]),QD(()=>{B(fe)},[S,C,fe,B]);let xe=!S||d&&Array.isArray(S)&&(typeof g!="number"||S.length<g)||!d&&R?.[0]&&typeof R[0].value>"u";return _a("div",{className:[Ae,zn,s,w&&"error",y&&"read-only"].filter(Boolean).join(" "),id:`field-${C?.replace(/\./g,"__")}`,style:T,children:[eo(ue,{CustomComponent:m,Fallback:eo(_e,{label:p,localized:h,path:C,required:x})}),eo("div",{className:`${zn}__wrap`,children:eo(ue,{CustomComponent:c,Fallback:eo(Ze,{path:C,showError:w})})}),r,_a("div",{className:`${zn}__dropzoneAndUpload`,children:[d&&Array.isArray(S)&&S.length>0?eo(Ld,{children:R&&R?.length>0?eo(YD,{displayPreview:l,fileDocs:R,isSortable:f&&!y,onRemove:se,onReorder:Ye,readonly:y,reloadDoc:Ve,serverURL:_,showCollectionSlug:Array.isArray(v)}):eo("div",{className:`${zn}__loadingRows`,children:S.map(V=>eo(Dt,{height:"40px"},typeof V=="object"?V.value:V))})}):null,!d&&S?eo(Ld,{children:R&&R?.length>0&&R[0].value?eo(qD,{displayPreview:l,fileDoc:R[0],onRemove:se,readonly:y,reloadDoc:Ve,serverURL:_,showCollectionSlug:Array.isArray(v)}):R&&S&&!R?.[0]?.value?_a(Ld,{children:[O("general:untitled")," - ID: ",S]}):eo(Dt,{height:"62px"})}):null,xe?eo(ya,{disabled:y||!ne,multipleFiles:d,onChange:$e,children:_a("div",{className:`${zn}__dropzoneContent`,children:[_a("div",{className:`${zn}__dropzoneContent__buttons`,children:[ne&&_a(Ld,{children:[eo(K,{buttonStyle:"pill",className:`${zn}__createNewToggler`,disabled:y||!ne,onClick:()=>{y||(d?$e():ae())},size:"small",children:O("general:createNew")}),eo("span",{className:`${zn}__dropzoneContent__orText`,children:O("general:or")})]}),eo(K,{buttonStyle:"pill",className:`${zn}__listToggler`,disabled:y,onClick:J,size:"small",children:O("fields:chooseFromExisting")}),eo(Z,{onSave:Ne}),eo(U,{allowCreate:ne,enableRowSelections:d,onBulkSelect:Me,onSelect:be})]}),ne&&!y&&_a("p",{className:`${zn}__dragAndDropText`,children:[O("general:or")," ",O("upload:dragAndDrop")]})]})}):eo(Ld,{children:!y&&!R&&(!S||typeof g!="number"||Array.isArray(S)&&S.length<g)?eo(Dt,{height:"40px"}):null})]}),e,eo(ue,{CustomComponent:i,Fallback:eo(Ue,{description:a,path:C})})]})}function zH(t){let{field:e,field:{admin:{allowCreate:o,className:n,description:r,isSortable:s}={},hasMany:i,label:a,localized:l,maxRows:c,relationTo:u,required:d},path:f,readOnly:m,validate:p}=t,{config:h}=H(),g=e.displayPreview,b=tA.useCallback((L,N)=>{if(typeof p=="function")return p(L,{...N,required:d})},[p,d]),{customComponents:{AfterInput:C,BeforeInput:y,Description:v,Error:x,Label:_}={},disabled:w,filterOptions:T,path:S,setValue:R,showError:D,value:I}=Fe({potentiallyStalePath:f,validate:b}),F=Array.isArray(u),A=tA.useMemo(()=>i===!0&&Array.isArray(I)?I.map(L=>F?L:{relationTo:Array.isArray(u)?u[0]:u,value:L}):I,[i,I,F,u]),k=GH(()=>Qe(e),[e]);return eA(Z0,{drawerSlugPrefix:f,children:eA(_h,{AfterInput:C,allowCreate:o!==!1,api:h.routes.api,BeforeInput:y,className:n,Description:v,description:r,displayPreview:g,Error:x,filterOptions:T,hasMany:i,isSortable:s,label:a,Label:_,localized:l,maxRows:c,onChange:R,path:S,readOnly:m||w,relationTo:u,required:d,serverURL:h.serverURL,showError:D,style:k,value:A})})}var kd=ze(zH);function Zl(t){let e=WH(13),{clientFieldConfig:o,forceRender:n,indexPath:r,parentPath:s,parentSchemaPath:i,path:a,permissions:l,readOnly:c,schemaPath:u}=t,d;e[0]!==a?(d=p=>{let[h]=p;return h&&h?.[a]?.customComponents?.Field},e[0]=a,e[1]=d):d=e[1];let f=Mt(d),m;if(e[2]!==f||e[3]!==o||e[4]!==n||e[5]!==r||e[6]!==s||e[7]!==i||e[8]!==a||e[9]!==l||e[10]!==c||e[11]!==u){m=Symbol.for("react.early_return_sentinel");e:{let p={forceRender:n,permissions:l,readOnly:c,schemaPath:u};if(o.admin?.hidden){m=Xt(Lu,{...p,path:a});break e}if(f!==void 0){m=f||null;break e}let h={...p,indexPath:r,parentPath:s,parentSchemaPath:i};switch(o.type){case"array":{m=Xt(jd,{...h,field:o,path:a});break e}case"blocks":{m=Xt(mu,{...h,field:o,path:a});break e}case"checkbox":{m=Xt(Ur,{...p,field:o,path:a});break e}case"code":{m=Xt(pu,{...p,field:o,path:a});break e}case"collapsible":{m=Xt(gu,{...h,field:o,path:a});break e}case"date":{m=Xt(Eu,{...p,field:o,path:a});break e}case"email":{m=Xt(aa,{...p,field:o,path:a});break e}case"group":{m=Xt(Nu,{...h,field:o,path:a});break e}case"join":{m=Xt(Hu,{...p,field:o,path:a});break e}case"json":{m=Xt(Uu,{...p,field:o,path:a});break e}case"number":{m=Xt(Xu,{...p,field:o,path:a});break e}case"point":{m=Xt(Zu,{...p,field:o,path:a});break e}case"radio":{m=Xt(qu,{...p,field:o,path:a});break e}case"relationship":{m=Xt(rd,{...p,field:o,path:a});break e}case"richText":{m=Xt(nd,{...p,field:o,path:a});break e}case"row":{m=Xt(sd,{...h,field:o});break e}case"select":{m=Xt(id,{...p,field:o,path:a});break e}case"tabs":{m=Xt(ud,{...h,field:o,path:a});break e}case"text":{m=Xt(va,{...p,field:o,path:a});break e}case"textarea":{m=Xt(md,{...p,field:o,path:a});break e}case"ui":{m=Xt(fd,{});break e}case"upload":{m=Xt(kd,{...p,field:o,path:a});break e}}}e[2]=f,e[3]=o,e[4]=n,e[5]=r,e[6]=s,e[7]=i,e[8]=a,e[9]=l,e[10]=c,e[11]=u,e[12]=m}else m=e[12];if(m!==Symbol.for("react.early_return_sentinel"))return m}var Q0="render-fields",ko=t=>{let e=HH(22),{className:o,fields:n,forceRender:r,margins:s,parentIndexPath:i,parentPath:a,parentSchemaPath:l,permissions:c,readOnly:u}=t,d=Sr();if(n&&n.length>0){let f=s&&`${Q0}--margins-${s}`,m=s===!1&&`${Q0}--margins-none`,p;e[0]!==o||e[1]!==f||e[2]!==m?(p=[Q0,o,f,m].filter(Boolean),e[0]=o,e[1]=f,e[2]=m,e[3]=p):p=e[3];let h=p.join(" "),g;if(e[4]!==n||e[5]!==r||e[6]!==d||e[7]!==i||e[8]!==a||e[9]!==l||e[10]!==c||e[11]!==u||e[12]!==h){let b;e[14]!==r||e[15]!==d||e[16]!==i||e[17]!==a||e[18]!==l||e[19]!==c||e[20]!==u?(b=(C,y)=>{if(!C||UH(C))return null;let{operation:v,permissions:x,read:_}=ZH({field:C,operation:d,parentName:a?.includes(".")?a.split(".")[a.split(".").length-1]:a,permissions:c});if("name"in C&&!_)return null;let w=u||C?.admin?.readOnly;w&&C.admin?.readOnly===!1&&(w=!1),"name"in C&&!v&&(w=!0);let{indexPath:T,path:S,schemaPath:R}=XH({field:C,index:y,parentIndexPath:i,parentPath:a,parentSchemaPath:l});return q0(gs,{value:S,children:q0(Zl,{clientFieldConfig:C,forceRender:r,indexPath:T,parentPath:a,parentSchemaPath:l,path:S,permissions:x,readOnly:w,schemaPath:R})},`${S}-${y}`)},e[14]=r,e[15]=d,e[16]=i,e[17]=a,e[18]=l,e[19]=c,e[20]=u,e[21]=b):b=e[21],g=q0(G3,{className:h,forceRender:r,children:n.map(b)}),e[4]=n,e[5]=r,e[6]=d,e[7]=i,e[8]=a,e[9]=l,e[10]=c,e[11]=u,e[12]=h,e[13]=g}else g=e[13];return g}return null};var $d="array-field",oA=t=>{let e=YH(41),{addRow:o,attributes:n,copyRow:r,CustomRowLabel:s,duplicateRow:i,errorCount:a,fields:l,forceRender:c,hasMaxRows:u,isDragging:d,isLoading:f,isSortable:m,labels:p,listeners:h,moveRow:g,parentPath:b,pasteRow:C,path:y,permissions:v,readOnly:x,removeRow:_,row:w,rowCount:T,rowIndex:S,schemaPath:R,scrollIdPrefix:D,setCollapse:I,setNodeRef:F,transform:A,transition:k}=t,L=c===void 0?!1:c,N=kf(f,500),{i18n:B}=P(),j=uo(),E=`${qH(p.singular,B)} ${String(S+1).padStart(2,"0")}`,$=a>0&&j,M=$?`${$d}__row--has-errors`:`${$d}__row--no-errors`,O;e[0]!==M?(O=[`${$d}__row`,M].filter(Boolean),e[0]=M,e[1]=O):O=e[1];let G=O.join(" "),W=`${b.split(".").join("-")}-row-${S}`,U=d?1:void 0,z;if(e[2]!==s||e[3]!==o||e[4]!==n||e[5]!==G||e[6]!==r||e[7]!==i||e[8]!==a||e[9]!==E||e[10]!==$||e[11]!==l||e[12]!==L||e[13]!==u||e[14]!==B||e[15]!==N||e[16]!==m||e[17]!==h||e[18]!==g||e[19]!==b||e[20]!==C||e[21]!==y||e[22]!==v||e[23]!==x||e[24]!==_||e[25]!==w.collapsed||e[26]!==w.id||e[27]!==T||e[28]!==S||e[29]!==R||e[30]!==D||e[31]!==I||e[32]!==F||e[33]!==W||e[34]!==U||e[35]!==A||e[36]!==k){let J;e[38]!==w.id||e[39]!==I?(J=Z=>I(w.id,Z),e[38]=w.id,e[39]=I,e[40]=J):J=e[40],z=yi("div",{id:W,ref:F,style:{transform:A,transition:k,zIndex:U},children:yi(Ji,{actions:x?void 0:yi(Nf,{addRow:o,copyRow:r,duplicateRow:i,hasMaxRows:u,index:S,isSortable:m,moveRow:g,pasteRow:C,removeRow:_,rowCount:T}),className:G,collapsibleStyle:$?"error":"default",dragHandleProps:m?{id:w.id,attributes:n,listeners:h}:void 0,header:JH("div",{className:`${$d}__row-header`,id:`${D}-row-${S}`,children:[N?yi(Dt,{height:"1rem",width:"8rem"}):yi(as,{CustomComponent:s,label:E,path:y,rowNumber:S}),$&&yi(_o,{count:a,i18n:B,withMessage:!0})]}),isCollapsed:w.collapsed,onToggle:J,children:N?yi(Dt,{}):yi(ko,{className:`${$d}__fields`,fields:l,forceRender:L,margins:"small",parentIndexPath:"",parentPath:y,parentSchemaPath:R,permissions:v===!0?v:v?.fields,readOnly:x})})},`${b}-row-${w.id}`),e[2]=s,e[3]=o,e[4]=n,e[5]=G,e[6]=r,e[7]=i,e[8]=a,e[9]=E,e[10]=$,e[11]=l,e[12]=L,e[13]=u,e[14]=B,e[15]=N,e[16]=m,e[17]=h,e[18]=g,e[19]=b,e[20]=C,e[21]=y,e[22]=v,e[23]=x,e[24]=_,e[25]=w.collapsed,e[26]=w.id,e[27]=T,e[28]=S,e[29]=R,e[30]=D,e[31]=I,e[32]=F,e[33]=W,e[34]=U,e[35]=A,e[36]=k,e[37]=z}else z=e[37];return z};var Lr="array-field",tU=t=>{let{field:e,field:{name:o,type:n,admin:{className:r,description:s,isSortable:i=!0}={},fields:a,label:l,localized:c,maxRows:u,minRows:d,required:f},forceRender:m=!1,path:p,permissions:h,readOnly:g,schemaPath:b,validate:C}=t,y=b??o,v=d??(f?1:0),{setDocFieldPreferences:x}=Te(),{addFieldRow:_,dispatchFields:w,getFields:T,moveFieldRow:S,removeFieldRow:R,replaceState:D,setModified:I}=Oe(),F=uo(),{code:A}=Ie(),{i18n:k,t:L}=P(),{config:{localization:N}}=H(),B=(()=>{if(N&&N.fallback){let ee=N.defaultLocale;return A===ee}return!0})(),E=(ee=>"labels"in ee&&ee?.labels?ee.labels:"labels"in ee.field&&ee.field.labels?{plural:ee.field.labels?.plural,singular:ee.field.labels?.singular}:"label"in ee.field&&ee.field.label?{plural:void 0,singular:ee.field.label}:{plural:L("general:rows"),singular:L("general:row")})(t),$=Pn((ee,he)=>{if(!B&&ee===null)return!0;if(typeof C=="function")return C(ee,{...he,maxRows:u,minRows:v,required:f})},[u,v,f,C,B]),{customComponents:{AfterInput:M,BeforeInput:O,Description:G,Error:W,Label:U}={},disabled:z,errorPaths:J,path:Z,rows:X=[],showError:ae,valid:Y,value:ne}=Fe({hasRows:!0,potentiallyStalePath:p,validate:$}),Q=eU(),de=rA(()=>`scroll-${Q}`,[Q]),ve=Pn(ee=>{_({path:Z,rowIndex:ee,schemaPath:y}),setTimeout(()=>{hl(`${de}-row-${ee}`)},0)},[_,Z,y,de]),fe=Pn(ee=>{w({type:"DUPLICATE_ROW",path:Z,rowIndex:ee}),I(!0),setTimeout(()=>{hl(`${de}-row-${ee}`)},0)},[w,Z,de,I]),$e=Pn(ee=>{R({path:Z,rowIndex:ee})},[R,Z]),Me=Pn((ee,he)=>{S({moveFromIndex:ee,moveToIndex:he,path:Z})},[Z,S]),Ne=Pn(ee=>{let{collapsedIDs:he,updatedRows:te}=Sf({collapsed:ee,rows:X});x(Z,{collapsed:he}),w({type:"SET_ALL_ROWS_COLLAPSED",path:Z,updatedRows:te})},[w,Z,X,x]),be=Pn((ee,he)=>{let{collapsedIDs:te,updatedRows:ge}=wf({collapsed:he,rowID:ee,rows:X});w({type:"SET_ROW_COLLAPSED",path:Z,updatedRows:ge}),x(Z,{collapsed:te})},[w,Z,X,x]),Ve=Pn(ee=>{let he={...T()},te=qa({type:n,fields:a,getDataToCopy:()=>tl({formState:he,path:Z,rowIndex:ee}),path:Z,rowIndex:ee,t:L});typeof te=="string"?oe.error(te):oe.success(L("general:copied"))},[a,T,Z,L,n]),Ye=Pn(ee=>{let he={...T()},ge=Qa({onPaste:ye=>{let rt=ol({dataFromClipboard:ye,formState:he,path:Z,rowIndex:ee});D(rt),I(!0)},path:Z,schemaFields:a,t:L});typeof ge=="string"&&oe.error(ge)},[a,T,Z,D,I,L]),se=Pn(ee=>{let he={...T()},te=ol({dataFromClipboard:ee,formState:he,path:Z});D(te),I(!0)},[T,Z,D,I]),xe=Pn(()=>tl({formState:{...T()},path:Z}),[T,Z]),V=u&&X.length>=u,le=J.length,q=F&&J.length>0,me=(g||z)&&X.length===0,pe=X.length&&X.length<v||f&&X.length===0,re=rA(()=>Qe(e),[e]);return Ci("div",{className:[Ae,Lr,r,q?`${Lr}--has-error`:`${Lr}--has-no-error`].filter(Boolean).join(" "),id:`field-${Z.replace(/\./g,"__")}`,style:re,children:[ae&&bo(ue,{CustomComponent:W,Fallback:bo(Ze,{path:Z,showError:ae})}),Ci("header",{className:`${Lr}__header`,children:[Ci("div",{className:`${Lr}__header-wrap`,children:[Ci("div",{className:`${Lr}__header-content`,children:[bo("h3",{className:`${Lr}__title`,children:bo(ue,{CustomComponent:U,Fallback:bo(_e,{as:"span",label:l,localized:c,path:Z,required:f})})}),q&&le>0&&bo(_o,{count:le,i18n:k,withMessage:!0})]}),Ci("ul",{className:`${Lr}__header-actions`,children:[X?.length>0&&Ci(KH,{children:[bo("li",{children:bo("button",{className:`${Lr}__header-action`,onClick:()=>Ne(!0),type:"button",children:L("fields:collapseAll")})}),bo("li",{children:bo("button",{className:`${Lr}__header-action`,onClick:()=>Ne(!1),type:"button",children:L("fields:showAll")})})]}),bo("li",{children:bo(Jm,{allowCopy:X?.length>0,allowPaste:!g,className:`${Lr}__header-action`,disabled:z,fields:a,getDataToCopy:xe,onPaste:se,path:Z,type:n})})]})]}),bo(ue,{CustomComponent:G,Fallback:bo(Ue,{description:s,path:Z})})]}),bo(au,{fieldValue:ne,localized:c,path:Z,readOnly:g}),O,(X?.length>0||!Y&&(me||pe))&&Ci(zr,{className:`${Lr}__draggable-rows`,ids:X.map(ee=>ee.id),onDragEnd:({moveFromIndex:ee,moveToIndex:he})=>Me(ee,he),children:[X.map((ee,he)=>{let{id:te,isLoading:ge}=ee,ye=`${Z}.${he}`,rt=J?.filter(Be=>Be.startsWith(ye+".")).length;return bo(Nn,{disabled:g||z||!i,id:te,children:Be=>bo(oA,{...Be,addRow:ve,copyRow:Ve,CustomRowLabel:X?.[he]?.customComponents?.RowLabel,duplicateRow:fe,errorCount:rt,fields:a,forceRender:m,hasMaxRows:V,isLoading:ge,isSortable:i,labels:E,moveRow:Me,parentPath:Z,pasteRow:Ye,path:ye,permissions:h,readOnly:g||z,removeRow:$e,row:ee,rowCount:X?.length,rowIndex:he,schemaPath:y,scrollIdPrefix:de,setCollapse:be})},te)}),!Y&&Ci(QH.Fragment,{children:[me&&bo(un,{children:L("validation:fieldHasNo",{label:K0(E.plural,k)})}),pe&&bo(un,{type:"error",children:L("validation:requiresAtLeast",{count:v,label:K0(v>1?E.plural:E.singular,k)||L(v>1?"general:rows":"general:row")})})]})]}),!V&&!g&&bo(K,{buttonStyle:"icon-label",className:`${Lr}__add-row`,disabled:z,icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:()=>{ve(ne||0)},children:L("fields:addLabel",{label:K0(E.singular,k)})}),M]})},jd=ze(tU);import{c as oU}from"react/compiler-runtime";import{jsx as ey,jsxs as nA}from"react/jsx-runtime";import{confirmPassword as rU}from"payload/shared";import"react";var Bd=t=>{let e=oU(12),{disabled:o,path:n}=t,r=n===void 0?"confirm-password":n,{t:s}=P(),i;e[0]!==r?(i={path:r,validate:nU},e[0]=r,e[1]=i):i=e[1];let{disabled:a,setValue:l,showError:c,value:u}=Fe(i),d=c&&"error",f;e[2]!==d?(f=[Ae,"confirm-password",d].filter(Boolean),e[2]=d,e[3]=f):f=e[3];let m=f.join(" "),p;return e[4]!==a||e[5]!==o||e[6]!==r||e[7]!==l||e[8]!==s||e[9]!==m||e[10]!==u?(p=nA("div",{className:m,children:[ey(_e,{htmlFor:"field-confirm-password",label:s("authentication:confirmPassword"),required:!0}),nA("div",{className:`${Ae}__wrap`,children:[ey(Ze,{path:r}),ey("input",{"aria-label":s("authentication:confirmPassword"),autoComplete:"off",disabled:!!(a||o),id:"field-confirm-password",name:"confirm-password",onChange:l,type:"password",value:u||""})]})]}),e[4]=a,e[5]=o,e[6]=r,e[7]=l,e[8]=s,e[9]=m,e[10]=u,e[11]=p):p=e[11],p};function nU(t,e){return rU(t,{name:"confirm-password",type:"text",required:!0,...e})}import{jsx as iU}from"react/jsx-runtime";import{password as aU}from"payload/shared";import{useCallback as lU,useMemo as cU}from"react";import{c as sU}from"react/compiler-runtime";import{jsx as Ta,jsxs as ty}from"react/jsx-runtime";import{getTranslation as sA}from"@payloadcms/translations";import"react";var iA=t=>{let e=sU(28),{AfterInput:o,autoComplete:n,BeforeInput:r,className:s,description:i,Description:a,Error:l,inputRef:c,Label:u,label:d,localized:f,onChange:m,onKeyDown:p,path:h,placeholder:g,readOnly:b,required:C,rtl:y,showError:v,style:x,value:_,width:w}=t,T=n===void 0?"off":n,{i18n:S}=P(),R=v&&"error",D=b&&"read-only",I;e[0]!==s||e[1]!==R||e[2]!==D?(I=[Ae,"password",s,R,D].filter(Boolean),e[0]=s,e[1]=R,e[2]=D,e[3]=I):I=e[3];let F=I.join(" "),A;return e[4]!==o||e[5]!==r||e[6]!==a||e[7]!==l||e[8]!==u||e[9]!==T||e[10]!==i||e[11]!==S||e[12]!==c||e[13]!==d||e[14]!==f||e[15]!==m||e[16]!==p||e[17]!==h||e[18]!==g||e[19]!==b||e[20]!==C||e[21]!==y||e[22]!==v||e[23]!==x||e[24]!==F||e[25]!==_||e[26]!==w?(A=ty("div",{className:F,style:{...x,width:w},children:[Ta(ue,{CustomComponent:u,Fallback:Ta(_e,{label:d,localized:f,path:h,required:C})}),ty("div",{className:`${Ae}__wrap`,children:[Ta(ue,{CustomComponent:l,Fallback:Ta(Ze,{path:h,showError:v})}),ty("div",{children:[r,Ta("input",{"aria-label":sA(d,S),autoComplete:T,"data-rtl":y,disabled:b,id:`field-${h.replace(/\./g,"__")}`,name:h,onChange:m,onKeyDown:p,placeholder:sA(g,S),ref:c,type:"password",value:_||""}),o]}),Ta(ue,{CustomComponent:a,Fallback:Ta(Ue,{description:i,path:h})})]})]}),e[4]=o,e[5]=r,e[6]=a,e[7]=l,e[8]=u,e[9]=T,e[10]=i,e[11]=S,e[12]=c,e[13]=d,e[14]=f,e[15]=m,e[16]=p,e[17]=h,e[18]=g,e[19]=b,e[20]=C,e[21]=y,e[22]=v,e[23]=x,e[24]=F,e[25]=_,e[26]=w,e[27]=A):A=e[27],A};var uU=t=>{let{autoComplete:e,field:o,field:{admin:{className:n,disabled:r,placeholder:s,rtl:i}={},label:a,localized:l,required:c}={},inputRef:u,path:d,validate:f}=t,{t:m}=P(),p=Ie(),{config:h}=H(),g=lU((I,F)=>{let A=d?d.split("."):[];return typeof f=="function"?f(I,{...F,required:c}):aU(I,{name:"password",type:"text",blockData:{},data:{},event:"onChange",path:A,preferences:{fields:{}},req:{payload:{config:h},t:m},required:!0,siblingData:{}})},[f,h,m,c,d]),{customComponents:{AfterInput:b,BeforeInput:C,Description:y,Error:v,Label:x}={},disabled:_,setValue:w,showError:T,value:S}=Fe({path:d,validate:g}),R=pl({fieldLocalized:!1,fieldRTL:i,locale:p,localizationConfig:h.localization||void 0}),D=cU(()=>Qe(o),[o]);return iU(iA,{AfterInput:b,autoComplete:e,BeforeInput:C,className:n,Description:y,Error:v,inputRef:u,Label:x,label:a,localized:l,onChange:I=>{w(I.target.value)},path:d,placeholder:s,readOnly:_||r,required:c,rtl:R,showError:T,style:D,value:S||""})},Md=ze(uU);var aA={array:jd,blocks:mu,checkbox:Ur,code:pu,collapsible:gu,confirmPassword:Bd,date:Eu,email:aa,group:Nu,hidden:Lu,join:Hu,json:Uu,number:Xu,password:Md,point:Zu,radio:qu,relationship:rd,richText:nd,row:sd,select:id,tabs:ud,text:va,textarea:md,ui:fd,upload:kd},dU={...aA,Description:Ue,Error:Ze,Label:_e,RowLabel:as};import{c as mU}from"react/compiler-runtime";import{setsAreEqual as fU}from"payload/shared";import{useEffect as pU}from"react";var Es=new Map([]),hU={altleft:"alt",altright:"alt",controlleft:"ctrl",controlright:"ctrl",ctrlleft:"ctrl",ctrlright:"ctrl",escape:"esc",metaleft:"meta",metaright:"meta",osleft:"meta",osright:"meta",shiftleft:"shift",shiftright:"shift"},lA=t=>(hU[t.toLowerCase()]||t).trim().toLowerCase().replace("key",""),gU=t=>{let e=lA(t);e==="meta"&&Es.forEach((o,n)=>n!=="meta"&&Es.delete(n)),Es.set(e,Date.now())},bU=t=>{let e=lA(t);e==="meta"&&Es.clear(),Es.delete(e)},Fa=(t,e)=>{let o=mU(9),{cmdCtrlKey:n,editDepth:r,keyCodes:s}=t,{modalState:i}=ie(),a;o[0]!==n||o[1]!==r||o[2]!==e||o[3]!==s||o[4]!==i?(a=f=>{let m=f.detail?.key?f.detail:f;if(m.key===void 0)return;Es.forEach(vU),m.code&&gU(m.code);let p=window.navigator.userAgent.includes("Mac OS X"),h=[...Es.keys()].filter(yU);if(fU(new Set(h),new Set(s))&&(!n||p&&Es.has("meta")||!p&&m.ctrlKey)){if((Object.keys(i).filter(b=>i[b]?.isOpen)?.length+1||1)!==r)return;e(m)}},o[0]=n,o[1]=r,o[2]=e,o[3]=s,o[4]=i,o[5]=a):a=o[5];let l=a,c=CU,u,d;o[6]!==l?(u=()=>(document.addEventListener("keydown",l,!1),document.addEventListener("bypassKeyDown",l,!1),document.addEventListener("keyup",c,!1),()=>{document.removeEventListener("keydown",l),document.removeEventListener("bypassKeyDown",l),document.removeEventListener("keyup",c)}),d=[l,c],o[6]=l,o[7]=u,o[8]=d):(u=o[7],d=o[8]),pU(u,d)};function vU(t,e){Date.now()-t>3e3&&Es.delete(e)}function yU(t){return!["alt","ctrl","meta","shift"].includes(t)}function CU(t){t.code&&bU(t.code)}import{c as xU}from"react/compiler-runtime";import*as uA from"qs-esm";import{useEffect as cA,useRef as wU,useState as Th}from"react";var SU=(t,e)=>{let o=xU(30),n;o[0]!==e?(n=e===void 0?{}:e,o[0]=e,o[1]=n):n=o[1];let r=n,{initialData:s,initialParams:i}=r,a;o[2]!==i?(a=i===void 0?{}:i,o[2]=i,o[3]=a):a=o[3];let l=a,{i18n:c}=P(),u;o[4]!==s?(u=s||{},o[4]=s,o[5]=u):u=o[5];let[d,f]=Th(u),[m,p]=Th(l),[h,g]=Th(!s),[b,C]=Th(!1),{code:y}=Ie(),v=wU(!1),x;o[6]!==y||o[7]!==m?(x=uA.stringify({locale:y,...typeof m=="object"?m:{}},{addQueryPrefix:!0}),o[6]=y,o[7]=m,o[8]=x):x=o[8];let _=x,w;o[9]!==c.language||o[10]!==s||o[11]!==_||o[12]!==t?(w=()=>{if(s&&!v.current){v.current=!0;return}let A=new AbortController;return t?(async()=>{C(!1),g(!0);try{let L=await Ge.get(`${t}${_}`,{headers:{"Accept-Language":c.language},signal:A.signal});L.status>201&&C(!0);let N=await L.json();f(N),g(!1)}catch{A.signal.aborted||(C(!0),g(!1))}})():(C(!1),g(!1)),()=>{try{A.abort()}catch(L){let N=L}}},o[9]=c.language,o[10]=s,o[11]=_,o[12]=t,o[13]=w):w=o[13];let T;o[14]!==c.language||o[15]!==s||o[16]!==y||o[17]!==_||o[18]!==t?(T=[t,y,_,c.language,s],o[14]=c.language,o[15]=s,o[16]=y,o[17]=_,o[18]=t,o[19]=T):T=o[19],cA(w,T);let S,R;o[20]!==s?(S=()=>{s&&v.current&&f(s)},R=[s],o[20]=s,o[21]=S,o[22]=R):(S=o[21],R=o[22]),cA(S,R);let D;o[23]!==d||o[24]!==b||o[25]!==h?(D={data:d,isError:b,isLoading:h},o[23]=d,o[24]=b,o[25]=h,o[26]=D):D=o[26];let I;o[27]===Symbol.for("react.memo_cache_sentinel")?(I={setParams:p},o[27]=I):I=o[27];let F;return o[28]!==D?(F=[D,I],o[28]=D,o[29]=F):F=o[29],F};import{c as IU}from"react/compiler-runtime";import{useEffect as _U,useState as TU}from"react";var Fh=t=>{let e=IU(5),[o,n]=TU(),r,s;e[0]!==t?(r=()=>{let a;return t&&(a=new ResizeObserver(l=>{l.forEach(c=>{let{contentBoxSize:u,contentRect:d}=c,f=0,m=0;if(u){let p=Array.isArray(u)?u[0]:u;if(p){let{blockSize:h,inlineSize:g}=p;f=g,m=h}}else if(d){let{height:p,width:h}=d;f=h,m=p}n({height:m,width:f})})}),a.observe(t)),()=>{a&&a.unobserve(t)}},s=[t],e[0]=t,e[1]=r,e[2]=s):(r=e[1],s=e[2]),_U(r,s);let i;return e[3]!==o?(i={size:o},e[3]=o,e[4]=i):i=e[4],i};import{c as FU}from"react/compiler-runtime";import{flattenTopLevelFields as RU}from"payload/shared";var oy=t=>{let e=FU(4),{admin:o,fields:n}=t,{useAsTitle:r}=o,{i18n:s}=P(),i;return e[0]!==n||e[1]!==s||e[2]!==r?(i=RU(n,{i18n:s,moveSubFieldsToTop:!0})?.find(l=>"name"in l&&l.name===r),e[0]=n,e[1]=s,e[2]=r,e[3]=i):i=e[3],i};import{c as dA}from"react/compiler-runtime";import{jsx as Dh}from"react/jsx-runtime";import"react";import{jsx as Rh}from"react/jsx-runtime";import"react";var Od=({className:t})=>Rh("svg",{className:"icon icon--sort",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:Rh("path",{className:"fill",d:"M2.5 13.3333L5.83333 16.6667M5.83333 16.6667L9.16667 13.3333M5.83333 16.6667V3.33333M9.16667 7.08333H17.5M9.16667 10.4167H15M11.6667 13.75H12.5",stroke:"#2F2F2F",strokeLinecap:"round",strokeLinejoin:"round"})}),ry=({className:t})=>Rh("svg",{className:"icon icon--sort",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:Rh("path",{className:"fill",d:"M2.5 6.66668L5.83333 3.33334M5.83333 3.33334L9.16667 6.66668M5.83333 3.33334V16.6667M11.6667 7.08354H17.5M9.16667 10.4169H15M9.16667 13.7502H12.5",stroke:"#2F2F2F",strokeLinecap:"round",strokeLinejoin:"round"})});var Vd="sort-header";function DU(){let t=dA(7),{handleSortChange:e,orderableFieldName:o,query:n}=lt(),s=(Array.isArray(n.sort)?n.sort[0]:n.sort)===o,i;t[0]!==e||t[1]!==s||t[2]!==o?(i=()=>{s||e(o)},t[0]=e,t[1]=s,t[2]=o,t[3]=i):i=t[3];let a=i,l;return t[4]!==a||t[5]!==s?(l={handleSortPress:a,isActive:s},t[4]=a,t[5]=s,t[6]=l):l=t[6],l}var AU=t=>{let e=dA(7),{appearance:o}=t,{handleSortPress:n,isActive:r}=DU(),{t:s}=P(),i=o&&`${Vd}--appearance-${o}`,a;e[0]!==i?(a=[Vd,i].filter(Boolean),e[0]=i,e[1]=a):a=e[1];let l=a.join(" "),c;return e[2]!==n||e[3]!==r||e[4]!==s||e[5]!==l?(c=Dh("div",{className:l,children:Dh("div",{className:`${Vd}__buttons`,children:Dh("button",{"aria-label":s("general:sortByLabelDirection",{direction:s("general:ascending"),label:"Order"}),className:`${Vd}__button ${r?`${Vd}--active`:""}`,onClick:n,type:"button",children:Dh(Od,{})})})}),e[2]=n,e[3]=r,e[4]=s,e[5]=l,e[6]=c):c=e[6],c};import{c as PU}from"react/compiler-runtime";import{jsx as mA}from"react/jsx-runtime";import"react";var fA="sort-row",EU=()=>{let t=PU(2),{orderableFieldName:e,query:o}=lt(),n=o.sort===e||o.sort===`-${e}`,r=`${fA} ${n?"active":""}`,s;return t[0]!==r?(s=mA("div",{className:r,role:"button",tabIndex:0,children:mA(pn,{className:`${fA}__icon`})}),t[0]=r,t[1]=s):s=t[1],s};import{jsx as Wn,jsxs as iy}from"react/jsx-runtime";import{DragOverlay as NU}from"@dnd-kit/core";import{formatAdminURL as LU}from"payload/shared";import{useEffect as kU,useState as ay}from"react";import{jsx as Ah}from"react/jsx-runtime";var ny=({cellMap:t,columns:e,dragAttributes:o={},dragListeners:n={},rowId:r,...s})=>Ah("tr",{...s,children:e.map((i,a)=>{let{accessor:l}=i,c=i.renderedCells[t[r]];return l==="_dragHandle"?Ah("td",{className:`cell-${l}`,children:Ah("div",{...o,...n,children:c})},a):Ah("td",{className:`cell-${l}`,children:c},a)})});import{jsx as sy}from"react/jsx-runtime";var pA=({children:t,className:e,rowId:o})=>typeof o>"u"?null:sy("div",{className:e,children:sy("table",{cellPadding:0,cellSpacing:0,children:sy("tbody",{children:t})})});var Ph="table",jU=({appearance:t="default",BeforeTable:e,collection:o,columns:n,data:r})=>{let{config:s}=H(),{data:i,orderableFieldName:a,query:l}=lt(),c=i?.docs||r,[u,d]=ay(c),[f,m]=ay({}),[p,h]=ay();kU(()=>{d(c),m(Object.fromEntries(c.map((v,x)=>[String(v.id??v._id),x])))},[c]);let g=n?.filter(v=>v?.active);if(!g||g.filter(v=>!["_dragHandle","_select"].includes(v.accessor)).length===0)return Wn("div",{children:"No columns selected"});let b=async({moveFromIndex:v,moveToIndex:x})=>{if(l.sort!==a&&l.sort!==`-${a}`){oe.warning('To reorder the rows you must first sort them by the "Order" column'),h(void 0);return}if(v===x){h(void 0);return}let _=u[v].id??u[v]._id,w=x>v?u[x]:u[x-1],T=x>v?u[x+1]:u[x],S=[...u];d(R=>{let D=[...R];return D[v][a]="pending",D.splice(x,0,D.splice(v,1)[0]),D});try{let R=w?{id:w.id??w._id,key:w[a]}:{id:T.id??T._id,key:T[a]},D=w&&l.sort===a||!w&&l.sort===`-${a}`?"greater":"less",I={collectionSlug:o.slug,docsToMove:[_],newKeyWillBe:D,orderableFieldName:a,target:R},F=await fetch(LU({apiRoute:s.routes.api,path:"/reorder"}),{body:JSON.stringify(I),credentials:"include",headers:{"Content-Type":"application/json"},method:"POST"});if(F.status===403)throw new Error("You do not have permission to reorder these rows");if(!F.ok)throw new Error("Failed to reorder. This can happen if you reorder several rows too quickly. Please try again.");if(F.status===200&&(await F.json()).message==="initial migration")throw new Error('You have enabled "orderable" on a collection with existing documentsand this is the first time you have sorted documents. We have run an automatic migration to add an initial order to the documents. Please refresh the page and try again.')}catch(R){let D=R instanceof Error?R.message:String(R);d(S),oe.error(D)}finally{h(void 0)}},C=({id:v})=>{h(v)},y=u.map(v=>v.id??v._id);return iy("div",{className:[Ph,t&&`${Ph}--appearance-${t}`].filter(Boolean).join(" "),children:[e,iy(zr,{ids:y,onDragEnd:b,onDragStart:C,children:[iy("table",{cellPadding:"0",cellSpacing:"0",children:[Wn("thead",{children:Wn("tr",{children:g.map((v,x)=>Wn("th",{id:`heading-${v.accessor}`,children:v.Heading},x))})}),Wn("tbody",{children:u.map((v,x)=>Wn(Nn,{id:y[x],children:({attributes:_,isDragging:w,listeners:T,setNodeRef:S,transform:R,transition:D})=>Wn(ny,{cellMap:f,className:`row-${x+1}`,columns:g,dragAttributes:_,dragListeners:T,ref:S,rowId:v.id??v._id,style:{opacity:w?0:1,transform:R,transition:D}})},y[x]))})]}),Wn(NU,{children:Wn(pA,{className:[Ph,`${Ph}--drag-preview`].join(" "),rowId:p,children:Wn(ny,{cellMap:f,columns:g,rowId:p})})})]})]})};import{jsx as hA}from"react/jsx-runtime";import{toWords as $U,transformColumnsToSearchParams as BU}from"payload/shared";import"react";var MU="query-preset-columns-cell",OU=({cellData:t})=>hA("div",{className:MU,children:t?BU(t).map((e,o)=>{let n=!e.startsWith("-");return n?hA(tt,{pillStyle:n?"always-white":"light",size:"small",children:$U(e)},o):null}):"No columns selected"});import{jsx as VU}from"react/jsx-runtime";import{toWords as Eh}from"payload/shared";import"react";var GU=t=>{if(t.or&&t.or.length>0&&t.or[0].and&&t.or[0].and.length>0){let o=t.or[0]?.and?.[0];if(!o||typeof o!="object")return"No where query";let n=Object.keys(o)[0];if(!n||!o[n]||typeof o[n]!="object")return"No where query";let r=Object.keys(o[n])[0],s=o[n][r];if(typeof s=="string")return`${Eh(n)} ${r} ${Eh(s)}`;if(Array.isArray(s))return`${Eh(n)} ${r} ${s.map(i=>Eh(i)).join(" or ")}`}return""},zU=({cellData:t})=>VU("div",{children:t?GU(t):"No where query"});import{jsx as gA,jsxs as bA}from"react/jsx-runtime";import{toWords as vA}from"payload/shared";import{Fragment as WU}from"react";var HU=({cellData:t})=>{let e=["read","update","delete"];return gA("p",{children:e.reduce((o,n,r)=>{let s=t?.[n];return s&&s.constraint&&o.push(bA(WU,{children:[bA("span",{children:[gA("strong",{children:vA(n)}),": ",vA(s.constraint)]}),r!==e.length-1&&", "]},n)),o},[])})};import{jsx as YU,jsxs as JU}from"react/jsx-runtime";import{toWords as qU}from"payload/shared";import{useMemo as _A}from"react";import{getTranslation as Wd}from"@payloadcms/translations";import{fieldAffectsData as wA,fieldIsHiddenOrDisabled as ZU,fieldIsID as SA,tabHasName as IA}from"payload/shared";var Nh=[{label:"equals",value:"equals"},{label:"isNotEqualTo",value:"not_equals"}],UU=[{label:"isIn",value:"in"},{label:"isNotIn",value:"not_in"}],sc={label:"exists",value:"exists"},rn=[...Nh,...UU,sc],yA=[...rn,{label:"isGreaterThan",value:"greater_than"},{label:"isLessThan",value:"less_than"},{label:"isLessThanOrEqualTo",value:"less_than_equal"},{label:"isGreaterThanOrEqualTo",value:"greater_than_equal"}],XU=[...Nh,{label:"near",value:"near"}],CA={label:"within",value:"within"},xA={label:"intersects",value:"intersects"},Gd={label:"isLike",value:"like"},zd={label:"isNotLike",value:"not_like"},nc={label:"contains",value:"contains"},ic={checkbox:{component:"Text",operators:[...Nh,sc]},code:{component:"Text",operators:[...rn,Gd,zd,nc]},date:{component:"Date",operators:[...yA,sc]},email:{component:"Text",operators:[...rn,nc]},json:{component:"Text",operators:[...rn,Gd,nc,zd,CA,xA]},number:{component:"Number",operators:[...yA,sc]},point:{component:"Point",operators:[...XU,sc,CA,xA]},radio:{component:"Select",operators:[...rn]},relationship:{component:"Relationship",operators:[...rn]},richText:{component:"Text",operators:[...rn,Gd,zd,nc]},select:{component:"Select",operators:[...rn]},text:{component:"Text",operators:[...rn,Gd,zd,nc]},textarea:{component:"Text",operators:[...rn,Gd,zd,nc]},upload:{component:"Relationship",operators:[...rn]}},Lh=({field:t,operator:e})=>{let o=[];return t.type==="relationship"&&Array.isArray(t.relationTo)?"hasMany"in t&&t.hasMany?o=[...Nh,sc]:o=[...rn]:o=[...ic[t.type].operators],{validOperator:e&&o.find(({value:n})=>n===e)?e:o[0].value,validOperators:o}};var fr=({fieldPermissions:t,fields:e,i18n:o,labelPrefix:n,pathPrefix:r})=>e.reduce((s,i)=>{let a=r;if(ZU(i)&&!SA(i)||"virtual"in i&&i.virtual===!0)return s;let l=!1;if("virtual"in i&&typeof i.virtual=="string"&&(a=a?a+"."+i.virtual:i.virtual,wA(i)&&(l=!0)),i.type==="tabs"&&"tabs"in i)return i.tabs.forEach(u=>{if(typeof u.label!="boolean"){let d=Wd(u.label,o),f=n?n+" > "+d:d,m=IA(u)&&u.name?a?a+"."+u.name:u.name:a;typeof d=="string"&&s.push(...fr({fieldPermissions:typeof t=="boolean"?t:IA(u)&&u.name?t?.[u.name]?.fields||t?.[u.name]:t,fields:u.fields,i18n:o,labelPrefix:f,pathPrefix:m}))}}),s;if(i.type==="row"&&"fields"in i)return s.push(...fr({fieldPermissions:t,fields:i.fields,i18n:o,labelPrefix:n,pathPrefix:a})),s;if(i.type==="collapsible"&&"fields"in i){let c=Wd(i.label||"",o),u=n?n+" > "+c:c;return s.push(...fr({fieldPermissions:t,fields:i.fields,i18n:o,labelPrefix:u,pathPrefix:a})),s}if(i.type==="group"&&"fields"in i){let c=Wd(i.label||"",o),u=n?c?n+" > "+c:n:c;if(wA(i)){let d=i.name?a?a+"."+i.name:i.name:a;s.push(...fr({fieldPermissions:typeof t=="boolean"?t:t?.[i.name]?.fields||t?.[i.name],fields:i.fields,i18n:o,labelPrefix:u,pathPrefix:d}))}else s.push(...fr({fieldPermissions:t,fields:i.fields,i18n:o,labelPrefix:u,pathPrefix:a}));return s}if(i.type==="array"&&"fields"in i){let c=Wd(i.label||"",o),u=n?c?n+" > "+c:n:c,d=i.name?a?a+"."+i.name:i.name:a;return s.push(...fr({fieldPermissions:typeof t=="boolean"?t:t?.[i.name]?.fields||t?.[i.name],fields:i.fields,i18n:o,labelPrefix:u,pathPrefix:d})),s}if(typeof ic[i.type]=="object"&&(SA(i)||t===!0||t?.[i.name]===!0||t?.[i.name]?.read===!0)){let c=new Set,{validOperators:u}=Lh({field:i}),d=u.reduce((g,b)=>{if(!c.has(b.value)){c.add(b.value);let C=`operators:${b.label}`;g.push({...b,label:o.t(C)})}return g},[]),f=Wd(i.label||"",o),m=n?pd({field:i,prefix:n}):f,p;l?p=a:a?p=Xl(a,i):p=i.name;let h={label:m,plainTextLabel:`${n?n+" > ":""}${f}`,value:p,...ic[i.type],field:i,operators:d};return s.push(h),s}return s},[]);var QU=({cellData:t,rowData:e})=>{let{i18n:o}=P(),{permissions:n}=Se(),{config:r}=H(),s=e?.relatedCollection,i=_A(()=>s?r.collections?.find(m=>m.slug===s):null,[s,r.collections]),a=_A(()=>{if(!i)return[];let m=n?.collections?.[s]?.fields;return fr({fieldPermissions:m,fields:i.fields,i18n:o})},[i,n,s,o]);if(!t||typeof t!="string")return YU("div",{children:"No group by selected"});let l=t.startsWith("-"),c=l?t.slice(1):t,u=l?"descending":"ascending",f=a.find(m=>m.value===c)?.label||qU(c);return JU("div",{children:[f," (",u,")"]})};import{c as KU}from"react/compiler-runtime";import{jsx as ly,jsxs as eX}from"react/jsx-runtime";import{toWords as tX,transformColumnsToSearchParams as oX}from"payload/shared";import"react";var rX=t=>{let e=KU(5),{field:o}=t,{label:n,required:r}=o,{path:s,value:i}=Fe(),a;return e[0]!==n||e[1]!==s||e[2]!==r||e[3]!==i?(a=eX("div",{className:"field-type query-preset-columns-field",children:[ly(_e,{as:"h3",label:n,path:s,required:r}),ly("div",{className:"value-wrapper",children:i?oX(i).map(nX):"No columns selected"})]}),e[0]=n,e[1]=s,e[2]=r,e[3]=i,e[4]=a):a=e[4],a};function nX(t,e){let o=!t.startsWith("-");return ly(tt,{pillStyle:o?"always-white":"light-gray",size:"small",children:tX(t)},e)}import{jsx as Ns,jsxs as kh}from"react/jsx-runtime";import{getTranslation as sX}from"@payloadcms/translations";import{toWords as TA}from"payload/shared";import FA from"react";var iX=(t,e)=>{if(!t)return null;let o=r=>{if(!r||typeof r!="object")return"No where query";let s=Object.keys(r)[0];if(!s||!r[s]||typeof r[s]!="object")return"No where query";let i=Object.keys(r[s])[0],a=r[s][i],l=u=>{if(typeof u=="object"&&u!=null)try{return new Date(u).toLocaleDateString()}catch{return"Unknown error has occurred"}return u?.toString()??""},c=Array.isArray(a)?a.map(l).join(", "):l(a);return kh(tt,{pillStyle:"always-white",size:"small",children:[Ns("b",{children:TA(s)})," ",i," ",Ns("b",{children:TA(c)})]})};return((r,s)=>r.or&&r.or.length>0?Ns("div",{className:"or-condition",children:r.or.map((i,a)=>Ns(FA.Fragment,{children:i.and&&i.and.length>0?kh("div",{className:"and-condition",children:[a===0&&Ns("span",{className:"label",children:`Filter ${s} where `}),a>0&&Ns("span",{className:"label",children:" or "}),i.and.map((l,c)=>kh(FA.Fragment,{children:[o(l),c<i.and.length-1&&Ns("span",{className:"label",children:" and "})]},c))]}):o(i)},a))}):o(r))(t,e)},aX=t=>{let{field:e}=t,{label:o,required:n}=e,{path:r,value:s}=Fe(),{collectionSlug:i}=lt(),{getEntityConfig:a}=H(),l=a({collectionSlug:i}),{i18n:c}=P();return kh("div",{className:"field-type query-preset-where-field",children:[Ns(_e,{as:"h3",label:o,path:r,required:n}),Ns("div",{className:"value-wrapper",children:s?iX(s,sX(l?.labels?.plural,c)):"No where query"})]})};import{jsx as cy,jsxs as RA}from"react/jsx-runtime";import{toWords as lX}from"payload/shared";import{useMemo as DA}from"react";var cX=({field:{label:t,required:e}})=>{let{path:o,value:n}=Fe(),{i18n:r}=P(),{permissions:s}=Se(),{config:i}=H(),l=Fe({path:"relatedCollection"}).value,c=DA(()=>l?i.collections?.find(f=>f.slug===l):null,[l,i.collections]),u=DA(()=>{if(!c)return[];let f=s?.collections?.[l]?.fields;return fr({fieldPermissions:f,fields:c.fields,i18n:r})},[c,s,l,r]);return RA("div",{className:"field-type query-preset-group-by-field",children:[cy(_e,{as:"h3",label:t,path:o,required:e}),cy("div",{className:"value-wrapper",children:(f=>{if(!f)return"No group by selected";let m=f.startsWith("-"),p=m?f.slice(1):f,h=m?"descending":"ascending",b=u.find(C=>C.value===p)?.label||lX(p);return RA(tt,{pillStyle:"always-white",size:"small",children:[cy("b",{children:b})," (",h,")"]})})(n)})]})};import{c as PA}from"react/compiler-runtime";import{jsx as EA}from"react/jsx-runtime";import gX from"react";import{c as uX}from"react/compiler-runtime";import{useRouter as dX}from"next/navigation.js";import{useEffect as uy,useRef as mX}from"react";function fX(t,...e){t&&t.addEventListener&&t.addEventListener(...e)}function pX(t,...e){t&&t.removeEventListener&&t.removeEventListener(...e)}var hX=(t,e)=>{let o=uX(7),n=t===void 0?!0:t,r;o[0]!==n||o[1]!==e?(r=l=>{if(typeof n!="function"||n())return l.preventDefault(),e&&(l.returnValue=e),e},o[0]=n,o[1]=e,o[2]=r):r=o[2];let s=r,i,a;o[3]!==n||o[4]!==s?(i=()=>{if(n)return fX(window,"beforeunload",s),()=>pX(window,"beforeunload",s)},a=[n,s],o[3]=n,o[4]=s,o[5]=i,o[6]=a):(i=o[5],a=o[6]),uy(i,a)},AA=({hasAccepted:t=!1,message:e="Are you sure want to leave this page?",onAccept:o,onPrevent:n,prevent:r=!0})=>{hX(r,e);let{startRouteTransition:s}=Xe(),i=dX(),a=mX("");uy(()=>{function l(d,f){try{let m=new URL(d),p=new URL(f);if(m.hostname===p.hostname&&m.pathname===p.pathname&&m.search===p.search){let h=m.hash,g=p.hash;return h!==g&&m.href.replace(h,"")===p.href.replace(g,"")}}catch(m){console.log("Unexpected exception thrown in LeaveWithoutSaving:isAnchorOfCurrentUrl",m)}return!1}function c(d){for(;d&&d.tagName.toLowerCase()!=="a";)d=d.parentElement;return d}function u(d){try{let f=d.target,m=c(f);if(m){let p=window.location.href,h=m.href,g=l(p,h),b=m.download!=="",C=m.target==="_blank"||d.metaKey||d.ctrlKey;!(h===p||g||b||C)&&r&&(n||!window.confirm(e))&&(a.current=h,d.preventDefault(),d.stopPropagation(),typeof n=="function"&&n())}}catch(f){console.log("Unexpected exception thrown in LeaveWithoutSaving:usePreventLeave",f)}}return r&&document.addEventListener("click",u,!0),()=>{document.removeEventListener("click",u,!0)}},[n,r,e]),uy(()=>{t&&a.current&&(o&&o(),s(()=>i.push(a.current)))},[t,o,i,s])};var Hd="leave-without-saving",Ud=t=>{let e=PA(17),{disablePreventLeave:o,onConfirm:n,onPrevent:r}=t,s=o===void 0?!1:o,i=Hd,{closeModal:a,openModal:l}=ie(),c=mo(),{isValid:u}=Oe(),{user:d}=Se(),[f,m]=gX.useState(!1),p=!s&&!!((c||!u)&&d),h;e[0]!==r||e[1]!==l?(h=()=>{let S=document.activeElement?.href||null;r&&r(S),l(Hd)},e[0]=r,e[1]=l,e[2]=h):h=e[2];let g=h,b;e[3]!==a?(b=()=>{a(Hd)},e[3]=a,e[4]=b):b=e[4];let C=b,y;e[5]!==C||e[6]!==g||e[7]!==f||e[8]!==p?(y={hasAccepted:f,onAccept:C,onPrevent:g,prevent:p},e[5]=C,e[6]=g,e[7]=f,e[8]=p,e[9]=y):y=e[9],AA(y);let v;e[10]!==a?(v=()=>{a(Hd)},e[10]=a,e[11]=v):v=e[11];let x=v,_;e[12]!==n?(_=async()=>{if(n)try{await n()}catch(S){console.error("Error in LeaveWithoutSaving onConfirm:",S)}m(!0)},e[12]=n,e[13]=_):_=e[13];let w=_,T;return e[14]!==w||e[15]!==x?(T=EA(dy,{modalSlug:Hd,onCancel:x,onConfirm:w}),e[14]=w,e[15]=x,e[16]=T):T=e[16],T},dy=t=>{let e=PA(5),{modalSlug:o,onCancel:n,onConfirm:r}=t,{t:s}=P(),i;return e[0]!==o||e[1]!==n||e[2]!==r||e[3]!==s?(i=EA(et,{body:s("general:changesNotSaved"),cancelLabel:s("general:stayOnThisPage"),confirmLabel:s("general:leaveAnyway"),heading:s("general:leaveWithoutSaving"),modalSlug:o,onCancel:n,onConfirm:r}),e[0]=o,e[1]=n,e[2]=r,e[3]=s,e[4]=i):i=e[4],i};import{c as bX}from"react/compiler-runtime";import{jsx as Xd,jsxs as my}from"react/jsx-runtime";import{useEffect as vX}from"react";var ac="document-take-over",jh="document-take-over",fy=t=>{let e=bX(19),{handleBackToDashboard:o,isActive:n,onReadOnly:r}=t,{closeModal:s,openModal:i}=ie(),{t:a}=P(),{startRouteTransition:l}=Xe(),{clearRouteCache:c}=bt(),u,d;e[0]!==s||e[1]!==n||e[2]!==i?(u=()=>{n?i(ac):s(ac)},d=[n,i,s],e[0]=s,e[1]=n,e[2]=i,e[3]=u,e[4]=d):(u=e[3],d=e[4]),vX(u,d);let f;if(e[5]!==c||e[6]!==s||e[7]!==o||e[8]!==r||e[9]!==l||e[10]!==a){let m;e[12]!==o||e[13]!==l?(m=()=>{l(()=>o())},e[12]=o,e[13]=l,e[14]=m):m=e[14];let p;e[15]!==c||e[16]!==s||e[17]!==r?(p=()=>{r(),s(ac),c()},e[15]=c,e[16]=s,e[17]=r,e[18]=p):p=e[18],f=Xd(wr,{className:jh,closeOnBlur:!1,slug:ac,children:my("div",{className:`${jh}__wrapper`,children:[my("div",{className:`${jh}__content`,children:[Xd("h1",{children:a("general:editingTakenOver")}),Xd("p",{children:a("general:anotherUserTakenOver")})]}),my("div",{className:`${jh}__controls`,children:[Xd(K,{buttonStyle:"primary",id:`${ac}-back-to-dashboard`,onClick:m,size:"large",children:a("general:backToDashboard")}),Xd(K,{buttonStyle:"secondary",id:`${ac}-view-read-only`,onClick:p,size:"large",children:a("general:viewReadOnly")})]})]})}),e[5]=c,e[6]=s,e[7]=o,e[8]=r,e[9]=l,e[10]=a,e[11]=f}else f=e[11];return f};import{c as yX}from"react/compiler-runtime";import{jsx as Ra,jsxs as Zd}from"react/jsx-runtime";import{useEffect as CX}from"react";var $h=t=>t&&typeof t=="object";var Ls="document-locked",Bh="document-locked",xX=t=>t?new Intl.DateTimeFormat("en-US",{day:"numeric",hour:"numeric",hour12:!0,minute:"numeric",month:"short",year:"numeric"}).format(new Date(t)):"",py=t=>{let e=yX(33),{handleGoBack:o,isActive:n,onReadOnly:r,onTakeOver:s,updatedAt:i,user:a}=t,{closeModal:l,openModal:c}=ie(),{t:u}=P(),{clearRouteCache:d}=bt(),{startRouteTransition:f}=Xe(),m,p;e[0]!==l||e[1]!==n||e[2]!==c?(m=()=>{n?c(Ls):l(Ls)},p=[n,c,l],e[0]=l,e[1]=n,e[2]=c,e[3]=m,e[4]=p):(m=e[3],p=e[4]),CX(m,p);let h;e[5]!==o||e[6]!==f?(h=()=>{f(()=>o())},e[5]=o,e[6]=f,e[7]=h):h=e[7];let g;if(e[8]!==d||e[9]!==l||e[10]!==o||e[11]!==r||e[12]!==s||e[13]!==f||e[14]!==u||e[15]!==h||e[16]!==i||e[17]!==a){let b;e[19]!==u||e[20]!==a?(b=$h(a)?a.email??a.id:`${u("general:user")}: ${a}`,e[19]=u,e[20]=a,e[21]=b):b=e[21];let C;e[22]!==l||e[23]!==o||e[24]!==f?(C=()=>{l(Ls),f(()=>o())},e[22]=l,e[23]=o,e[24]=f,e[25]=C):C=e[25];let y;e[26]!==d||e[27]!==l||e[28]!==r?(y=()=>{r(),l(Ls),d()},e[26]=d,e[27]=l,e[28]=r,e[29]=y):y=e[29];let v;e[30]!==l||e[31]!==s?(v=()=>{s(),l(Ls)},e[30]=l,e[31]=s,e[32]=v):v=e[32],g=Ra(wr,{className:Bh,closeOnBlur:!1,onClose:h,slug:Ls,children:Zd("div",{className:`${Bh}__wrapper`,children:[Zd("div",{className:`${Bh}__content`,children:[Ra("h1",{children:u("general:documentLocked")}),Zd("p",{children:[Ra("strong",{children:b})," ",u("general:currentlyEditing")]}),Zd("p",{children:[u("general:editedSince")," ",Ra("strong",{children:xX(i)})]})]}),Zd("div",{className:`${Bh}__controls`,children:[Ra(K,{buttonStyle:"secondary",id:`${Ls}-go-back`,onClick:C,size:"large",children:u("general:goBack")}),Ra(K,{buttonStyle:"secondary",id:`${Ls}-view-read-only`,onClick:y,size:"large",children:u("general:viewReadOnly")}),Ra(K,{buttonStyle:"primary",id:`${Ls}-take-over`,onClick:v,size:"large",children:u("general:takeOver")})]})]})}),e[8]=d,e[9]=l,e[10]=o,e[11]=r,e[12]=s,e[13]=f,e[14]=u,e[15]=h,e[16]=i,e[17]=a,e[18]=g}else g=e[18];return g};import{c as wX}from"react/compiler-runtime";import{jsx as SX}from"react/jsx-runtime";import{getTranslation as IX}from"@payloadcms/translations";import M8e from"react";function hy(t){let e=wX(3),{i18n:o}=P(),{description:n}=t;if(n){let r;return e[0]!==n||e[1]!==o?(r=SX("div",{className:"custom-view-description",children:IX(n,o)}),e[0]=n,e[1]=o,e[2]=r):r=e[2],r}return null}import{jsx as pr,jsxs as zh}from"react/jsx-runtime";import{formatAdminURL as cZ}from"payload/shared";import{useEffect as uZ,useRef as dZ,useState as mZ}from"react";import{c as DX}from"react/compiler-runtime";import{jsx as WA}from"react/jsx-runtime";import{usePathname as AX}from"next/navigation.js";import{formatAdminURL as PX}from"payload/shared";import"react";import{jsx as gy,jsxs as _X}from"react/jsx-runtime";import"react";var Yd="graphic-account",NA=t=>_X("svg",{className:[Yd,t?.active&&`${Yd}--active`].filter(Boolean).join(" "),height:"25",viewBox:"0 0 25 25",width:"25",xmlns:"http://www.w3.org/2000/svg",children:[gy("circle",{className:`${Yd}__bg`,cx:"12.5",cy:"12.5",r:"11.5"}),gy("circle",{className:`${Yd}__head`,cx:"12.5",cy:"10.73",r:"3.98"}),gy("path",{className:`${Yd}__body`,d:"M12.5,24a11.44,11.44,0,0,0,7.66-2.94c-.5-2.71-3.73-4.8-7.66-4.8s-7.16,2.09-7.66,4.8A11.44,11.44,0,0,0,12.5,24Z"})]});var GA=Pi(VA(),1);import{c as FX}from"react/compiler-runtime";import{jsx as RX}from"react/jsx-runtime";import"react";var zA=()=>{let t=FX(2),{user:e}=Se(),o=(0,GA.default)(e.email.trim().toLowerCase()),r=`?${new URLSearchParams({default:"mp",r:"g",s:"50"}).toString()}`,s=`https://www.gravatar.com/avatar/${o}${r}`,i;return t[0]!==s?(i=RX("img",{alt:"yas",className:"gravatar-account",height:25,src:s,style:{borderRadius:"50%"},width:25}),t[0]=s,t[1]=i):i=t[1],i};var yy=()=>{let t=DX(3),{config:e}=H(),{admin:o,routes:n}=e,{avatar:r,routes:s}=o,{account:i}=s,{admin:a}=n,{user:l}=Se(),u=AX()===PX({adminRoute:a,path:i});if(!l?.email||r==="default"){let d;return t[0]!==u?(d=WA(NA,{active:u}),t[0]=u,t[1]=d):d=t[1],d}if(r==="gravatar"){let d;return t[2]===Symbol.for("react.memo_cache_sentinel")?(d=WA(zA,{}),t[2]=d):d=t[2],d}};import{c as EX}from"react/compiler-runtime";import{jsx as NX}from"react/jsx-runtime";import{createContext as LX,use as kX,useState as jX}from"react";var HA=LX({Actions:{},setViewActions:()=>{}}),Cy=()=>kX(HA),$X=t=>{let e=EX(4),{Actions:o,children:n}=t,[r,s]=jX(o),i;return e[0]!==o||e[1]!==n||e[2]!==r?(i=NX(HA,{value:{Actions:{...r,...o},setViewActions:s},children:n}),e[0]=o,e[1]=n,e[2]=r,e[3]=i):i=e[3],i};import{c as BX}from"react/compiler-runtime";import{jsx as Mh,jsxs as ZA}from"react/jsx-runtime";import"react";import{jsx as UA}from"react/jsx-runtime";import"react";var xy=()=>UA("svg",{className:"icon icon--close-menu",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:UA("path",{className:"stroke",d:"M14 6L6 14M6 6L14 14",strokeLinecap:"square"})});import{jsx as XA}from"react/jsx-runtime";import"react";var wy=()=>XA("svg",{className:"icon icon--menu",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:XA("path",{className:"stroke",d:"M4.66667 10H15.3333M4.66667 6H15.3333M4.66667 14H15.3333",strokeLinecap:"square"})});var Sy="hamburger",Iy=t=>{let e=BX(4),{t:o}=P(),{closeIcon:n,isActive:r}=t,s=n===void 0?"x":n,i=r===void 0?!1:r,a;return e[0]!==s||e[1]!==i||e[2]!==o?(a=ZA("div",{className:Sy,children:[!i&&Mh("div",{"aria-label":o("general:open"),className:`${Sy}__open-icon`,title:o("general:open"),children:Mh(wy,{})}),i&&ZA("div",{"aria-label":o(s==="collapse"?"general:collapse":"general:close"),className:`${Sy}__close-icon`,title:o(s==="collapse"?"general:collapse":"general:close"),children:[s==="x"&&Mh(xy,{}),s==="collapse"&&Mh(He,{direction:"left"})]})]}),e[0]=s,e[1]=i,e[2]=o,e[3]=a):a=e[3],a};import{c as VX}from"react/compiler-runtime";import{jsx as Da,jsxs as GX}from"react/jsx-runtime";import{getTranslation as zX}from"@payloadcms/translations";import{useRouter as WX}from"next/navigation.js";import*as Vh from"qs-esm";import{Fragment as HX}from"react";import{c as MX}from"react/compiler-runtime";import{jsx as YA,jsxs as _y}from"react/jsx-runtime";import{getTranslation as OX}from"@payloadcms/translations";import"react";var Jd="localizer-button",Oh=t=>{let e=MX(8),{ariaLabel:o,className:n}=t,r=Ie(),{i18n:s,t:i}=P(),a;if(e[0]!==o||e[1]!==n||e[2]!==s||e[3]!==r||e[4]!==i){let l;e[6]!==n?(l=[Jd,n].filter(Boolean),e[6]=n,e[7]=l):l=e[7],a=_y("div",{"aria-label":o||i("general:locale"),className:l.join(" "),"data-locale":r?r.code:void 0,children:[_y("div",{className:`${Jd}__label`,children:[`${i("general:locale")}:`,"\xA0"]}),_y("div",{className:`${Jd}__current`,children:[YA("span",{className:`${Jd}__current-label`,children:`${OX(r.label,s)}`}),YA(He,{className:`${Jd}__chevron`})]})]}),e[0]=o,e[1]=n,e[2]=s,e[3]=r,e[4]=i,e[5]=a}else a=e[5];return a};var Ty="localizer",JA=t=>{let e=VX(17),{className:o}=t,{config:n}=H(),{localization:r}=n,s=WX(),{startRouteTransition:i}=Xe(),{setLocaleIsLoading:a}=Cf(),{i18n:l}=P(),c=Ie();if(r){let{locales:u}=r,d;e[0]!==o?(d=[Ty,o].filter(Boolean),e[0]=o,e[1]=d):d=e[1];let f=d.join(" "),m;if(e[2]!==l||e[3]!==c||e[4]!==u||e[5]!==s||e[6]!==a||e[7]!==i||e[8]!==f){let p;e[10]!==l||e[11]!==c||e[12]!==u||e[13]!==s||e[14]!==a||e[15]!==i?(p=h=>{let{close:g}=h;return Da(we.ButtonGroup,{children:u.map(b=>{let C=zX(b.label,l);return Da(we.Button,{active:c.code===b.code,disabled:c.code===b.code,onClick:()=>{a(!0),g();let y=new URLSearchParams(window.location.search),v=Vh.stringify({...Vh.parse(y.toString(),{depth:10,ignoreQueryPrefix:!0}),locale:b.code},{addQueryPrefix:!0});i(()=>{s.push(v)})},children:C!==b.code?GX(HX,{children:[C,"\xA0",Da("span",{className:`${Ty}__locale-code`,"data-locale":b.code,children:`(${b.code})`})]}):Da("span",{className:`${Ty}__locale-code`,"data-locale":b.code,children:C})},b.code)})})},e[10]=l,e[11]=c,e[12]=u,e[13]=s,e[14]=a,e[15]=i,e[16]=p):p=e[16],m=Da("div",{className:f,children:Da(st,{button:Da(Oh,{}),horizontalAlign:"right",render:p,showScrollbar:!0,size:"large"})}),e[2]=l,e[3]=c,e[4]=u,e[5]=s,e[6]=a,e[7]=i,e[8]=f,e[9]=m}else m=e[9];return m}return null};import{jsx as UX}from"react/jsx-runtime";import{usePathname as XX}from"next/navigation.js";import Qd,{useEffect as qd,useRef as ZX}from"react";var Fy=Qd.createContext({hydrated:!1,navOpen:!0,navRef:null,setNavOpen:()=>{},shouldAnimate:!1}),Aa=()=>Qd.use(Fy),YX=async t=>{let o=(await t("nav"))?.open;return typeof o=="boolean"?o:!0},Ry=({children:t,initialIsOpen:e})=>{let{breakpoints:{l:o,m:n,s:r}}=mr(),s=XX(),{getPreference:i}=so(),a=ZX(null),[l,c]=Qd.useState(e),[u,d]=Qd.useState(!1),[f,m]=Qd.useState(!1);return qd(()=>{o===!1&&(async()=>{let h=await YX(i);c(h)})()},[o,i,c]),qd(()=>{r===!0&&c(!1)},[s]),qd(()=>{a.current&&(l&&n?a.current.style.overscrollBehavior="contain":a.current.style.overscrollBehavior="auto")},[l,n]),qd(()=>{(o===!0||n===!0||r===!0)&&c(!1),m(!0);let p=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(p)}},[o,n,r]),qd(()=>()=>{a.current&&(a.current.style.overscrollBehavior="auto")},[]),UX(Fy,{value:{hydrated:f,navOpen:l,navRef:a,setNavOpen:c,shouldAnimate:u},children:t})};import{c as JX}from"react/compiler-runtime";import{jsx as qX}from"react/jsx-runtime";import"react";var qA="nav-toggler",Dy=t=>{let e=JX(15),{id:o,children:n,className:r,tabIndex:s}=t,i=s===void 0?0:s,{t:a}=P(),{setPreference:l}=so(),{navOpen:c,setNavOpen:u}=Aa(),{breakpoints:d}=mr(),{l:f}=d,m=`${a(c?"general:close":"general:open")} ${a("general:menu")}`,p=c&&`${qA}--is-open`,h;e[0]!==r||e[1]!==p?(h=[qA,p,r].filter(Boolean),e[0]=r,e[1]=p,e[2]=h):h=e[2];let g=h.join(" "),b;e[3]!==f||e[4]!==c||e[5]!==u||e[6]!==l?(b=async()=>{u(!c),f||await l("nav",{open:!c},!0)},e[3]=f,e[4]=c,e[5]=u,e[6]=l,e[7]=b):b=e[7];let C;return e[8]!==n||e[9]!==o||e[10]!==m||e[11]!==g||e[12]!==b||e[13]!==i?(C=qX("button",{"aria-label":m,className:g,id:o,onClick:b,tabIndex:i,type:"button",children:n}),e[8]=n,e[9]=o,e[10]=m,e[11]=g,e[12]=b,e[13]=i,e[14]=C):C=e[14],C};import{c as aZ}from"react/compiler-runtime";import{jsx as Go,jsxs as e6}from"react/jsx-runtime";import{getTranslation as lZ}from"@payloadcms/translations";import{Fragment as t6}from"react";import{jsx as QA,jsxs as QX}from"react/jsx-runtime";import"react";var Gh=({fill:t})=>{let e=t||"var(--theme-elevation-1000)";return QX("svg",{className:"graphic-icon",height:"100%",viewBox:"0 0 25 25",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:[QA("path",{d:"M11.8673 21.2336L4.40922 16.9845C4.31871 16.9309 4.25837 16.8355 4.25837 16.7282V10.1609C4.25837 10.0477 4.38508 9.97616 4.48162 10.0298L13.1404 14.9642C13.2611 15.0358 13.412 14.9464 13.412 14.8093V11.6091C13.412 11.4839 13.3456 11.3647 13.2309 11.2992L2.81624 5.36353C2.72573 5.30989 2.60505 5.30989 2.51454 5.36353L1.15085 6.14422C1.06034 6.19786 1 6.29321 1 6.40048V18.5995C1 18.7068 1.06034 18.8021 1.15085 18.8558L11.8491 24.9583C11.9397 25.0119 12.0603 25.0119 12.1509 24.9583L21.1355 19.8331C21.2562 19.7616 21.2562 19.5948 21.1355 19.5232L18.3357 17.9261C18.2211 17.8605 18.0883 17.8605 17.9737 17.9261L12.175 21.2336C12.0845 21.2872 11.9638 21.2872 11.8733 21.2336H11.8673Z",fill:e}),QA("path",{d:"M22.8491 6.13827L12.1508 0.0417218C12.0603 -0.0119135 11.9397 -0.0119135 11.8491 0.0417218L6.19528 3.2658C6.0746 3.33731 6.0746 3.50418 6.19528 3.57569L8.97092 5.16091C9.08557 5.22647 9.21832 5.22647 9.33296 5.16091L11.8672 3.71872C11.9578 3.66508 12.0784 3.66508 12.1689 3.71872L19.627 7.96782C19.7175 8.02146 19.7778 8.11681 19.7778 8.22408V14.8212C19.7778 14.9464 19.8442 15.0656 19.9589 15.1311L22.7345 16.7104C22.8552 16.7819 23.006 16.6925 23.006 16.5554V6.40048C23.006 6.29321 22.9457 6.19786 22.8552 6.14423L22.8491 6.13827Z",fill:e})]})};import{c as KX}from"react/compiler-runtime";import{jsx as eZ}from"react/jsx-runtime";import{createContext as tZ,use as oZ,useState as rZ}from"react";var kr=()=>oZ(KA),KA=tZ({setStepNav:()=>{},stepNav:[]}),Ay=t=>{let e=KX(4),{children:o}=t,n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=[],e[0]=n):n=e[0];let[r,s]=rZ(n),i;return e[1]!==o||e[2]!==r?(i=eZ(KA,{value:{setStepNav:s,stepNav:r},children:o}),e[1]=o,e[2]=r,e[3]=i):i=e[3],i};import{c as nZ}from"react/compiler-runtime";import{useEffect as sZ}from"react";var iZ=t=>{let e=nZ(4),{nav:o}=t,{setStepNav:n}=kr(),r,s;return e[0]!==o||e[1]!==n?(r=()=>{n(o)},s=[n,o],e[0]=o,e[1]=n,e[2]=r,e[3]=s):(r=e[2],s=e[3]),sZ(r,s),null};var Kd="step-nav",o6=t=>{let e=aZ(7),{className:o,CustomIcon:n}=t,{i18n:r}=P(),{stepNav:s}=kr(),{config:i}=H(),{routes:a}=i,{admin:l}=a,{t:c}=P(),u;return e[0]!==n||e[1]!==l||e[2]!==o||e[3]!==r||e[4]!==s||e[5]!==c?(u=Go(t6,{children:s.length>0?e6("nav",{className:[Kd,o].filter(Boolean).join(" "),children:[Go(Jt,{className:`${Kd}__home`,href:l,prefetch:!1,tabIndex:0,children:Go("span",{title:c("general:dashboard"),children:Go(ue,{CustomComponent:n,Fallback:Go(Gh,{})})})}),Go("span",{children:"/"}),s.map((d,f)=>{let m=lZ(d.label,r);return s.length===f+1?Go("span",{className:`${Kd}__last`,children:m},f):e6(t6,{children:[d.url?Go(Jt,{href:d.url,prefetch:!1,children:Go("span",{children:m},f)}):Go("span",{children:m},f),Go("span",{children:"/"})]},f)})]}):Go("div",{className:[Kd,o].filter(Boolean).join(" "),children:Go("div",{className:`${Kd}__home`,children:Go("span",{title:c("general:dashboard"),children:Go(ue,{CustomComponent:n,Fallback:Go(Gh,{})})})})})}),e[0]=n,e[1]=l,e[2]=o,e[3]=r,e[4]=s,e[5]=c,e[6]=u):u=e[6],u};var zo="app-header";function fZ({CustomAvatar:t,CustomIcon:e}){let{t:o}=P(),{Actions:n}=Cy(),{config:{admin:{routes:{account:r}},localization:s,routes:{admin:i},serverURL:a}}=H(),{navOpen:l}=Aa(),c=dZ(null),[u,d]=mZ(!1);uZ(()=>{let m=()=>{let p=c.current;if(p){let h=p.scrollWidth>p.clientWidth;d(h)}};return m(),window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m)}},[n]);let f=n?Object.values(n):[];return zh("header",{className:[zo,l&&`${zo}--nav-open`].filter(Boolean).join(" "),children:[pr("div",{className:`${zo}__bg`}),pr("div",{className:`${zo}__content`,children:zh("div",{className:`${zo}__wrapper`,children:[pr(Dy,{className:`${zo}__mobile-nav-toggler`,tabIndex:-1,children:pr(Iy,{})}),zh("div",{className:`${zo}__controls-wrapper`,children:[pr("div",{className:`${zo}__step-nav-wrapper`,children:pr(o6,{className:`${zo}__step-nav`,CustomIcon:e})}),zh("div",{className:`${zo}__actions-wrapper`,children:[pr("div",{className:`${zo}__actions`,ref:c,children:f.map((m,p)=>pr("div",{className:u&&p===f.length-1?`${zo}__last-action`:"",children:m},p))}),u&&pr("div",{className:`${zo}__gradient-placeholder`})]}),s&&pr(Oh,{ariaLabel:"invisible",className:`${zo}__localizer-spacing`}),pr(Jt,{"aria-label":o("authentication:account"),className:`${zo}__account`,href:cZ({adminRoute:i,path:r}),prefetch:!1,tabIndex:0,children:pr(ue,{CustomComponent:t,Fallback:pr(yy,{})})})]})]})}),pr(JA,{className:`${zo}__localizer`})]})}import{jsx as Py,jsxs as pZ}from"react/jsx-runtime";import"react";var em="card",hZ=t=>{let{id:e,actions:o,buttonAriaLabel:n,href:r,onClick:s,title:i,titleAs:a}=t,l=[em,e,(s||r)&&`${em}--has-onclick`].filter(Boolean).join(" ");return pZ("div",{className:l,id:e,children:[Py(a??"div",{className:`${em}__title`,children:i}),o&&Py("div",{className:`${em}__actions`,children:o}),(s||r)&&Py(K,{"aria-label":n,buttonStyle:"none",className:`${em}__click`,el:"link",onClick:s,to:r})]})};import{c as gZ}from"react/compiler-runtime";import{jsx as xi,jsxs as Wh}from"react/jsx-runtime";import{getTranslation as bZ}from"@payloadcms/translations";import{useRouter as vZ}from"next/navigation.js";import{formatAdminURL as yZ}from"payload/shared";import lc from"react";var Hh="copy-locale-data",Uh="copy-locale",Ey=()=>{let t=gZ(35),{config:e}=H(),{localization:o,routes:n}=e,{admin:r}=n,{code:s}=Ie(),{id:i,collectionSlug:a,globalSlug:l}=Te(),{i18n:c,t:u}=P(),d=mo(),{toggleModal:f}=ie(),{copyDataFromLocale:m}=Pt(),p=vZ(),{startRouteTransition:h}=Xe(),g=o&&o.locales.map(CZ)||[],b;t[0]!==s?(b=O=>O.value!==s,t[0]=s,t[1]=b):b=t[1];let C=g.filter(b),y;t[2]!==c||t[3]!==o?(y=O=>{let G=o&&o.locales.find(W=>W.code===O);return G&&G.label?bZ(G.label,c):O},t[2]=c,t[3]=o,t[4]=y):y=t[4];let v=y,[x,_]=lc.useState(!1),[w,T]=lc.useState(null),[S,R]=lc.useState(s),[D,I]=lc.useState(!1),F,A;t[5]!==s||t[6]!==S?(F=()=>{S!==s&&R(s)},A=[s,S],t[5]=s,t[6]=S,t[7]=F,t[8]=A):(F=t[7],A=t[8]),lc.useEffect(F,A);let k;t[9]!==r||t[10]!==a||t[11]!==m||t[12]!==l||t[13]!==i||t[14]!==D||t[15]!==p||t[16]!==h||t[17]!==f?(k=async O=>{let{from:G,to:W}=O;_(!0);try{await m({collectionSlug:a,docID:i,fromLocale:G,globalSlug:l,overrideData:D,toLocale:W}),_(!1),h(()=>p.push(yZ({adminRoute:r,path:`/${a?`collections/${a}/${i}`:`globals/${l}`}`})+`?locale=${W}`)),f(Uh)}catch(U){let z=U;oe.error(z.message)}},t[9]=r,t[10]=a,t[11]=m,t[12]=l,t[13]=i,t[14]=D,t[15]=p,t[16]=h,t[17]=f,t[18]=k):k=t[18];let L=k;if(!i&&!l)return null;let N;t[19]!==d||t[20]!==u||t[21]!==f?(N=()=>{d?oe.info(u("general:unsavedChanges")):f(Uh)},t[19]=d,t[20]=u,t[21]=f,t[22]=N):N=t[22];let B;t[23]!==f?(B=()=>{f(Uh)},t[23]=f,t[24]=B):B=t[24];let j;t[25]!==L||t[26]!==x||t[27]!==S||t[28]!==u||t[29]!==w?(j=async()=>{if(S===w){oe.error(u("localization:cannotCopySameLocale"));return}x||await L({from:S,to:w})},t[25]=L,t[26]=x,t[27]=S,t[28]=u,t[29]=w,t[30]=j):j=t[30];let E;t[31]===Symbol.for("react.memo_cache_sentinel")?(E=O=>{O?.value&&R(O.value)},t[31]=E):E=t[31];let $;t[32]===Symbol.for("react.memo_cache_sentinel")?($=O=>{O?.value&&T(O.value)},t[32]=$):$=t[32];let M;return t[33]!==D?(M=()=>I(!D),t[33]=D,t[34]=M):M=t[34],Wh(lc.Fragment,{children:[xi(we.Button,{id:`${Hh}__button`,onClick:N,children:u("localization:copyToLocale")}),Wh(St,{className:Hh,gutter:!1,Header:xi(di,{onClose:B,title:u("localization:copyToLocale")}),slug:Uh,children:[Wh("div",{className:`${Hh}__sub-header`,children:[xi("span",{children:S&&w?xi("div",{children:u("localization:copyFromTo",{from:v(S),to:v(w)})}):u("localization:selectLocaleToCopy")}),xi(K,{buttonStyle:"primary",disabled:!S||!w,iconPosition:"left",onClick:j,size:"medium",children:x?u("general:copying")+"...":u("general:copy")})]}),Wh("div",{className:`${Hh}__content`,children:[xi(qr,{label:u("localization:copyFrom"),name:"fromLocale",onChange:E,options:g,path:"fromLocale",readOnly:!0,value:S}),xi(qr,{label:u("localization:copyTo"),name:"toLocale",onChange:$,options:C,path:"toLocale",value:w}),xi(Ur,{checked:D,field:{name:"overwriteExisting",label:u("general:overwriteExistingData")},onChange:M,path:"overwriteExisting"})]})]})]})};function CZ(t){return{label:t.label,value:t.code}}import{c as RZ}from"react/compiler-runtime";import{jsx as Hn,jsxs as a6}from"react/jsx-runtime";import{getTranslation as l6}from"@payloadcms/translations";import{useRouter as DZ,useSearchParams as AZ}from"next/navigation.js";import{formatAdminURL as PZ,mergeListSearchAndWhere as EZ}from"payload/shared";import*as $y from"qs-esm";import tm from"react";import{jsx as xZ}from"react/jsx-runtime";import{useSearchParams as wZ}from"next/navigation.js";import*as n6 from"qs-esm";import{createContext as SZ,use as IZ,useCallback as Xh,useEffect as Ny,useMemo as _Z,useRef as TZ,useState as Ly}from"react";var Zt=function(t){return t.AllAvailable="allAvailable",t.AllInPage="allInPage",t.None="none",t.Some="some",t}({}),s6=SZ({count:void 0,getQueryParams:t=>"",getSelectedIds:()=>[],selectAll:void 0,selected:new Map,selectedIDs:[],setSelection:t=>{},toggleAll:t=>{},totalDocs:void 0}),r6=t=>{let e=[];for(let[o,n]of t)n&&e.push(o);return e},ky=({children:t,docs:e=[],totalDocs:o})=>{let n=TZ({}),{user:r}=Se(),{code:s}=Ie(),[i,a]=Ly(()=>{let y=new Map;return e.forEach(({id:v})=>{y.set(v,!1)}),y}),[l,c]=Ly("none"),[u,d]=Ly(0),f=wZ(),{query:m}=lt(),p=Xh((y=!1)=>{let v=new Map;y?(c("allAvailable"),e.forEach(({id:x,_isLocked:_,_userEditing:w})=>{(!_||w?.id===r?.id)&&v.set(x,!0)})):l==="allAvailable"||l==="allInPage"?c("none"):e.forEach(({id:x,_isLocked:_,_userEditing:w})=>{(!_||w?.id===r?.id)&&v.set(x,l!=="some")}),a(v)},[e,l,r?.id]),h=Xh(y=>{let v=e.find(T=>T.id===y);if(v?._isLocked&&r?.id!==v?._userEditing.id)return;let x=i.get(y),_=typeof x=="boolean"?!x:!0,w=new Map(i.set(y,_));l==="allAvailable"&&!_&&c("some"),a(w)},[i,e,l,r?.id]),g=Xh(y=>{let v;if(l==="allAvailable")v=Ut(f)?.where||{id:{not_equals:""}};else{let x=[];for(let[_,w]of i)w&&x.push(_);v={id:{in:x}}}return y&&(v={and:[{...y},v]}),n6.stringify({locale:s,where:v},{addQueryPrefix:!0})},[l,i,s,f]),b=Xh(()=>r6(i),[i]);Ny(()=>{if(l==="allAvailable")return;let y=!1,v=!0;if(!i.size)v=!1,y=!1;else for(let[x,_]of i)v=v&&_,y=y||_;v&&i.size===e.length?c("allInPage"):c(y?"some":"none")},[l,i,o,e]),Ny(()=>{let y=0;if(l==="allAvailable")y=o;else for(let[v,x]of i)x&&y++;d(y)},[l,i,o]),Ny(()=>{c("none"),a(new Map)},[m]);let C=_Z(()=>r6(i),[i]);return n.current={count:u,getQueryParams:g,getSelectedIds:b,selectAll:l,selected:i,selectedIDs:C,setSelection:h,toggleAll:p,totalDocs:o},xZ(s6,{value:n.current,children:t})},Co=()=>IZ(s6);import{c as FZ}from"react/compiler-runtime";import{jsx as cc,jsxs as jy}from"react/jsx-runtime";import i6 from"react";var Zh="list-selection";function Yh(t){let e=FZ(5),{count:o,ListActions:n,SelectionActions:r}=t,{t:s}=P(),i;return e[0]!==n||e[1]!==r||e[2]!==o||e[3]!==s?(i=jy("div",{className:Zh,children:[cc("span",{children:s("general:selectedCount",{count:o,label:""})}),n&&n.length>0&&jy(i6.Fragment,{children:[cc("span",{children:"\u2014"}),cc("div",{className:`${Zh}__actions`,children:n})]}),r&&r.length>0&&jy(i6.Fragment,{children:[cc("span",{children:"\u2014"}),cc("div",{className:`${Zh}__actions`,children:r})]})]}),e[0]=n,e[1]=r,e[2]=o,e[3]=s,e[4]=i):i=e[4],i}function to({children:t,className:e,...o}){return cc(K,{...o,buttonStyle:"none",className:[`${Zh}__button`,e].filter(Boolean).join(" "),children:t})}var By=t=>{let e=RZ(6),{viewType:o}=t,{collection:n,modalPrefix:r}=t,{slug:s,trash:i}=n===void 0?{}:n,{permissions:a}=Se(),{count:l,selectAll:c,selectedIDs:u,toggleAll:d}=Co(),f=DZ(),m=AZ(),{clearRouteCache:p}=bt(),g=a?.collections?.[s]?.delete,b=c===Zt.AllAvailable,C=b?[]:u;if(c===Zt.None||!g)return null;let y=Ut(m)?.where,v=o==="trash"?{and:[...Array.isArray(y?.and)?y.and:y?[y]:[],{deletedAt:{exists:!0}}]}:y,x;return e[0]!==p||e[1]!==f||e[2]!==m||e[3]!==c||e[4]!==d?(x=()=>{d(),f.replace($y.stringify({...Ut(m),page:c?"1":void 0},{addQueryPrefix:!0})),p()},e[0]=p,e[1]=f,e[2]=m,e[3]=c,e[4]=d,e[5]=x):x=e[5],Hn(tm.Fragment,{children:Hn(My,{afterDelete:x,modalPrefix:r,search:Ut(m)?.search,selections:{[s]:{all:c===Zt.AllAvailable,ids:C,totalCount:b?l:C.length}},trash:i,viewType:o,where:v})})};function My({afterDelete:t,modalPrefix:e,search:o,selections:n,trash:r,viewType:s,where:i}){let{t:a}=P(),{config:{collections:l,routes:{api:c},serverURL:u}}=H(),{code:d}=Ie(),{i18n:f}=P(),{openModal:m}=ie(),[p,h]=tm.useState(!1),g=`${e?`${e}-`:""}confirm-delete-many-docs`,b=tm.useCallback(async()=>{let v=Object.keys(n).length===1,x={};for(let[_,{all:w,ids:T=[]}]of Object.entries(n)){let S=l.find(({slug:R})=>R===_);if(S){let R;w?v&&i?R=s==="trash"?{and:[...Array.isArray(i.and)?i.and:[i],{deletedAt:{exists:!0}}]}:i:R=s==="trash"?{and:[{id:{not_equals:""}},{deletedAt:{exists:!0}}]}:{id:{not_equals:""}}:R={and:[{id:{in:T}},...s==="trash"?[{deletedAt:{exists:!0}}]:[]]};let D=PZ({apiRoute:c,path:`/${_}${$y.stringify({limit:0,locale:d,select:{},where:EZ({collectionConfig:S,search:o,where:R}),...s==="trash"?{trash:!0}:{}},{addQueryPrefix:!0})}`}),I=s==="trash"||p||!S.trash?await Ge.delete(D,{headers:{"Accept-Language":f.language,"Content-Type":"application/json"}}):await Ge.patch(D,{body:JSON.stringify({deletedAt:new Date().toISOString()}),headers:{"Accept-Language":f.language,"Content-Type":"application/json"}});try{let{plural:F,singular:A}=S.labels,k=await I.json(),L=k?.docs.length||0,N=L>1?F:A;if(I.status<400||L>0){let B=S.trash&&!p&&s!=="trash",j;B?j="general:trashedCountSuccessfully":s==="trash"||p?j="general:permanentlyDeletedCountSuccessfully":j="general:deletedCountSuccessfully",oe.success(a(j,{count:L,label:l6(N,f)}))}k?.errors.length>0&&oe.error(k.message,{description:k.errors.map(B=>B.message).join(`
`)}),x[_]={deletedCount:L,errors:k?.errors||null,ids:k?.docs.map(B=>B.id)||[],totalCount:k.totalDocs},I.status>400&&k?.errors.length===0&&(oe.error(a("error:unknown")),x[_].errors=[a("error:unknown")]);continue}catch(F){oe.error(a("error:unknown")),x[_]={deletedCount:0,errors:[F],ids:[],totalCount:0};continue}}}typeof t=="function"&&t(x)},[n,t,l,p,d,o,u,c,f,s,i,a]),{label:C,labelCount:y}=Object.entries(n).reduce((v,[x,_],w,T)=>{let S=l.find(({slug:R})=>R===x);if(S){let R=v.labelCount===void 0?_.totalCount:v.labelCount,D=`${v.labelCount!==void 0?`${_.totalCount} `:""}${l6(_.totalCount>1?S.labels.plural:S.labels.singular,f)}`,I;return w===T.length-1&&w!==0?I=`${v.label} and ${D}`:w>0?I=`${v.label}, ${D}`:I=D,{label:I,labelCount:R}}return v},{label:"",labelCount:void 0});return a6(tm.Fragment,{children:[Hn(to,{"aria-label":a("general:delete"),className:"delete-documents__toggle",onClick:()=>{m(g)},children:a("general:delete")}),Hn(et,{body:a6(tm.Fragment,{children:[Hn("p",{children:r?s==="trash"?Hn(Kt,{elements:{0:({children:v})=>Hn("strong",{children:v}),1:({children:v})=>Hn("strong",{children:v})},i18nKey:"general:aboutToPermanentlyDeleteTrash",t:a,variables:{count:y??0,label:C}}):a("general:aboutToTrashCount",{count:y,label:C}):a("general:aboutToDeleteCount",{count:y,label:C})}),r&&s!=="trash"&&Hn("div",{className:"delete-documents__checkbox",children:Hn(po,{checked:p,id:"delete-forever",label:a("general:deletePermanently"),name:"delete-forever",onToggle:v=>h(v.target.checked)})})]}),confirmingLabel:a("general:deleting"),heading:a("general:confirmDeletion"),modalSlug:g,onConfirm:b})]})}import{c as DY}from"react/compiler-runtime";import{jsx as ot,jsxs as Do,Fragment as AY}from"react/jsx-runtime";import{getTranslation as PY}from"@payloadcms/translations";import{formatAdminURL as EY,hasAutosaveEnabled as d4,hasDraftsEnabled as m4}from"payload/shared";import tC,{Fragment as im,useEffect as NY}from"react";import{createContext as NZ,use as c6}from"react";var Jh=NZ({appIsReady:!1,breakpoint:void 0,breakpoints:void 0,iframeRef:void 0,isLivePreviewEnabled:void 0,isLivePreviewing:!1,isPopupOpen:!1,isPreviewEnabled:void 0,measuredDeviceSize:{height:0,width:0},openPopupWindow:()=>{},popupRef:void 0,previewURL:void 0,previewWindowType:"iframe",setAppIsReady:()=>{},setBreakpoint:()=>{},setHeight:()=>{},setIsLivePreviewing:()=>{},setLoadedURL:()=>{},setMeasuredDeviceSize:()=>{},setPreviewURL:()=>{},setPreviewWindowType:()=>{},setSize:()=>{},setToolbarPosition:()=>{},setURL:()=>{},setWidth:()=>{},setZoom:()=>{},size:{height:0,width:0},toolbarPosition:{x:0,y:0},typeofLivePreviewURL:void 0,url:void 0,zoom:1}),xo=()=>c6(Jh),qh=()=>{let{isPreviewEnabled:t,previewURL:e,setPreviewURL:o}=c6(Jh);return{isPreviewEnabled:t,previewURL:e,setPreviewURL:o}};import{jsx as d6,jsxs as kZ}from"react/jsx-runtime";import{dequal as jZ}from"dequal/lite";import{formatAdminURL as m6,getAutosaveInterval as $Z,hasDraftValidationEnabled as BZ,reduceFieldsToValues as f6}from"payload/shared";import*as g6 from"qs-esm";import MZ,{useDeferredValue as OZ,useEffect as p6,useRef as Oy,useState as VZ}from"react";import{unflatten as LZ}from"payload/shared";var u6=(t,e,o)=>{let n={data:{},valid:!0};return t&&(Object.keys(t).forEach(r=>{(o===!0||!t[r]?.disableFormData)&&(n.data[r]=t[r]?.value,t[r].valid||(n.valid=!1))}),e&&(n.data=LZ(n.data))),n};var GZ="autosave",h6=1e3,b6=({id:t,collection:e,global:o})=>{let{config:{routes:{api:n}}}=H(),{docConfig:r,lastUpdateTime:s,mostRecentVersionIsAutosaved:i,setMostRecentVersionIsAutosaved:a,setUnpublishedVersionCount:l}=Te(),{isValid:c,setBackgroundProcessing:u,submit:d}=Oe(),[f]=Xs(),m=mo(),p=uo(),{code:h}=Ie(),{i18n:g,t:b}=P(),C=$Z(r),y=BZ(r),[v,x]=VZ(!1),_=OZ(v),w=Sn(f,C),{queueTask:T}=ma(),S=Oy(null),R=Je(()=>{S.current=void 0;let A,k,L=()=>{k-A<h6?S.current=setTimeout(()=>{x(!1)},h6-(k-A)):F()};T(async()=>{if(m){A=new Date().getTime(),x(!0);let N,B,j,E=g6.stringify({autosave:!0,depth:0,draft:!0,"fallback-locale":"null",locale:h},{addQueryPrefix:!0});e&&t&&(j=e.slug,N=m6({apiRoute:n,path:`/${j}/${t}${E}`}),B="PATCH"),o&&(j=o.slug,N=m6({apiRoute:n,path:`/globals/${j}${E}`}),B="POST");let{valid:$}=u6(f,!0);if(!(p&&!$&&y)&&m&&N){let O=await d({acceptValues:{overrideLocalChanges:!1},action:N,context:{getDocPermissions:!1,incrementVersionCount:!i},disableFormWhileProcessing:!1,disableSuccessStatus:!0,method:B,overrides:{_status:"draft"},skipValidation:!y});O&&O?.res?.ok&&!i&&(a(!0),l(W=>W+1)),k=new Date().getTime(),L()}}},{afterProcess:()=>{u(!1)},beforeProcess:()=>{u(!0)}})}),D=Oy(!1),I=Oy(f6(w));p6(()=>{if(!D.current){D.current=!0;return}let{updatedAt:A,...k}=f6(w),{updatedAt:L,...N}=I.current;jZ(k,N)||(I.current=k,R())},[w]),p6(()=>()=>{F()},[]);let F=Je(()=>{S.current&&clearTimeout(S.current),x(!1)});return kZ("div",{className:GZ,children:[y&&!c&&d6(Ud,{}),_&&b("general:saving"),!_&&!!s&&d6(MZ.Fragment,{children:b("version:lastSavedAgo",{distance:l1({date:s,i18n:g})})})]})};import{jsx as uc,jsxs as v6}from"react/jsx-runtime";import{getTranslation as y6}from"@payloadcms/translations";import{useRouter as zZ}from"next/navigation.js";import{formatAdminURL as C6}from"payload/shared";import{Fragment as x6,useCallback as w6,useState as WZ}from"react";var S6="delete-document",I6=t=>{let{id:e,buttonId:o,collectionSlug:n,onDelete:r,redirectAfterDelete:s=!0,singularLabel:i,title:a}=t,{config:{routes:{admin:l,api:c}},getEntityConfig:u}=H(),d=u({collectionSlug:n}),{setModified:f}=Oe(),m=zZ(),{i18n:p,t:h}=P(),{title:g}=Eo(),{startRouteTransition:b}=Xe(),{openModal:C}=ie(),y=`delete-${e}`,[v,x]=WZ(!1),_=w6(()=>{oe.error(h("error:deletingTitle",{title:g}))},[h,g]),w=w6(async()=>{f(!1);try{let T=C6({apiRoute:c,path:`/${n}/${e}`}),S=v||!d.trash?await Ge.delete(T,{headers:{"Accept-Language":p.language,"Content-Type":"application/json"}}):await Ge.patch(T,{body:JSON.stringify({deletedAt:new Date().toISOString()}),headers:{"Accept-Language":p.language,"Content-Type":"application/json"}}),R=await S.json();if(S.status<400){if(oe.success(h(v||!d.trash?"general:titleDeleted":"general:titleTrashed",{label:y6(i,p),title:g})||R.message),s)return b(()=>m.push(C6({adminRoute:l,path:`/collections/${n}`})));typeof r=="function"&&await r({id:e,collectionConfig:d});return}R.errors?R.errors.forEach(D=>oe.error(D.message)):_();return}catch{return _()}},[v,f,c,n,e,h,i,_,p,g,m,l,s,r,d,b]);return e?v6(x6,{children:[uc(we.Button,{id:o,onClick:()=>{C(y)},children:h("general:delete")}),uc(et,{body:v6(x6,{children:[uc(Kt,{elements:{1:({children:T})=>uc("strong",{children:T})},i18nKey:d.trash?"general:aboutToTrash":"general:aboutToDelete",t:h,variables:{label:y6(i,p),title:a||g||e}}),d.trash&&uc("div",{className:`${S6}__checkbox`,children:uc(po,{checked:v,id:"delete-forever",label:h("general:deletePermanently"),name:"delete-forever",onToggle:T=>x(T.target.checked)})})]}),className:S6,confirmingLabel:h("general:deleting"),heading:h("general:confirmDeletion"),modalSlug:y,onConfirm:w})]}):null};import{jsx as Wy,jsxs as YZ}from"react/jsx-runtime";import{getTranslation as Hy}from"@payloadcms/translations";import{useRouter as JZ}from"next/navigation.js";import{formatAdminURL as T6,hasDraftsEnabled as qZ}from"payload/shared";import*as R6 from"qs-esm";import QZ,{useCallback as F6,useMemo as KZ}from"react";var Pa=t=>{for(let e of t){if("localized"in e&&e.localized)return!0;switch(e.type){case"array":case"collapsible":case"group":case"row":if(e.fields&&Pa(e.fields))return!0;break;case"blocks":if(e.blocks){for(let o of e.blocks)if(o.fields&&Pa(o.fields))return!0}break;case"tabs":if(e.tabs){for(let o of e.tabs)if("localized"in o&&o.localized||"fields"in o&&o.fields&&Pa(o.fields))return!0}break}}return!1};import{jsx as Ea,jsxs as Vy}from"react/jsx-runtime";import{getTranslation as HZ}from"@payloadcms/translations";import{setsAreEqual as UZ}from"payload/shared";import{useCallback as Gy,useMemo as zy,useState as XZ}from"react";var ZZ=({i18n:t,localization:e})=>e.locales.map(o=>({label:HZ(o.label,t),value:o.code})),om="select-locales-drawer",_6=({slug:t,localization:e,onConfirm:o})=>{let{i18n:n,t:r}=P(),{toggleModal:s}=ie(),[i,a]=XZ([]),l=zy(()=>ZZ({i18n:n,localization:e}),[e,n]),c=zy(()=>l.map(p=>p.value),[l]),u=zy(()=>UZ(new Set(i),new Set(c)),[i,c]),d=Gy(()=>{a(u?[]:[...c])},[u,c]),f=Gy(p=>{a(h=>h.includes(p)?h.filter(g=>g!==p):[...h,p])},[]),m=Gy(async()=>{await o({selectedLocales:i}),s(t)},[o,i,t,s]);return Vy(St,{className:om,gutter:!1,Header:Ea(di,{onClose:()=>{s(t)},title:`${r("general:duplicate")} ${r("localization:selectedLocales")}`}),slug:t,children:[Vy("div",{className:`${om}__sub-header`,children:[Ea("span",{children:r("localization:selectLocaleToDuplicate")}),Ea(K,{buttonStyle:"primary",disabled:i.length===0,iconPosition:"left",id:"#action-duplicate-confirm",onClick:m,size:"medium",children:r("general:duplicate")})]}),Vy("div",{className:`${om}__content`,children:[Ea("div",{className:`${om}__item`,children:Ea(po,{checked:u,id:"select-locale-all",label:r("general:selectAll",{count:c.length,label:r("general:locales")}),onToggle:d})}),l.map(p=>Ea("div",{className:`${om}__item`,children:Ea(po,{checked:i.includes(p.value),id:`select-locale-${p.value}`,label:p.label,onToggle:()=>f(p.value)})},p.value))]})]})};var Uy=({id:t,slug:e,onDuplicate:o,redirectAfterDuplicate:n=!0,selectLocales:r,singularLabel:s})=>{let i=JZ(),a=mo(),{openModal:l}=ie(),{code:c}=Ie(),{setModified:u}=Oe(),{startRouteTransition:d}=Xe(),{config:{localization:f,routes:{admin:m,api:p}},getEntityConfig:h}=H(),g=h({collectionSlug:e}),{i18n:b,t:C}=P(),y=`duplicate-${t}`,v=`duplicate-locales-${t}`,x=KZ(()=>r&&g?Pa(g.fields):!1,[g,r]),_=F6(async S=>{let{selectedLocales:R}=S||{},D=R&&R.length>0,I={};c&&(I.locale=c),D&&(I.selectedLocales=R);let F={"Accept-Language":b.language,"Content-Type":"application/json",credentials:"include"};try{let A=await Ge.post(T6({apiRoute:p,path:`/${e}/${t}/duplicate${R6.stringify(I,{addQueryPrefix:!0})}`}),{body:JSON.stringify(qZ(g)?{_status:"draft"}:{}),headers:F}),{doc:k,errors:L,message:N}=await A.json();if(A.status<400){if(oe.success(N||C("general:successfullyDuplicated",{label:Hy(s,b)})),u(!1),n)return d(()=>i.push(T6({adminRoute:m,path:`/collections/${e}/${k.id}${c?`?locale=${c}`:""}`})));typeof o=="function"&&o({collectionConfig:g,doc:k})}else oe.error(L?.[0].message||N||C("error:unspecific",{label:Hy(s,b)}))}catch{oe.error(C("error:unspecific",{label:Hy(s,b)}))}},[m,p,g,b,t,c,o,n,i,u,s,e,d,C]),w=F6(async()=>{r?l(v):await _()},[_,v,r,l]),T=r?`${C("general:duplicate")} ${C("localization:selectedLocales")}`:C("general:duplicate");return!r||x?YZ(QZ.Fragment,{children:[Wy(we.Button,{id:`action-duplicate${x?"-locales":""}`,onClick:()=>{a?l(y):r?l(v):_()},children:T}),Wy(et,{body:C("general:unsavedChangesDuplicate"),confirmLabel:C("general:duplicateWithoutSaving"),heading:C("general:unsavedChanges"),modalSlug:y,onConfirm:w}),r&&f&&Wy(_6,{localization:f,onConfirm:_,slug:v})]}):null};import{jsx as A6}from"react/jsx-runtime";import"react";import{jsx as rm,jsxs as eY}from"react/jsx-runtime";import{Fragment as D6}from"react";var Qh=({active:t=!0,className:e})=>rm("svg",{className:[e,"icon icon--eye"].filter(Boolean).join(" "),viewBox:"0 0 16 12",xmlns:"http://www.w3.org/2000/svg",children:t?rm(D6,{children:rm("path",{className:"stroke",d:"M2 11.5L4.35141 9.51035M15 0.5L12.6486 2.48965M10.915 6.64887C10.6493 7.64011 9.78959 8.38832 8.7408 8.48855M10.4085 4.38511C9.94992 3.84369 9.2651 3.5 8.5 3.5C7.11929 3.5 6 4.61929 6 6C6 6.61561 6.22251 7.17926 6.59149 7.61489M10.4085 4.38511L6.59149 7.61489M10.4085 4.38511L12.6486 2.48965M6.59149 7.61489L4.35141 9.51035M14.1292 3.92915C15.0431 5.02085 15.5 6 15.5 6C15.5 6 13.1667 11 8.5 11C7.67995 11 6.93195 10.8456 6.256 10.5911M4.35141 9.51035C2.45047 8.03672 1.5 6 1.5 6C1.5 6 3.83333 1 8.5 1C10.1882 1 11.5711 1.65437 12.6486 2.48965"})}):eY(D6,{children:[rm("circle",{className:"stroke",cx:"8.5",cy:"6",r:"2.5"}),rm("path",{className:"stroke",d:"M8.5 1C3.83333 1 1.5 6 1.5 6C1.5 6 3.83333 11 8.5 11C13.1667 11 15.5 6 15.5 6C15.5 6 13.1667 1 8.5 1Z"})]})});var P6="live-preview-toggler",E6=()=>{let{isLivePreviewing:t,setIsLivePreviewing:e,url:o}=xo(),{t:n}=P();return o?A6("button",{"aria-label":n(t?"general:exitLivePreview":"general:livePreview"),className:[P6,t&&`${P6}--active`].filter(Boolean).join(" "),id:"live-preview-toggler",onClick:()=>{e(!t)},title:n(t?"general:exitLivePreview":"general:livePreview"),type:"button",children:A6(Qh,{active:t})}):null};import{c as oY}from"react/compiler-runtime";import{jsx as k6,jsxs as rY}from"react/jsx-runtime";import{useState as nY}from"react";import{jsx as N6,jsxs as tY}from"react/jsx-runtime";import"react";var L6=({className:t})=>tY("svg",{className:["icon icon--lock",t].filter(Boolean).join(" "),fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[N6("path",{className:"stroke",d:"M7.5 9.5V7.5C7.5 6.83696 7.76339 6.20107 8.23223 5.73223C8.70107 5.26339 9.33696 5 10 5C10.663 5 11.2989 5.26339 11.7678 5.73223C12.2366 6.20107 12.5 6.83696 12.5 7.5V9.5",strokeLinecap:"round",strokeLinejoin:"round",strokeOpacity:"1"}),N6("path",{className:"stroke",d:"M13.5 9.5H6.5C5.94772 9.5 5.5 9.94772 5.5 10.5V14C5.5 14.5523 5.94772 15 6.5 15H13.5C14.0523 15 14.5 14.5523 14.5 14V10.5C14.5 9.94772 14.0523 9.5 13.5 9.5Z",stopOpacity:"1",strokeLinecap:"round",strokeLinejoin:"round"})]});var j6="locked",nm=t=>{let e=oY(8),{className:o,user:n}=t,[r,s]=nY(!1),{t:i}=P(),a=$h(n)?n.email??n.id:i("general:anotherUser"),l;e[0]!==o?(l=[j6,o].filter(Boolean),e[0]=o,e[1]=l):l=e[1];let c=l.join(" "),u,d;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=()=>s(!0),d=()=>s(!1),e[2]=u,e[3]=d):(u=e[2],d=e[3]);let f=`${a} ${i("general:isEditing")}`,m;return e[4]!==r||e[5]!==c||e[6]!==f?(m=rY("div",{className:c,onMouseEnter:u,onMouseLeave:d,role:"button",tabIndex:0,children:[k6(Po,{alignCaret:"left",className:`${j6}__tooltip`,position:"top",show:r,children:f}),k6(L6,{})]}),e[4]=r,e[5]=c,e[6]=f,e[7]=m):m=e[7],m};import{jsx as Kh,jsxs as sY}from"react/jsx-runtime";import{getTranslation as $6}from"@payloadcms/translations";import{useRouter as iY}from"next/navigation.js";import{formatAdminURL as B6}from"payload/shared";import*as O6 from"qs-esm";import{Fragment as aY,useCallback as M6}from"react";var V6=t=>{let{id:e,buttonId:o,collectionSlug:n,onDelete:r,redirectAfterDelete:s=!0,singularLabel:i,title:a}=t,{config:{routes:{admin:l,api:c},serverURL:u},getEntityConfig:d}=H(),f=d({collectionSlug:n}),m=iY(),{i18n:p,t:h}=P(),{title:g}=Eo(),{startRouteTransition:b}=Xe(),{openModal:C}=ie(),y=`perma-delete-${e}`,v=M6(()=>{oe.error(h("error:deletingTitle",{title:g}))},[h,g]),x=M6(async()=>{try{let _=B6({apiRoute:c,path:`/${n}${O6.stringify({trash:!0,where:{and:[{id:{equals:e}},{deletedAt:{exists:!0}}]}},{addQueryPrefix:!0})}`}),w=await Ge.delete(_,{headers:{"Accept-Language":p.language,"Content-Type":"application/json"}}),T=await w.json();if(w.status<400){if(oe.success(h("general:titleDeleted",{label:$6(i,p),title:g})||T.message),s)return b(()=>m.push(B6({adminRoute:l,path:`/collections/${n}/trash`,serverURL:u})));typeof r=="function"&&await r({id:e,collectionConfig:f});return}T.errors?T.errors.forEach(S=>oe.error(S.message)):v()}catch{v()}},[u,c,n,e,h,i,v,p,g,m,l,s,r,f,b]);return e?sY(aY,{children:[Kh(K,{buttonStyle:"secondary",id:o,onClick:()=>{C(y)},children:h("general:permanentlyDelete")}),Kh(et,{body:Kh(Kt,{elements:{1:({children:_})=>Kh("strong",{children:_})},i18nKey:"general:aboutToPermanentlyDelete",t:h,variables:{label:$6(i,p),title:a||g||e}}),confirmingLabel:h("general:deleting"),heading:h("general:confirmDeletion"),modalSlug:y,onConfirm:x})]}):null};import{c as lY}from"react/compiler-runtime";import{jsx as z6}from"react/jsx-runtime";import"react";import{jsx as G6}from"react/jsx-runtime";import"react";var sm=t=>{let{className:e}=t;return G6("svg",{className:[e,"icon icon--externalLink"].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:G6("path",{className:"stroke",d:"M16 10.6667V14.6667C16 15.0203 15.8595 15.3594 15.6095 15.6095C15.3594 15.8595 15.0203 16 14.6667 16H5.33333C4.97971 16 4.64057 15.8595 4.39052 15.6095C4.14048 15.3594 4 15.0203 4 14.6667V5.33333C4 4.97971 4.14048 4.64057 4.39052 4.39052C4.64057 4.14048 4.97971 4 5.33333 4H9.33333M16 4L10 10M16 4H12M16 4V8",strokeLinecap:"square"})})};var cY="preview-btn";function Xy(t){let e=lY(3),{previewURL:o}=qh(),{t:n}=P();if(!o)return null;let r;return e[0]!==o||e[1]!==n?(r=z6("a",{"aria-label":n("version:preview"),className:cY,href:o,id:"preview-button",target:"_blank",title:n("version:preview"),children:z6(sm,{})}),e[0]=o,e[1]=n,e[2]=r):r=e[2],r}import{jsx as mc,jsxs as q6}from"react/jsx-runtime";import{getTranslation as hY}from"@payloadcms/translations";import{formatAdminURL as Yy,hasAutosaveEnabled as gY,hasScheduledPublishEnabled as bY}from"payload/shared";import*as Q6 from"qs-esm";import Jy,{useCallback as qy,useEffect as vY,useState as yY}from"react";import{jsx as lo,jsxs as La}from"react/jsx-runtime";import{getTranslation as mY}from"@payloadcms/translations";import{formatAdminURL as fY}from"payload/shared";import*as Y6 from"qs-esm";import Ko,{useCallback as pY,useMemo as X6}from"react";import{jsx as Na,jsxs as W6}from"react/jsx-runtime";import"react";var H6="table",Zy=({appearance:t,BeforeTable:e,columns:o,data:n})=>{let r=o?.filter(s=>s?.active);return!r||r.length===0?Na("div",{children:"No columns selected"}):W6("div",{className:[H6,t&&`${H6}--appearance-${t}`].filter(Boolean).join(" "),children:[e,W6("table",{cellPadding:"0",cellSpacing:"0",children:[Na("thead",{children:Na("tr",{children:r.map((s,i)=>Na("th",{id:`heading-${s.accessor.replace(/\./g,"__")}`,children:s.Heading},i))})}),Na("tbody",{children:n&&n?.map((s,i)=>Na("tr",{className:`row-${i+1}`,"data-id":s.id,children:r.map((a,l)=>{let{accessor:c}=a;return Na("td",{className:`cell-${c.replace(/\./g,"__")}`,children:a.renderedCells[i]},l)})},typeof s.id=="string"||typeof s.id=="number"?String(s.id):i))})]})]})};import{jsx as Un,jsxs as uY}from"react/jsx-runtime";import{getTranslation as dY}from"@payloadcms/translations";import"react";var U6=({dateFormat:t,deleteHandler:e,docs:o,i18n:n,localization:r,supportedTimezones:s,t:i})=>{let a=[{accessor:"input.type",active:!0,field:{name:"",type:"text"},Heading:Un("span",{children:i("version:type")}),renderedCells:o.map(l=>{let c=l.input?.type;return uY(tt,{pillStyle:c==="publish"?"success":"warning",size:"small",children:[c==="publish"&&i("version:publish"),c==="unpublish"&&i("version:unpublish")]},l.id)})},{accessor:"waitUntil",active:!0,field:{name:"",type:"date"},Heading:Un("span",{children:i("general:time")}),renderedCells:o.map(l=>Un("span",{children:Hr({date:l.waitUntil,i18n:n,pattern:t,timezone:l.input.timezone})},l.id))},{accessor:"input.timezone",active:!0,field:{name:"",type:"text"},Heading:Un("span",{children:i("general:timezone")}),renderedCells:o.map(l=>{let u=s.find(d=>d.value===l.input.timezone)?.label||l.input.timezone;return Un("span",{children:u||i("general:noValue")},l.id)})}];return r&&a.push({accessor:"input.locale",active:!0,field:{name:"",type:"text"},Heading:Un("span",{children:i("general:locale")}),renderedCells:o.map(l=>{if(l.input.locale){let c=r.locales.find(u=>u.code===l.input.locale);if(c)return Un("span",{children:dY(c.label,n)},l.id)}return Un("span",{children:i("general:all")},l.id)})}),a.push({accessor:"delete",active:!0,field:{name:"delete",type:"text"},Heading:Un("span",{children:i("general:delete")}),renderedCells:o.map(l=>Un(K,{buttonStyle:"icon-label",className:"schedule-publish__delete",icon:"x",onClick:c=>{c.preventDefault(),e(l.id)},tooltip:i("general:delete")},l.id))}),a};var dc="schedule-publish",Z6={label:"All",value:"all"},J6=({slug:t,defaultType:e,schedulePublishConfig:o})=>{let{toggleModal:n}=ie(),{config:{admin:{dateFormat:r,timezones:{defaultTimezone:s,supportedTimezones:i}},localization:a,routes:{api:l},serverURL:c}}=H(),{id:u,collectionSlug:d,globalSlug:f}=Te(),{title:m}=Eo(),{i18n:p,t:h}=P(),{schedulePublish:g}=Pt(),[b,C]=Ko.useState(e||"publish"),[y,v]=Ko.useState(),[x,_]=Ko.useState(s),[w,T]=Ko.useState(Z6),[S,R]=Ko.useState(!1),D=h("general:schedulePublishFor",{title:m}),[I,F]=Ko.useState(),[A,k]=Ko.useState(),L=Ko.useRef(()=>null),N=Intl.DateTimeFormat().resolvedOptions().timeZone,B=Ko.useMemo(()=>{if(a){let W=a.locales.map(({code:U,label:z})=>({label:mY(z,p),value:U}));return W.unshift(Z6),W}return[]},[a,p]),j=Ko.useCallback(async()=>{let W={sort:"waitUntil",where:{and:[{taskSlug:{equals:"schedulePublish"}},{waitUntil:{greater_than:new Date}}]}};d&&(W.where.and.push({"input.doc.value":{equals:String(u)}}),W.where.and.push({"input.doc.relationTo":{equals:d}})),f&&W.where.and.push({"input.global":{equals:f}});let{docs:U}=await Ge.post(fY({apiRoute:l,path:"/payload-jobs"}),{body:Y6.stringify(W),headers:{"Accept-Language":p.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"}}).then(z=>z.json());k(U6({dateFormat:r,deleteHandler:L.current,docs:U,i18n:p,localization:a,supportedTimezones:i,t:h})),F(U)},[d,f,c,l,p,r,a,i,h,u]),E=Ko.useCallback(async W=>{try{await g({deleteID:W}),await j(),oe.success(h("general:deletedSuccessfully"))}catch(U){console.error(U),oe.error(U.message)}},[j,g,h]);Ko.useEffect(()=>{L.current=E},[E]);let $=Ko.useCallback(async()=>{if(!y)return oe.error(h("general:noDateSelected"));R(!0);let W;typeof w=="object"&&w.value!=="all"&&b==="publish"&&(W=w.value);try{await g({type:b,date:y,doc:d?{relationTo:d,value:String(u)}:void 0,global:f||void 0,locale:W,timezone:x}),v(void 0),oe.success(h("version:scheduledSuccessfully")),j()}catch(U){console.error(U),oe.error(U.message)}R(!1)},[y,w,b,h,g,d,u,f,x,j]),M=X6(()=>{if(x&&N&&y){let W=no.tz(x),U=no.tz(N),z=new no(y).withTimeZone(x),J=fn(z,W);return fn(J,U).toISOString()}return y},[x,y,N]),O=pY(W=>{if(x&&W){let U=no.tz(x),z=new no(W),J=fn(z,U);v(J||null)}else v(W||null)},[v,x]);Ko.useEffect(()=>{I||(async()=>await j())()},[I,j]);let G=X6(()=>y&&d3(y)?new Date:qs(new Date),[y]);return La(St,{className:dc,gutter:!1,Header:La("div",{className:`${dc}__drawer-header`,children:[lo("h2",{title:D,children:D}),lo(Kp,{onClick:()=>n(t)})]}),slug:t,children:[La(To,{className:`${dc}__scheduler`,children:[lo(_e,{label:h("version:type"),required:!0}),La("ul",{className:`${dc}__type`,children:[lo("li",{children:lo(Ju,{id:`${t}-type`,isSelected:b==="publish",onChange:()=>C("publish"),option:{label:h("version:publish"),value:"publish"},path:`${t}-type`,readOnly:S})}),lo("li",{children:lo(Ju,{id:`${t}-type`,isSelected:b==="unpublish",onChange:()=>C("unpublish"),option:{label:h("version:unpublish"),value:"unpublish"},path:`${t}-type`,readOnly:S})})]}),lo("br",{}),lo(_e,{label:h("general:time"),path:"time",required:!0}),lo(bl,{id:"time",maxTime:J2(),minDate:new Date,minTime:G,onChange:W=>O(W),pickerAppearance:"dayAndTime",readOnly:S,timeFormat:o?.timeFormat,timeIntervals:o?.timeIntervals??5,value:M}),i.length>0&&lo(Pu,{id:"timezone-picker",onChange:_,options:i,selectedTimezone:x}),lo("br",{}),B.length>0&&b==="publish"&&La(Ko.Fragment,{children:[lo(_e,{label:h("localization:localeToPublish")}),lo(gt,{onChange:W=>T(W),options:B,value:w}),lo("br",{})]}),La("div",{className:`${dc}__actions`,children:[lo(K,{buttonStyle:"primary",disabled:S,id:"scheduled-publish-save",onClick:$,type:"button",children:h("general:save")}),S?lo("span",{children:h("general:saving")}):null]})]}),La(To,{className:`${dc}__upcoming`,children:[lo("h4",{children:h("general:upcomingEvents")}),!I&&lo(Dt,{}),I?.length===0&&lo(un,{type:"info",children:h("general:noUpcomingEventsScheduled")}),I?.length>0&&lo(Zy,{appearance:"condensed",columns:A,data:I})]})]})};function Qy({label:t}){let{id:e,collectionSlug:o,globalSlug:n,hasPublishedDoc:r,hasPublishPermission:s,setHasPublishedDoc:i,setMostRecentVersionIsAutosaved:a,setUnpublishedVersionCount:l,unpublishedVersionCount:c,uploadStatus:u}=Te(),{config:d,getEntityConfig:f}=H(),{submit:m}=Oe(),p=mo(),h=dt(),{code:g}=Ie(),{isModalOpen:b,toggleModal:C}=ie(),y=`schedule-publish-${e}`,{localization:v,routes:{api:x},serverURL:_}=d,{i18n:w,t:T}=P(),S=t||T("version:publishChanges"),R=Jy.useMemo(()=>{if(o)return f({collectionSlug:o});if(n)return f({globalSlug:n})},[o,n,f]),D=c>0,I=s&&(p||D||!r)&&u!=="uploading",F=bY(R),A=gY(R),k=!!(F&&s&&(n||o&&e)&&(A||!p)),[L,N]=yY(!1);vY(()=>{let z=Pa(R?.fields);N(z)},[R?.fields]);let B=v&&L&&s,E=Sr()==="update"&&!p,$=qy(async()=>{if(E)return;let z=`?locale=${g}&depth=0&fallback-locale=null&draft=true`,J,Z="POST";o&&(J=Yy({apiRoute:x,path:`/${o}${e?`/${e}`:""}${z}`}),e&&(Z="PATCH")),n&&(J=Yy({apiRoute:x,path:`/globals/${n}${z}`})),await m({action:J,method:Z,overrides:{_status:"draft"},skipValidation:!0})},[m,o,n,_,x,g,e,E]);Fa({cmdCtrlKey:!0,editDepth:h,keyCodes:["s"]},z=>{z.preventDefault(),z.stopPropagation(),$&&A&&$()});let M=qy(async()=>{if(u==="uploading")return;await m({overrides:{_status:"published"}})&&(l(0),a(!1),i(!0))},[i,m,l,u,a]),O=qy(async z=>{if(u==="uploading")return;let J=Q6.stringify({depth:0,publishSpecificLocale:z}),Z=n?`/globals/${n}`:`/${o}${e?`/${e}`:""}`,X=Yy({apiRoute:x,path:`${Z}${J?"?"+J:""}`});await m({action:X,overrides:{_status:"published"}})&&i(!0)},[x,o,n,e,_,i,m,u]),G=!B||v&&v?.defaultLocalePublishOption!=="active",W=v&&v?.locales.find(z=>typeof z=="string"?z===g:z.code===g),U=W&&hY(W.label,w);return s?q6(Jy.Fragment,{children:[mc(Er,{buttonId:"action-save",disabled:!I,enableSubMenu:k,onClick:G?M:()=>O(W.code),size:"medium",SubMenuPopupContent:B||k?({close:z})=>q6(Jy.Fragment,{children:[k&&mc(we.ButtonGroup,{children:mc(we.Button,{id:"schedule-publish",onClick:()=>[C(y),z()],children:T("version:schedulePublish")})},"schedule-publish"),B&&mc(we.ButtonGroup,{children:mc(we.Button,{id:"publish-locale",onClick:G?()=>O(W.code):M,children:G?T("version:publishIn",{locale:U}):T("version:publishAllLocales")})})]}):void 0,type:"button",children:G?S:T("version:publishIn",{locale:U})}),k&&b(y)&&mc(J6,{defaultType:D?"publish":"unpublish",schedulePublishConfig:F&&typeof R.versions.drafts.schedulePublish=="object"?R.versions.drafts.schedulePublish:void 0,slug:y})]}):null}import{jsx as fc,jsxs as K6}from"react/jsx-runtime";import{getTranslation as e4}from"@payloadcms/translations";import{useRouter as CY}from"next/navigation.js";import{formatAdminURL as t4}from"payload/shared";import*as s4 from"qs-esm";import{Fragment as o4,useCallback as r4,useState as xY}from"react";var n4="restore-button",i4=t=>{let{id:e,buttonId:o,collectionSlug:n,onRestore:r,redirectAfterRestore:s=!0,singularLabel:i,title:a}=t,{config:{routes:{admin:l,api:c},serverURL:u},getEntityConfig:d}=H(),f=d({collectionSlug:n}),m=CY(),{i18n:p,t:h}=P(),{title:g}=Eo(),{startRouteTransition:b}=Xe(),{openModal:C}=ie(),y=`restore-${e}`,[v,x]=xY(!1),_=r4(()=>{oe.error(h("error:restoringTitle",{title:g}))},[h,g]),w=r4(async()=>{try{let T=t4({apiRoute:c,path:`/${n}${s4.stringify({trash:!0,where:{and:[{id:{equals:e}},{deletedAt:{exists:!0}}]}},{addQueryPrefix:!0})}`}),S={deletedAt:null};f?.versions?.drafts&&(S._status=v?"published":"draft");let R=await Ge.patch(T,{body:JSON.stringify(S),headers:{"Accept-Language":p.language,"Content-Type":"application/json"}}),D=await R.json();if(R.status<400){if(oe.success(h("general:titleRestored",{label:e4(i,p),title:g})||D.message),s)return b(()=>m.push(t4({adminRoute:l,path:`/collections/${n}/${e}`,serverURL:u})));typeof r=="function"&&await r({id:e,collectionConfig:f});return}D.errors?D.errors.forEach(I=>oe.error(I.message)):_()}catch{_()}},[u,c,n,e,h,i,_,p,g,m,l,s,r,f,b,v]);return e?K6(o4,{children:[fc(K,{buttonStyle:"primary",id:o,onClick:()=>{C(y)},children:h("general:restore")},o),fc(et,{body:K6(o4,{children:[fc(Kt,{elements:{1:({children:T})=>fc("strong",{children:T})},i18nKey:f?.versions?.drafts?"general:aboutToRestoreAsDraft":"general:aboutToRestore",t:h,variables:{label:e4(i,p),title:a||g||e}}),f?.versions?.drafts&&fc("div",{className:`${n4}__checkbox`,children:fc(po,{checked:v,id:"restore-as-published",label:h("general:restoreAsPublished"),name:"restore-as-published",onToggle:T=>x(T.target.checked)})})]}),className:n4,confirmingLabel:h("general:restoring"),heading:h("general:confirmRestoration"),modalSlug:y,onConfirm:w})]}):null};import{jsx as wY}from"react/jsx-runtime";import{useRef as SY}from"react";function Ky({label:t}){let{uploadStatus:e}=Te(),{t:o}=P(),{submit:n}=Oe(),r=mo(),s=t||o("general:save"),i=SY(null),a=dt(),c=Sr()==="update"&&!r||e==="uploading";return Fa({cmdCtrlKey:!0,editDepth:a,keyCodes:["s"]},d=>{d.preventDefault(),d.stopPropagation(),i?.current&&i.current.click()}),wY(Er,{buttonId:"action-save",disabled:c,onClick:()=>{if(e!=="uploading")return void n()},ref:i,size:"medium",type:"button",children:s})}import{jsx as IY}from"react/jsx-runtime";import{formatAdminURL as a4}from"payload/shared";import{useCallback as _Y,useRef as TY}from"react";var FY="save-draft";function eC(t){let{config:{routes:{api:e}}}=H(),{id:o,collectionSlug:n,globalSlug:r,setUnpublishedVersionCount:s,uploadStatus:i}=Te(),a=mo(),{code:l}=Ie(),c=TY(null),u=dt(),{t:d}=P(),{submit:f}=Oe(),p=Sr()==="update"&&!a||i==="uploading",h=_Y(async()=>{if(p)return;let g=`?locale=${l}&depth=0&fallback-locale=null&draft=true`,b,C="POST";n&&(b=a4({apiRoute:e,path:`/${n}${o?`/${o}`:""}${g}`}),o&&(C="PATCH")),r&&(b=a4({apiRoute:e,path:`/globals/${r}${g}`})),await f({action:b,method:C,overrides:{_status:"draft"},skipValidation:!0}),s(y=>y+1)},[f,n,r,e,l,o,p,s]);return Fa({cmdCtrlKey:!0,editDepth:u,keyCodes:["s"]},g=>{g.preventDefault(),g.stopPropagation(),c?.current&&c.current.click()}),IY(Er,{buttonId:"action-save-draft",buttonStyle:"secondary",className:FY,disabled:p,onClick:()=>void h(),ref:c,size:"medium",type:"button",children:d("version:saveDraft")})}import{jsx as pc,jsxs as eg}from"react/jsx-runtime";import{formatAdminURL as l4}from"payload/shared";import c4,{useCallback as RY}from"react";var hc="status",u4=()=>{let{id:t,collectionSlug:e,docPermissions:o,globalSlug:n,hasPublishedDoc:r,incrementVersionCount:s,isTrashed:i,setHasPublishedDoc:a,setMostRecentVersionIsAutosaved:l,setUnpublishedVersionCount:c,unpublishedVersionCount:u}=Te(),{toggleModal:d}=ie(),{config:{routes:{api:f}}}=H(),{reset:m}=Oe(),{code:p}=Ie(),{i18n:h,t:g}=P(),b=`confirm-un-publish-${t}`,C=`confirm-revert-${t}`,y;u>0&&r?y="changed":r?r&&u<=0&&(y="published"):y="draft";let v=i?r?"previouslyPublished":"previouslyDraft":y,x=RY(async w=>{let T,S,R;w==="unpublish"&&(R={_status:"draft"}),e&&(T=l4({apiRoute:f,path:`/${e}/${t}?locale=${p}&fallback-locale=null&depth=0`}),S="patch"),n&&(T=l4({apiRoute:f,path:`/globals/${n}?locale=${p}&fallback-locale=null&depth=0`}),S="post"),w==="revert"&&(R=await Ge.get(T,{headers:{"Accept-Language":h.language,"Content-Type":"application/json"}}).then(F=>F.json()));let D=await Ge[S](T,{body:JSON.stringify(R),headers:{"Accept-Language":h.language,"Content-Type":"application/json"}});if(D.status===200){let I,F=await D.json();n?I=F.result:e&&(I=F.doc),m(I),oe.success(F.message),s(),l(!1),w==="unpublish"?a(!1):w==="revert"&&c(0)}else try{let I=await D.json();I.errors?.[0]?.message?oe.error(I.errors[0].message):I.error?oe.error(I.error):oe.error(g("error:unPublishingDocument"))}catch{oe.error(g("error:unPublishingDocument"))}},[f,e,n,t,h.language,s,p,m,c,l,g,a]),_=o?.update;return y?pc("div",{className:hc,title:`${g("version:status")}: ${g(`version:${v}`)}`,children:eg("div",{className:`${hc}__value-wrap`,children:[eg("span",{className:`${hc}__label`,children:[g("version:status"),":\xA0"]}),pc("span",{className:`${hc}__value`,children:g(`version:${v}`)}),!i&&_&&y==="published"&&eg(c4.Fragment,{children:["\xA0\u2014\xA0",pc(K,{buttonStyle:"none",className:`${hc}__action`,id:"action-unpublish",onClick:()=>d(b),children:g("version:unpublish")}),pc(et,{body:g("version:aboutToUnpublish"),confirmingLabel:g("version:unpublishing"),heading:g("version:confirmUnpublish"),modalSlug:b,onConfirm:()=>x("unpublish")})]}),!i&&_&&r&&y==="changed"&&eg(c4.Fragment,{children:["\xA0\u2014\xA0",pc(K,{buttonStyle:"none",className:`${hc}__action`,id:"action-revert-to-published",onClick:()=>d(C),children:g("version:revertToPublished")}),pc(et,{body:g("version:aboutToRevertToPublished"),confirmingLabel:g("version:reverting"),heading:g("version:confirmRevertToSaved"),modalSlug:C,onConfirm:()=>x("revert")})]})]})}):null};var Wt="doc-controls",oC=t=>{let e=DY(5),{id:o,slug:n,BeforeDocumentControls:r,customComponents:s,data:i,disableActions:a,disableCreate:l,EditMenuItems:c,hasSavePermission:u,isAccountView:d,isEditing:f,isInDrawer:m,isTrashed:p,onDelete:h,onDrawerCreateNew:g,onDuplicate:b,onRestore:C,onTakeOver:y,permissions:v,readOnlyForIncomingUser:x,redirectAfterDelete:_,redirectAfterDuplicate:w,redirectAfterRestore:T,user:S}=t,{PreviewButton:R,PublishButton:D,SaveButton:I,SaveDraftButton:F,Status:A}=s===void 0?{}:s,{i18n:k,t:L}=P(),N=dt(),{config:B,getEntityConfig:j}=H(),E=j({collectionSlug:n}),$=j({globalSlug:n}),{isLivePreviewEnabled:M}=xo(),{admin:O,localization:G,routes:W}=B,{dateFormat:U}=O,{admin:z}=W,[J,Z]=tC.useState(""),[X,ae]=tC.useState(""),Y=Gr(),ne=Li(),Q,de;e[0]!==i||e[1]!==U||e[2]!==k?(Q=()=>{i?.updatedAt&&Z(Hr({date:i.updatedAt,i18n:k,pattern:U})),i?.createdAt&&ae(Hr({date:i.createdAt,i18n:k,pattern:U}))},de=[i,k,U],e[0]=i,e[1]=U,e[2]=k,e[3]=Q,e[4]=de):(Q=e[3],de=e[4]),NY(Q,de);let ve=v&&"create"in v&&v.create,fe=v&&"delete"in v&&v.delete,$e=!!(E&&o&&!a&&(ve||fe)),Me=!o&&E?.versions?.drafts&&E.versions?.drafts.validate,Ne=m4($),be=m4(E),Ve=d4(E),Ye=d4($),se=Ve||Ye,xe=Ve&&E.versions.drafts.autosave!==!1&&E.versions.drafts.autosave.showSaveDraftButton===!0||Ye&&$.versions.drafts.autosave!==!1&&$.versions.drafts.autosave.showSaveDraftButton===!0,V=G&&!E?.admin?.disableCopyToLocale,le=E&&E.folders,q=S&&x;return Do(To,{className:Wt,children:[Do("div",{className:`${Wt}__wrapper`,children:[Do("div",{className:`${Wt}__content`,children:[q||le?Do("div",{className:`${Wt}__meta-icons`,children:[q&&ot(nm,{className:`${Wt}__locked-controls`,user:S}),le&&B.folders&&!p&&ot(xd,{folderCollectionSlug:B.folders.slug,folderFieldName:B.folders.fieldName})]}):null,Do("ul",{className:`${Wt}__meta`,children:[E&&!f&&!d&&ot("li",{className:`${Wt}__list-item`,children:ot("p",{className:`${Wt}__value`,children:k.t("general:creatingNewLabel",{label:PY(E?.labels?.singular??k.t("general:document"),k)})})}),(be||Ne)&&Do(im,{children:[($||E&&f)&&ot("li",{className:[`${Wt}__status`,`${Wt}__list-item`].filter(Boolean).join(" "),children:ot(ue,{CustomComponent:A,Fallback:ot(u4,{})})}),u&&se&&!Me&&!p&&ot("li",{className:`${Wt}__list-item`,children:ot(b6,{collection:E,global:$,id:o,publishedDocUpdatedAt:i?.createdAt})})]}),E?.timestamps&&(f||d)&&Do(im,{children:[Do("li",{className:[`${Wt}__list-item`,`${Wt}__value-wrap`].filter(Boolean).join(" "),title:i?.updatedAt?J:"",children:[Do("p",{className:`${Wt}__label`,children:[k.t(p?"general:deleted":"general:lastModified"),":\xA0"]}),i?.updatedAt&&ot("p",{className:`${Wt}__value`,children:J})]}),Do("li",{className:[`${Wt}__list-item`,`${Wt}__value-wrap`].filter(Boolean).join(" "),title:i?.createdAt?X:"",children:[Do("p",{className:`${Wt}__label`,children:[k.t("general:created"),":\xA0"]}),i?.createdAt&&ot("p",{className:`${Wt}__value`,children:X})]})]})]})]}),Do("div",{className:`${Wt}__controls-wrapper`,children:[Do("div",{className:`${Wt}__controls`,children:[r,M&&!m&&ot(E6,{}),(E?.admin.preview||$?.admin.preview)&&ot(ue,{CustomComponent:R,Fallback:ot(Xy,{})}),u&&!p&&ot(im,{children:be||Ne?Do(im,{children:[(Me||!se||se&&xe)&&ot(ue,{CustomComponent:F,Fallback:ot(eC,{})}),ot(ue,{CustomComponent:D,Fallback:ot(Qy,{})})]}):ot(ue,{CustomComponent:I,Fallback:ot(Ky,{})})}),fe&&p&&ot(V6,{buttonId:"action-permanently-delete",collectionSlug:E?.slug,id:o.toString(),onDelete:h,redirectAfterDelete:_,singularLabel:E?.labels?.singular}),u&&p&&ot(i4,{buttonId:"action-restore",collectionSlug:E?.slug,id:o.toString(),onRestore:C,redirectAfterRestore:T,singularLabel:E?.labels?.singular}),S&&x&&ot(K,{buttonStyle:"secondary",id:"take-over",onClick:y,size:"medium",type:"button",children:L("general:takeOver")})]}),$e&&!x&&ot(st,{button:Do("div",{className:`${Wt}__dots`,children:[ot("div",{}),ot("div",{}),ot("div",{})]}),className:`${Wt}__popup`,disabled:ne||Y,horizontalAlign:"right",size:"large",verticalAlign:"bottom",children:Do(we.ButtonGroup,{children:[V&&ot(Ey,{}),ve&&Do(tC.Fragment,{children:[!l&&ot(im,{children:N>1?ot(we.Button,{id:"action-create",onClick:g,children:k.t("general:createNew")}):ot(we.Button,{href:EY({adminRoute:z,path:`/collections/${E?.slug}/create`}),id:"action-create",children:k.t("general:createNew")})}),E.disableDuplicate!==!0&&f&&Do(AY,{children:[ot(Uy,{id:o,onDuplicate:b,redirectAfterDuplicate:w,singularLabel:E?.labels?.singular,slug:E?.slug}),G&&ot(Uy,{id:o,onDuplicate:b,redirectAfterDuplicate:w,selectLocales:!0,singularLabel:E?.labels?.singular,slug:E?.slug})]})]}),fe&&ot(I6,{buttonId:"action-delete",collectionSlug:E?.slug,id:o.toString(),onDelete:h,redirectAfterDelete:_,singularLabel:E?.labels?.singular,useAsTitle:E?.admin?.useAsTitle}),c]})})]})]}),ot("div",{className:`${Wt}__divider`})]})};import{jsx as g4}from"react/jsx-runtime";import"react";var f4=/^<(?<name>[^\s/>]+)[^>]*>$/,p4=/^<(?<isEnd>\/)?(?<name>[^\s>]+)[^>]*>$/,rC=/^<[^>]+>/,LY=/^<img[^>]*>$/,h4=/^<video[^>]*>.*?<\/video>$/ms,tg=class{config;leastCommonLength=1/0;matchedBlockList=[];newTokens=[];oldTokens=[];operationList=[];sideBySideContents;unifiedContent;constructor(e,o,{classNames:n={createBlock:"html-diff-create-block-wrapper",createInline:"html-diff-create-inline-wrapper",deleteBlock:"html-diff-delete-block-wrapper",deleteInline:"html-diff-delete-inline-wrapper"},greedyBoundary:r=1e3,greedyMatch:s=!0,minMatchedSize:i=2,tokenizeByCharacter:a=!1}={}){if(this.config={classNames:{createBlock:"html-diff-create-block-wrapper",createInline:"html-diff-create-inline-wrapper",deleteBlock:"html-diff-delete-block-wrapper",deleteInline:"html-diff-delete-inline-wrapper",...n},greedyBoundary:r,greedyMatch:s,minMatchedSize:i},e=e.trim(),o=o.trim(),e===o){this.unifiedContent=e;let c=0,u=e.replace(/<([^\s/>]+)[^>]*>/g,(d,f)=>{let m=f.length+1;return`${d.slice(0,m)} data-seq="${++c}"${d.slice(m)}`});this.sideBySideContents=[u,u];return}let l=a?this.tokenizeByCharacter:this.tokenizeByWord;this.oldTokens=l(e),this.newTokens=l(o),this.matchedBlockList=this.getMatchedBlockList(),this.operationList=this.getOperationList()}computeBestMatchedBlock(e,o,n,r){let s=null;for(let i=e;i<o;i++){let a=Math.min(o-i,r-n),l=this.slideBestMatchedBlock(i,n,a);if(l&&(!s||l.size>s.size)&&(s=l,l.size>this.leastCommonLength))return s}for(let i=n;i<r;i++){let a=Math.min(o-e,r-i),l=this.slideBestMatchedBlock(e,i,a);if(l&&(!s||l.size>s.size)&&(s=l,l.size>this.leastCommonLength))return s}return s}computeMatchedBlockList(e,o,n,r,s=[]){let i=this.computeBestMatchedBlock(e,o,n,r);return i?(e<i.oldStart&&n<i.newStart&&this.computeMatchedBlockList(e,i.oldStart,n,i.newStart,s),s.push(i),o>i.oldEnd&&r>i.newEnd&&this.computeMatchedBlockList(i.oldEnd,o,i.newEnd,r,s),s):[]}dressUpBlockTag(e,o){return e==="create"?`<div class="${this.config.classNames.createBlock}">${o}</div>`:e==="delete"?`<div class="${this.config.classNames.deleteBlock}">${o}</div>`:""}dressUpDiffContent(e,o){let n=o.length;if(!n)return"";let r="",s=0,i=-1;for(let a of o){i++;let l=a.includes('data-enable-match="true"'),c=a.includes('data-enable-match="false"'),u=!!a.match(rC)?.length;if(c)s=i+1,r+=a;else if(!l&&u)i>s&&(r+=this.dressUpText(e,o.slice(s,i))),s=i+1,a.match(h4)?r+=this.dressUpBlockTag(e,a):r+=a;else if(l&&u){i>s&&(r+=this.dressUpText(e,o.slice(s,i))),s=i+1;let d=this.dressupMatchEnabledHtmlTag(e,a);r+=d}}return s<n&&(r+=this.dressUpText(e,o.slice(s))),r}dressUpInlineTag(e,o){return e==="create"?`<span class="${this.config.classNames.createInline}">${o}</span>`:e==="delete"?`<span class="${this.config.classNames.deleteInline}">${o}</span>`:""}dressupMatchEnabledHtmlTag(e,o){let n=o.match(f4)?.groups?.name;if(!n)return o;let r=n.length+1,s=e==="create"?"create":"delete";return`${o.slice(0,r)} data-match-type="${s}"${o.slice(r,o.length)}`}dressUpText(e,o){let n=o.join("");return n.trim()?e==="create"?`<span data-match-type="create">${n}</span>`:e==="delete"?`<span data-match-type="delete">${n}</span>`:"":""}getMatchedBlockList(){let e=this.oldTokens.length,o=this.newTokens.length,n=null,r=0;for(;r<e&&r<o&&this.oldTokens[r]===this.newTokens[r];)r++;r>=this.config.minMatchedSize&&(n={newEnd:r,newStart:0,oldEnd:r,oldStart:0,size:r});let s=null,i=e-1,a=o-1;for(;r<=i&&r<=a&&this.oldTokens[i]===this.newTokens[a];)i--,a--;let l=e-1-i;l>=this.config.minMatchedSize&&(s={newEnd:o,newStart:a+1,oldEnd:e,oldStart:i+1,size:l});let c=n?r:0,u=s?i+1:e,d=n?r:0,f=s?a+1:o;if(this.config.greedyMatch){let p=Math.min(u-c,f-d);p>this.config.greedyBoundary&&(this.leastCommonLength=Math.floor(p/3))}let m=this.computeMatchedBlockList(c,u,d,f);return n&&m.unshift(n),s&&m.push(s),m}getOperationList(){let e=[],o=0,n=0;for(let c of this.matchedBlockList){let u=o===c.oldStart,d=n===c.newStart,f={newEnd:c.newStart,newStart:n,oldEnd:c.oldStart,oldStart:o};!u&&!d?e.push(Object.assign(f,{type:"replace"})):u&&!d?e.push(Object.assign(f,{type:"create"})):!u&&d&&e.push(Object.assign(f,{type:"delete"})),e.push({type:"equal",newEnd:c.newEnd,newStart:c.newStart,oldEnd:c.oldEnd,oldStart:c.oldStart}),o=c.oldEnd,n=c.newEnd}let r=this.oldTokens.length,s=this.newTokens.length,i={newEnd:s,newStart:n,oldEnd:r,oldStart:o},a=o===r,l=n===s;return!a&&!l?e.push(Object.assign(i,{type:"replace"})):a&&!l?e.push(Object.assign(i,{type:"create"})):!a&&l&&e.push(Object.assign(i,{type:"delete"})),e}slideBestMatchedBlock(e,o,n){let r=0,s=null,i=0;for(let a=0;a<n;a++)this.oldTokens[e+a]===this.newTokens[o+a]?i++:i=0,i>r&&(r=i,s={newEnd:o+a+1,newStart:o+a-i+1,oldEnd:e+a+1,oldStart:e+a-i+1,size:i});return r>=this.config.minMatchedSize?s:null}tokenizeByCharacter(e){let o=[],n=0,r=/<picture[^>]*>.*?<\/picture>|<video[^>]*>.*?<\/video>|<[^>]+>/gs,s;for(;(s=r.exec(e))!==null;){let a=e.substring(n,s.index);if(a)for(let l of a)o.push(l);o.push(s[0]),n=s.index+s[0].length}let i=e.substring(n);for(let a of i)o.push(a);return o}tokenizeByWord(e){return e.match(/<picture[^>]*>.*?<\/picture>|<video[^>]*>.*?<\/video>|<[^>]+>|\w+\b|\s+|[^<>\w]/gs)||[]}getSideBySideContents(){if(this.sideBySideContents!==void 0)return this.sideBySideContents;let e="",o="",n=0;this.operationList.forEach(s=>{switch(s.type){case"create":{o+=this.dressUpDiffContent("create",this.newTokens.slice(s.newStart,s.newEnd));break}case"delete":{let i=this.oldTokens.slice(s.oldStart,s.oldEnd);e+=this.dressUpDiffContent("delete",i);break}case"equal":{let i=this.newTokens.slice(s.newStart,s.newEnd),a="";for(let l of i){let c=l.match(f4);if(c){n+=1;let u=(c?.groups?.name?.length??0)+1;a+=`${l.slice(0,u)} data-seq="${n}"${l.slice(u)}`}else a+=l}e+=a,o+=a;break}case"replace":{e+=this.dressUpDiffContent("delete",this.oldTokens.slice(s.oldStart,s.oldEnd)),o+=this.dressUpDiffContent("create",this.newTokens.slice(s.newStart,s.newEnd));break}default:console.error("Richtext diff error - invalid operation: "+String(s.type))}});let r=[e,o];return this.sideBySideContents=r,r}getUnifiedContent(){if(this.unifiedContent!==void 0)return this.unifiedContent;let e="";return this.operationList.forEach(o=>{switch(o.type){case"create":{e+=this.dressUpDiffContent("create",this.newTokens.slice(o.newStart,o.newEnd));break}case"delete":{e+=this.dressUpDiffContent("delete",this.oldTokens.slice(o.oldStart,o.oldEnd));break}case"equal":{for(let n of this.newTokens.slice(o.newStart,o.newEnd))e+=n;break}case"replace":{let n=this.oldTokens.slice(o.oldStart,o.oldEnd),r=this.newTokens.slice(o.newStart,o.newEnd);if(n.length===1&&r.length===1&&n[0]?.match(rC)&&r[0]?.match(rC)){e+=r[0];break}let s=[],i=[],a=o.newStart;for(let l=o.oldStart;l<o.oldEnd;l++){let c=this.oldTokens[l];if(!c)continue;let u=c?.match(p4);if(u){if([LY,h4].some(f=>c?.match(f))){s.push(c);continue}e+=this.dressUpDiffContent("delete",s),s.splice(0);let d=!1;for(let f=a;f<o.newEnd;f++){let m=this.newTokens[f];if(!m)continue;let p=m?.match(p4);if(p&&p.groups?.name===u.groups?.name&&p.groups?.isEnd===u.groups?.isEnd){d=!0,e+=this.dressUpDiffContent("create",i),e+=m,i.splice(0),a=f+1;break}else i.push(m)}d||(e+=c,i.splice(0))}else s.push(c)}a<o.newEnd&&i.push(...this.newTokens.slice(a,o.newEnd)),e+=this.dressUpDiffContent("delete",s),e+=this.dressUpDiffContent("create",i);break}default:console.error("Richtext diff error - invalid operation: "+String(o.type))}}),this.unifiedContent=e,e}};var b4="html-diff",kY=({fromHTML:t,toHTML:e,tokenizeByCharacter:o})=>{let n=new tg(t,e,{tokenizeByCharacter:o}),[r,s]=n.getSideBySideContents(),i=r?g4("div",{className:`${b4}__diff-old html-diff`,dangerouslySetInnerHTML:{__html:r}}):null,a=s?g4("div",{className:`${b4}__diff-new html-diff`,dangerouslySetInnerHTML:{__html:s}}):null;return{From:i,To:a}};import{useEffect as VY}from"react";import{jsx as jY}from"react/jsx-runtime";import{createContext as $Y,use as BY,useEffect as MY,useRef as OY}from"react";var v4=$Y(null),y4=({children:t})=>{let e=OY(new Set);return MY(()=>{let r=s=>{e.current.forEach(({handler:i,ref:a})=>{a.current&&!a.current.contains(s.target)&&i()})};return document.addEventListener("mousedown",r),()=>document.removeEventListener("mousedown",r)},[]),jY(v4,{value:{register:r=>e.current.add(r),unregister:r=>e.current.delete(r)},children:t})},nC=()=>{let t=BY(v4);if(!t)throw new Error("useClickOutside must be used within a ClickOutsideProvider");return t};function GY(t,e,o=!0){let{register:n,unregister:r}=nC();VY(()=>{if(!o||!t.current)return;let s={handler:e,ref:t};return n(s),()=>r(s)},[t,e,o,n,r])}import{c as _4}from"react/compiler-runtime";import{jsx as am,jsxs as KY}from"react/jsx-runtime";import{useState as eJ}from"react";import{c as aC}from"react/compiler-runtime";import{jsx as Ao,jsxs as og}from"react/jsx-runtime";import{getTranslation as zY}from"@payloadcms/translations";import{useRouter as WY,useSearchParams as HY}from"next/navigation.js";import{combineWhereConstraints as UY,formatAdminURL as sC,mergeListSearchAndWhere as XY,unflatten as C4}from"payload/shared";import*as iC from"qs-esm";import x4,{useCallback as w4,useEffect as ZY,useMemo as S4,useState as YY}from"react";var JY=t=>{let e=aC(7),{action:o,disabled:n}=t,{submit:r}=Oe(),{t:s}=P(),i;e[0]!==o||e[1]!==r?(i=()=>{r({action:o,method:"PATCH",skipValidation:!0})},e[0]=o,e[1]=r,e[2]=i):i=e[2];let a=i,l;return e[3]!==n||e[4]!==a||e[5]!==s?(l=Ao(Er,{className:`${er}__save`,disabled:n,onClick:a,children:s("general:save")}),e[3]=n,e[4]=a,e[5]=s,e[6]=l):l=e[6],l},qY=t=>{let e=aC(7),{action:o,disabled:n}=t,{submit:r}=Oe(),{t:s}=P(),i;e[0]!==o||e[1]!==r?(i=()=>{r({action:o,method:"PATCH",overrides:{_status:"published"},skipValidation:!0})},e[0]=o,e[1]=r,e[2]=i):i=e[2];let a=i,l;return e[3]!==n||e[4]!==a||e[5]!==s?(l=Ao(Er,{className:`${er}__publish`,disabled:n,onClick:a,children:s("version:publishChanges")}),e[3]=n,e[4]=a,e[5]=s,e[6]=l):l=e[6],l},QY=t=>{let e=aC(7),{action:o,disabled:n}=t,{submit:r}=Oe(),{t:s}=P(),i;e[0]!==o||e[1]!==r?(i=()=>{r({action:o,method:"PATCH",overrides:{_status:"draft"},skipValidation:!0})},e[0]=o,e[1]=r,e[2]=i):i=e[2];let a=i,l;return e[3]!==n||e[4]!==a||e[5]!==s?(l=Ao(Er,{buttonStyle:"secondary",className:`${er}__draft`,disabled:n,onClick:a,children:s("version:saveDraft")}),e[3]=n,e[4]=a,e[5]=s,e[6]=l):l=e[6],l},I4=t=>{let{collection:e,collection:{fields:o,labels:{plural:n,singular:r}}={},count:s,drawerSlug:i,ids:a,onSuccess:l,selectAll:c,selectedFields:u,setSelectedFields:d,where:f}=t,{permissions:m,user:p}=Se(),{code:h}=Ie(),{closeModal:g}=ie(),{config:{routes:{api:b}}}=H(),{getFormState:C}=Pt(),{i18n:y,t:v}=P(),[x,_]=YY(!1),w=WY(),T=x4.useRef(null),{clearRouteCache:S}=bt(),R=m?.collections?.[e.slug],D=HY(),I=S4(()=>C4(u.reduce((N,B)=>(N[B.value.path]=!0,N),{})),[u]),F=w4(async({formState:N,submitted:B})=>{let j=Dr(T),{state:E}=await C({collectionSlug:e.slug,docPermissions:R,docPreferences:null,formState:N,operation:"update",schemaPath:e.slug,select:I,signal:j.signal,skipValidation:!B});return T.current=null,E},[C,e,R,I]);ZY(()=>{let N=T.current;return()=>{Rr(N)}},[]);let A=S4(()=>{let N=[];f&&N.push(f);let B=XY({collectionConfig:e,search:D.get("search")});return B&&N.push(B),c?N.push(Ut(D)?.where||{id:{not_equals:""}}):N.push({id:{in:a||[]}}),iC.stringify({locale:h,select:{},where:UY(N)},{addQueryPrefix:!0})},[e,D,c,a,h,f]),k=()=>{w.replace(iC.stringify({...Ut(D),page:c?"1":void 0},{addQueryPrefix:!0})),S(),g(i),typeof l=="function"&&l()},L=w4(async({dispatchFields:N,formState:B,selected:j})=>{_(!0),d(j||[]);let{state:E}=await C({collectionSlug:e.slug,docPermissions:R,docPreferences:null,formState:B,operation:"update",schemaPath:e.slug,select:C4(j.reduce(($,M)=>($[M.value.path]=!0,$),{})),skipValidation:!0});N({type:"UPDATE_MANY",formState:E}),_(!1)},[C,e.slug,R,d]);return Ao(ou,{collectionSlug:e.slug,currentEditor:p,hasPublishedDoc:!1,id:null,initialData:{},isLocked:!1,lastUpdateTime:0,mostRecentVersionIsAutosaved:!1,unpublishedVersionCount:0,versionCount:0,children:Ao(Pf,{value:"update",children:og("div",{className:`${er}__main`,children:[og("div",{className:`${er}__header`,children:[Ao("h2",{className:`${er}__header__title`,children:v("general:editingLabel",{count:s,label:zY(s>1?n:r,y)})}),Ao("button",{"aria-label":v("general:close"),className:`${er}__header__close`,id:`close-drawer__${i}`,onClick:()=>g(i),type:"button",children:Ao(yt,{})})]}),og(Ts,{className:`${er}__form`,isInitializing:x,onChange:[F],onSuccess:k,children:[Ao(ih,{fields:o,onChange:L,permissions:R.fields}),u.length===0?null:Ao("div",{className:"render-fields",children:u.map((N,B)=>{let{value:{field:j,fieldPermissions:E,path:$}}=N;return Ao(Zl,{clientFieldConfig:j,indexPath:"",parentPath:"",parentSchemaPath:"",path:$,permissions:E},`${$}-${B}`)})}),Ao("div",{className:`${er}__sidebar-wrap`,children:Ao("div",{className:`${er}__sidebar`,children:Ao("div",{className:`${er}__sidebar-sticky-wrap`,children:Ao("div",{className:`${er}__document-actions`,children:e?.versions?.drafts?og(x4.Fragment,{children:[Ao(QY,{action:sC({apiRoute:b,path:`/${e.slug}${A}&draft=true`}),disabled:u.length===0}),Ao(qY,{action:sC({apiRoute:b,path:`/${e.slug}${A}&draft=true`}),disabled:u.length===0})]}):Ao(JY,{action:sC({apiRoute:b,path:`/${e.slug}${A}`}),disabled:u.length===0})})})})})]})]})})})};var er="edit-many",tJ=t=>{let e=_4(8),{count:o,selectAll:n,selectedIDs:r,toggleAll:s}=Co(),i;e[0]!==s?(i=()=>s(),e[0]=s,e[1]=i):i=e[1];let a=n===Zt.AllAvailable,l;return e[2]!==o||e[3]!==t||e[4]!==r||e[5]!==i||e[6]!==a?(l=am(lm,{...t,count:o,ids:r,onSuccess:i,selectAll:a}),e[2]=o,e[3]=t,e[4]=r,e[5]=i,e[6]=a,e[7]=l):l=e[7],l},lm=t=>{let e=_4(16),{collection:o,count:n,ids:r,modalPrefix:s,onSuccess:i,selectAll:a,where:l}=t,{permissions:c}=Se(),{openModal:u}=ie(),{t:d}=P(),f;e[0]===Symbol.for("react.memo_cache_sentinel")?(f=[],e[0]=f):f=e[0];let[m,p]=eJ(f),h=c?.collections?.[o.slug],g=`${s?`${s}-`:""}edit-${o.slug}`;if(n===0||!h?.update)return null;let b;e[1]===Symbol.for("react.memo_cache_sentinel")?(b=[er,`${er}__toggle`].filter(Boolean),e[1]=b):b=e[1];let C;if(e[2]!==o||e[3]!==n||e[4]!==g||e[5]!==r||e[6]!==i||e[7]!==u||e[8]!==a||e[9]!==m||e[10]!==d||e[11]!==l){let y;e[13]!==g||e[14]!==u?(y=()=>{u(g),p([])},e[13]=g,e[14]=u,e[15]=y):y=e[15],C=KY("div",{className:b.join(" "),children:[am(to,{"aria-label":d("general:edit"),onClick:y,children:d("general:edit")}),am(ls,{children:am(St,{Header:null,slug:g,children:am(I4,{collection:o,count:n,drawerSlug:g,ids:r,onSuccess:i,selectAll:a,selectedFields:m,setSelectedFields:p,where:l})})})]}),e[2]=o,e[3]=n,e[4]=g,e[5]=r,e[6]=i,e[7]=u,e[8]=a,e[9]=m,e[10]=d,e[11]=l,e[12]=C}else C=e[12];return C};import{c as oJ}from"react/compiler-runtime";import{jsx as rJ}from"react/jsx-runtime";import"react";function nJ(t){let e=oJ(3),o=dt(),n;return e[0]!==o||e[1]!==t?(n=rJ(wr,{closeOnBlur:!1,...t,style:{...t.style||{},zIndex:`calc(100 + ${o||0} + 1)`}}),e[0]=o,e[1]=t,e[2]=n):n=e[2],n}import{c as sJ}from"react/compiler-runtime";import{jsx as rg,jsxs as iJ}from"react/jsx-runtime";import aJ from"react";function lC(t){let e=sJ(12),{highlightField:o,setKey:n}=t,{id:r}=Te(),{toggleModal:s}=ie(),{t:i}=P(),a=`generate-confirmation-${r}`,l;e[0]!==o||e[1]!==n||e[2]!==i?(l=()=>{n(),oe.success(i("authentication:newAPIKeyGenerated")),o(!0)},e[0]=o,e[1]=n,e[2]=i,e[3]=l):l=e[3];let c=l,u;e[4]!==a||e[5]!==s?(u=()=>{s(a)},e[4]=a,e[5]=s,e[6]=u):u=e[6];let d;return e[7]!==c||e[8]!==a||e[9]!==i||e[10]!==u?(d=iJ(aJ.Fragment,{children:[rg(K,{buttonStyle:"secondary",onClick:u,size:"small",children:i("authentication:generateNewAPIKey")}),rg(et,{body:rg(Kt,{elements:{1:lJ},i18nKey:"authentication:generatingNewAPIKeyWillInvalidate",t:i}),confirmLabel:i("authentication:generate"),heading:i("authentication:confirmGeneration"),modalSlug:a,onConfirm:c})]}),e[7]=c,e[8]=a,e[9]=i,e[10]=u,e[11]=d):d=e[11],d}function lJ(t){let{children:e}=t;return rg("strong",{children:e})}import{c as cJ}from"react/compiler-runtime";import{useEffect as uJ}from"react";function dJ(t){let e=cJ(4),{permissions:o}=t,{setPermissions:n}=Se(),r,s;return e[0]!==o||e[1]!==n?(r=()=>{n(o)},s=[o,n],e[0]=o,e[1]=n,e[2]=r,e[3]=s):(r=e[2],s=e[3]),uJ(r,s),null}import{jsx as co,jsxs as WJ}from"react/jsx-runtime";import{getTranslation as yc}from"@payloadcms/translations";import{validateWhereQuery as HJ}from"payload/shared";import UJ,{Fragment as XJ,useEffect as cP,useRef as uP,useState as ZJ}from"react";import{jsx as cC,jsxs as mJ}from"react/jsx-runtime";import"react";var uC="dots",ng=({ariaLabel:t,className:e,noBackground:o,orientation:n="vertical"})=>mJ("div",{"aria-label":t,className:[e,uC,o&&`${uC}--no-background`,n&&`${uC}--${n}`].filter(Boolean).join(" "),children:[cC("div",{}),cC("div",{}),cC("div",{})]});import{jsx as sg,jsxs as dC}from"react/jsx-runtime";import{useMemo as fJ}from"react";var ig="group-by-builder",pJ=["text","textarea","number","select","relationship","date","checkbox","radio","email","number","upload"],T4=({collectionSlug:t,fields:e})=>{let{i18n:o,t:n}=P(),{permissions:r}=Se(),s=r?.collections?.[t]?.fields,i=fJ(()=>fr({fieldPermissions:s,fields:e,i18n:o}),[e,s,o]),{query:a,refineListData:l}=lt(),c=a.groupBy?.replace(/^-/,""),u=i.find(d=>d.value===c);return dC("div",{className:ig,children:[dC("div",{className:`${ig}__header`,children:[sg("p",{children:n("general:groupByLabel",{label:""})}),a.groupBy&&sg("button",{className:`${ig}__clear-button`,id:"group-by--reset",onClick:async()=>{await l({groupBy:""})},type:"button",children:n("general:clear")})]}),dC("div",{className:`${ig}__inputs`,children:[sg(gt,{filterOption:(d,f)=>(d?.data?.plainTextLabel||d.label).toLowerCase().includes(f.toLowerCase()),id:"group-by--field-select",isClearable:!0,isMulti:!1,onChange:async d=>{let f=d===null?void 0:d.value;d===null&&await l({groupBy:"",page:1}),await l({groupBy:f?a.groupBy?.startsWith("-")?`-${f}`:f:void 0,page:1})},options:i.filter(d=>!d.field.admin.disableGroupBy&&d.value!=="id"&&pJ.includes(d.field.type)),value:{label:u?.label||n("general:selectValue"),value:c||""}}),sg(qr,{id:"group-by--sort",isClearable:!1,name:"direction",onChange:async({value:d})=>{c&&await l({groupBy:d==="asc"?c:`-${c}`,page:1})},options:[{label:n("general:ascending"),value:"asc"},{label:n("general:descending"),value:"desc"}],path:"direction",readOnly:!c,value:a.groupBy?typeof a.groupBy=="string"?`${a.groupBy.startsWith("-")?"desc":"asc"}`:"":"asc"})]})]})};import{jsx as jr,jsxs as cm}from"react/jsx-runtime";import{getTranslation as A4}from"@payloadcms/translations";import{formatAdminURL as P4,transformColumnsToPreferences as E4,transformColumnsToSearchParams as N4}from"payload/shared";import{Fragment as L4,useCallback as ag,useMemo as vJ}from"react";import{c as hJ}from"react/compiler-runtime";import{jsx as gc,jsxs as gJ}from"react/jsx-runtime";import{getTranslation as bJ}from"@payloadcms/translations";import{jsx as F4}from"react/jsx-runtime";import"react";var R4=({className:t})=>F4("svg",{className:["icon","icon--people",t].filter(Boolean).join(" "),fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:F4("path",{className:"stroke",d:"M14 16C14 14.5855 13.4381 13.229 12.4379 12.2288C11.4377 11.2286 10.0812 10.6667 8.66668 10.6667M8.66668 10.6667C7.25219 10.6667 5.89563 11.2286 4.89544 12.2288C3.89525 13.229 3.33334 14.5855 3.33334 16M8.66668 10.6667C10.5076 10.6667 12 9.17428 12 7.33333C12 5.49238 10.5076 4 8.66668 4C6.82573 4 5.33334 5.49238 5.33334 7.33333C5.33334 9.17428 6.82573 10.6667 8.66668 10.6667ZM16.6667 15.3333C16.6667 13.0867 15.3333 11 14 10C14.4383 9.67118 14.7888 9.23939 15.0204 8.74285C15.252 8.2463 15.3577 7.70031 15.328 7.1532C15.2984 6.60609 15.1343 6.07472 14.8503 5.60613C14.5664 5.13754 14.1713 4.74617 13.7 4.46667",strokeLinecap:"round",strokeLinejoin:"round"})});var ka="active-query-preset";function D4(t){let e=hJ(11),{activePreset:o,openPresetListDrawer:n,resetPreset:r}=t,{i18n:s,t:i}=P(),{getEntityConfig:a}=H(),l;if(e[0]!==o||e[1]!==a||e[2]!==s||e[3]!==n||e[4]!==r||e[5]!==i){let c=a({collectionSlug:"payload-query-presets"}),u=o&&`${ka}--active`,d;e[7]!==u?(d=[ka,u].filter(Boolean),e[7]=u,e[8]=d):d=e[8];let f;e[9]!==n?(f=()=>{n()},e[9]=n,e[10]=f):f=e[10],l=gc(tt,{className:d.join(" "),id:"select-preset",onClick:f,pillStyle:"light",size:"small",children:gJ("div",{className:`${ka}__label`,children:[o?.isShared&&gc(R4,{className:`${ka}__shared`}),gc("div",{className:`${ka}__label-text-max-width`,children:gc("div",{className:`${ka}__label-text`,children:o?.title||i("general:selectLabel",{label:bJ(c.labels.singular,s)})})}),o?gc("div",{className:`${ka}__clear`,id:"clear-preset",onClick:async m=>{m.stopPropagation(),await r()},onKeyDown:async m=>{(m.key==="Enter"||m.key===" ")&&(m.stopPropagation(),await r())},role:"button",tabIndex:0,children:gc(yt,{})}):null]})}),e[0]=o,e[1]=a,e[2]=s,e[3]=n,e[4]=r,e[5]=i,e[6]=l}else l=e[6];return l}var k4="confirm-delete-preset",ja="payload-query-presets",lg="query-preset-bar",j4=({activePreset:t,collectionSlug:e,queryPresetPermissions:o})=>{let{modified:n,query:r,refineListData:s,setModified:i}=lt(),{i18n:a,t:l}=P(),{openModal:c}=ie(),{config:{routes:{api:u},serverURL:d},getEntityConfig:f}=H(),m=f({collectionSlug:ja}),[p,,{openDrawer:h}]=Lt({id:t?.id,collectionSlug:ja}),[g,,{closeDrawer:b,openDrawer:C}]=Lt({collectionSlug:ja}),y=vJ(()=>({"payload-query-presets":{isTemp:{not_equals:!0},relatedCollection:{equals:e}}}),[e]),[v,,{closeDrawer:x,openDrawer:_}]=da({collectionSlugs:[ja],filterOptions:y,selectedCollection:ja}),w=ag(async I=>{await s({columns:I.columns?N4(I.columns):void 0,groupBy:I.groupBy||"",preset:I.id,where:I.where},!1)},[s]),T=ag(async()=>{await s({columns:[],groupBy:"",preset:"",where:{}},!1)},[s]),S=ag(async()=>{try{await fetch(P4({apiRoute:u,path:`/${ja}/${t.id}`}),{method:"DELETE"}).then(async I=>{try{let F=await I.json();I.status<400?(oe.success(l("general:titleDeleted",{label:A4(m?.labels?.singular,a),title:t.title})),await T()):F.errors?F.errors.forEach(A=>oe.error(A.message)):oe.error(l("error:deletingTitle",{title:t.title}))}catch{oe.error(l("error:deletingTitle",{title:t.title}))}})}catch{oe.error(l("error:deletingTitle",{title:t.title}))}},[u,t?.id,t?.title,l,m,a,T]),R=ag(async()=>{try{await fetch(P4({apiRoute:u,path:`/${ja}/${t.id}`}),{body:JSON.stringify({columns:E4(r.columns),groupBy:r.groupBy,where:r.where}),credentials:"include",headers:{"Content-Type":"application/json"},method:"PATCH"}).then(async I=>{try{let F=await I.json();I.status<400?(oe.success(l("general:updatedLabelSuccessfully",{label:A4(m?.labels?.singular,a)})),i(!1)):F.errors?F.errors.forEach(A=>oe.error(A.message)):oe.error(l("error:unknown"))}catch{oe.error(l("error:unknown"))}})}catch{oe.error(l("error:unknown"))}},[u,t?.id,r.columns,r.groupBy,r.where,l,m?.labels?.singular,a,i]),D=t&&n;return cm(L4,{children:[cm("div",{className:lg,children:[cm("div",{className:`${lg}__menu`,children:[jr(D4,{activePreset:t,openPresetListDrawer:_,resetPreset:T}),jr(tt,{"aria-label":l("general:newLabel",{label:m?.labels?.singular}),className:`${lg}__create-new-preset`,icon:jr(ar,{}),id:"create-new-preset",onClick:()=>{C()},size:"small"})]}),cm("div",{className:`${lg}__menu-items`,children:[D&&jr(to,{id:"reset-preset",onClick:async()=>{await s({columns:N4(t.columns),groupBy:t.groupBy||"",where:t.where},!1)},type:"button",children:l("general:reset")},"reset"),D&&o.update&&jr(to,{id:"save-preset",onClick:async()=>{await R()},type:"button",children:t?.isShared?l("general:updateForEveryone"):l("fields:saveChanges")},"save"),t&&o?.delete&&cm(L4,{children:[jr(to,{id:"delete-preset",onClick:()=>c(k4),type:"button",children:l("general:deleteLabel",{label:m?.labels?.singular})}),jr(to,{id:"edit-preset",onClick:()=>{h()},type:"button",children:l("general:editLabel",{label:m?.labels?.singular})})]})]})]}),jr(g,{initialData:{columns:E4(r.columns),groupBy:r.groupBy,relatedCollection:e,where:r.where},onSave:async({doc:I})=>{b(),await w(I)},redirectAfterCreate:!1}),jr(et,{body:jr(Kt,{elements:{1:({children:I})=>jr("strong",{children:I})},i18nKey:"general:aboutToDelete",t:l,variables:{label:m?.labels?.singular,title:t?.title}}),confirmingLabel:l("general:deleting"),heading:l("general:confirmDeletion"),modalSlug:k4,onConfirm:S}),jr(p,{onDelete:()=>{},onDuplicate:async({doc:I})=>{await w(I)},onSave:async({doc:I})=>{await w(I)}}),jr(v,{allowCreate:!1,disableQueryPresets:!0,onSelect:async({doc:I})=>{x(),await w(I)}})]})};import{jsx as fC,jsxs as CJ}from"react/jsx-runtime";import{jsx as $4}from"react/jsx-runtime";import{useEffect as B4,useRef as M4,useState as yJ}from"react";var O4="search-filter";function mC(t){let{handleChange:e,initialParams:o,label:n,searchQueryParam:r}=t,s=o?.search||r,[i,a]=yJ(typeof s=="string"?s:void 0),l=M4(!0),c=M4(typeof s=="string"?s:void 0),u=Sn(i,300);return B4(()=>(s!==c.current&&(l.current=!1,a(s),c.current=s),()=>{l.current=!0,c.current=void 0}),[s]),B4(()=>{u!==c.current&&l.current&&(e&&e(u),c.current=u)},[u,e]),$4("div",{className:O4,children:$4("input",{"aria-label":n,className:`${O4}__input`,id:"search-filter-input",onChange:d=>{l.current=!0,a(d.target.value)},placeholder:n,type:"text",value:i||""})})}var V4="search-bar";function bc({Actions:t,className:e,label:o="Search...",onSearchChange:n,searchQueryParam:r}){return CJ("div",{className:[V4,e].filter(Boolean).join(" "),children:[fC(qi,{}),fC(mC,{handleChange:n,label:o,searchQueryParam:r}),t&&t.length>0?fC("div",{className:`${V4}__actions`,children:t}):null]})}import{jsx as $s,jsxs as um}from"react/jsx-runtime";import{getTranslation as OJ}from"@payloadcms/translations";import{transformWhereQuery as VJ,validateWhereQuery as sP}from"payload/shared";import dg,{useMemo as iP}from"react";import{jsx as ks,jsxs as wC}from"react/jsx-runtime";import{useCallback as rP,useEffect as BJ,useState as MJ}from"react";import{jsx as vc}from"react/jsx-runtime";import"react";import{jsx as G4}from"react/jsx-runtime";import{getTranslation as xJ}from"@payloadcms/translations";import"react";var wJ="condition-value-date",pC=t=>{let{disabled:e,field:o,onChange:n,value:r}=t,{admin:s}=o,{date:i}=s||{},{i18n:a,t:l}=P();return G4("div",{className:wJ,children:G4(bl,{...i,onChange:n,placeholder:xJ(s.placeholder,a)||l("general:enterAValue"),readOnly:e,value:r})})};import{c as SJ}from"react/compiler-runtime";import{jsx as z4}from"react/jsx-runtime";import{getTranslation as IJ}from"@payloadcms/translations";import W4 from"react";var _J="condition-value-number",hC=t=>{let e=SJ(20),{disabled:o,field:n,onChange:r,operator:s,value:i}=t,{admin:a,hasMany:l}=n,{i18n:c,t:u}=P(),d;e[0]!==l||e[1]!==s?(d=["in","not_in"].includes(s)||l,e[0]=l,e[1]=s,e[2]=d):d=e[2];let f=d,m;e[3]===Symbol.for("react.memo_cache_sentinel")?(m=[],e[3]=m):m=e[3];let[p,h]=W4.useState(m),g;e[4]!==f||e[5]!==r?(g=x=>{let _;x?f&&(Array.isArray(x)?_=x.map(TJ):_=[Number(x.value?.value||x.value)]):_=[],r(_)},e[4]=f,e[5]=r,e[6]=g):g=e[6];let b=g,C,y;e[7]!==i?(C=()=>{Array.isArray(i)?h(i.map(FJ)):h([])},y=[i],e[7]=i,e[8]=C,e[9]=y):(C=e[8],y=e[9]),W4.useEffect(C,y);let v;if(e[10]!==a?.placeholder||e[11]!==o||e[12]!==c||e[13]!==f||e[14]!==r||e[15]!==b||e[16]!==u||e[17]!==i||e[18]!==p){let x=IJ(a?.placeholder,c)||u("general:enterAValue");v=f?z4(gt,{disabled:o,isClearable:!0,isCreatable:!0,isMulti:f,isSortable:!0,numberOnly:!0,onChange:b,options:[],placeholder:x,value:p||[]}):z4("input",{className:_J,disabled:o,onChange:_=>r(_.target.value),placeholder:x,type:"number",value:i}),e[10]=a?.placeholder,e[11]=o,e[12]=c,e[13]=f,e[14]=r,e[15]=b,e[16]=u,e[17]=i,e[18]=p,e[19]=v}else v=e[19];return v};function TJ(t){return Number(t.value?.value||t.value)}function FJ(t,e){return{id:`${t}${e}`,label:`${t}`,value:{toString:()=>`${t}${e}`,value:t?.value||t}}}import{jsx as gC}from"react/jsx-runtime";import{formatAdminURL as Z4}from"payload/shared";import*as Q4 from"qs-esm";import Y4,{useCallback as cg,useEffect as J4,useReducer as DJ,useState as bC}from"react";import{getTranslation as H4}from"@payloadcms/translations";var U4=t=>t.reduce((e,o)=>o.options?[...e,...U4(o.options)]:[...e,o.id],[]),RJ=(t,e)=>{switch(e.type){case"ADD":{let{collection:o,data:n,hasMultipleRelations:r,i18n:s,relation:i}=e,a=o.admin.useAsTitle||"id",l=U4(t);if(!r)return[...t,...n.docs.reduce((f,m)=>l.indexOf(m.id)===-1?(l.push(m.id),[...f,{label:m[a],value:m.id}]):f,[])];let c=[...t],u=c.find(f=>f.label===H4(o.labels.plural,s)),d=n.docs.reduce((f,m)=>l.indexOf(m.id)===-1?(l.push(m.id),[...f,{label:m[a],relationTo:i,value:m.id}]):f,[]);return u?u.options=[...u.options,...d]:c.push({label:H4(o.labels.plural,s),options:d,value:void 0}),c}case"CLEAR":return e.required?[]:[{label:e.i18n.t("general:none"),value:"null"}];default:return t}},X4=RJ;var q4="condition-value-relationship",AJ=10,ug=t=>{let{disabled:e,field:{admin:o={},hasMany:n,relationTo:r},filterOptions:s,onChange:i,value:a}=t,l="placeholder"in o?o?.placeholder:void 0,c=o?.isSortable,{config:{routes:{api:u}},getEntityConfig:d}=H(),f=Array.isArray(r),[m,p]=DJ(X4,[]),[h,g]=bC(""),b=Sn(h,300),[C,y]=bC(""),[v,x]=bC(!1),{i18n:_,t:w}=P(),T=Ie(),S=f?r:[r],R=Y4.useRef(new Map(S.map(j=>[j,{hasLoadedAll:!1,nextPage:1}]))),D=cg((j,E)=>{let $=d({collectionSlug:E});p({type:"ADD",collection:$,data:j,hasMultipleRelations:f,i18n:_,relation:E})},[f,_,d]),I=Je(async({abortController:j,relationSlug:E})=>{let $=R.current.get(E);if(E&&!$.hasLoadedAll){let O=d({collectionSlug:E})?.admin?.useAsTitle||"id",G={and:[]},W={depth:0,limit:AJ,locale:T.code,page:$.nextPage,select:{[O]:!0},where:G};s&&s?.[E]&&W.where.and.push(s[E]),b&&W.where.and.push({[O]:{like:b}});try{let U=await fetch(Z4({apiRoute:u,path:`/${E}${Q4.stringify(W,{addQueryPrefix:!0})}`}),{credentials:"include",headers:{"Accept-Language":_.language},signal:j.signal});if(U.ok){let z=await U.json();z.docs.length>0&&(D(z,E),z.nextPage?R.current.set(E,{hasLoadedAll:!1,nextPage:z.nextPage}):R.current.set(E,{hasLoadedAll:!0,nextPage:null}))}else y(w("error:unspecific"))}catch(U){j.signal.aborted||console.error(U)}}x(!0)}),F=Y4.useCallback(()=>{let j=R.current.entries().next().value;if(j[0]&&!j[1].hasLoadedAll){let E=new AbortController;I({abortController:E,relationSlug:j[0]})}},[]),A=cg(()=>{if(a){if(n)return Array.isArray(a)?a.map(j=>{if(f){let E;return m.forEach($=>{$.options&&$.options.some(M=>M?.value==j.value?(E=M,!0):!1)}),E}return m.find(E=>E.value==j)}):void 0;if(f){let j,E=a;return m.forEach($=>{$?.options&&$.options.some(M=>M?.value==E.value?(j=M,!0):!1)}),j}return m.find(j=>j.value==a)}},[n,f,a,m]),k=cg(j=>{if(j!==h){p({type:"CLEAR",i18n:_,required:!1});let E=Array.isArray(r)?r:[r];R.current=new Map(E.map($=>[$,{hasLoadedAll:!1,nextPage:1}])),g(j)}},[_,r,h]),L=cg(async(j,E)=>{if(!C&&j!=="null"&&j&&E){let $=await fetch(Z4({apiRoute:u,path:`/${E}/${j}?depth=0`}),{credentials:"include",headers:{"Accept-Language":_.language}});if($.ok){let M=await $.json();D({docs:[M]},E)}else console.error(w("error:loadingDocument",{id:j}))}},[_,D,u,C,w]);J4(()=>{let j=Array.isArray(r)?r:[r];R.current=new Map(j.map($=>[$,{hasLoadedAll:!1,nextPage:1}])),p({type:"CLEAR",i18n:_,required:!1}),x(!1);let E=[];return j.forEach($=>{let M=new AbortController;I({abortController:M,relationSlug:$}),E.push(M)}),()=>{E.forEach($=>{if($.signal)try{$.abort()}catch{}})}},[_,r,b,s]),J4(()=>{if(a&&v){if(n)(A()||[]).forEach((E,$)=>{E||(f?L(a[$].value,a[$].relationTo):L(a[$],r))});else if(!A())if(f){let E=a;L(E.value,E.relationTo)}else L(a,r)}},[L,A,n,f,r,a,v]);let N=["field-type",q4,C&&"error-loading"].filter(Boolean).join(" "),B=A()||a;return gC("div",{className:N,children:C?gC("div",{className:`${q4}__error-loading`,children:C}):gC(gt,{disabled:e,isMulti:n,isSortable:c,onChange:j=>{if(!j){i(null);return}n&&Array.isArray(j)?i(j?j.map(E=>f?{relationTo:E?.relationTo,value:E?.value}:E?.value):null):f&&!Array.isArray(j)?i({relationTo:j?.relationTo,value:j?.value}):Array.isArray(j)||i(j?.value)},onInputChange:k,onMenuScrollToBottom:F,options:m,placeholder:l,value:B})})};import{c as PJ}from"react/compiler-runtime";import{jsx as EJ}from"react/jsx-runtime";import{getTranslation as vC}from"@payloadcms/translations";import yC from"react";var CC=t=>{let e=PJ(21),{disabled:o,field:n,isClearable:r,onChange:s,operator:i,options:a,value:l}=t,{admin:c}=n,{placeholder:u}=c,{i18n:d}=P(),f;e[0]!==a?(f=Au(a),e[0]=a,e[1]=f):f=e[1];let[m,p]=yC.useState(f),h;e[2]===Symbol.for("react.memo_cache_sentinel")?(h=["in","not_in"],e[2]=h):h=e[2];let g=h.includes(i),b;if(g&&Array.isArray(l)){let S;e[3]!==d||e[4]!==m?(S=R=>{let D=m.find(I=>I.value===R);return{label:D?vC(D.label,d):R,value:D?.value??R}},e[3]=d,e[4]=m,e[5]=S):S=e[5],b=l.map(S)}else if(l){let S;e[6]!==l?(S=D=>D.value===l,e[6]=l,e[7]=S):S=e[7];let R=m.find(S);b={label:R?vC(R.label,d):l,value:R?.value??l}}let C;e[8]!==g||e[9]!==s?(C=S=>{let R;S?g?Array.isArray(S)?R=S.map(NJ):R=[]:R=S.value:R=null,s(R)},e[8]=g,e[9]=s,e[10]=C):C=e[10];let y=C,v,x;e[11]!==a?(v=()=>{p(Au(a))},x=[a],e[11]=a,e[12]=v,e[13]=x):(v=e[12],x=e[13]),yC.useEffect(v,x);let _,w;e[14]!==g||e[15]!==s||e[16]!==l?(_=()=>{!g&&Array.isArray(l)&&s(l[0])},w=[g,s,l],e[14]=g,e[15]=s,e[16]=l,e[17]=_,e[18]=w):(_=e[17],w=e[18]),yC.useEffect(_,w);let T;return e[19]!==d?(T=S=>({...S,label:vC(S.label,d)}),e[19]=d,e[20]=T):T=e[20],EJ(gt,{disabled:o,isClearable:r,isMulti:g,onChange:y,options:m.map(T),placeholder:u,value:b})};function NJ(t){return t.value}import{c as LJ}from"react/compiler-runtime";import{jsx as K4}from"react/jsx-runtime";import eP from"react";var kJ="condition-value-text",xC=t=>{let e=LJ(18),{disabled:o,field:n,onChange:r,operator:s,value:i}=t,{hasMany:a}=n,{t:l}=P(),c;e[0]!==a||e[1]!==s?(c=["in","not_in"].includes(s)||a,e[0]=a,e[1]=s,e[2]=c):c=e[2];let u=c,d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d=[],e[3]=d):d=e[3];let[f,m]=eP.useState(d),p;e[4]!==u||e[5]!==r?(p=y=>{let v;y?u&&(Array.isArray(y)?v=y.map(jJ):v=[y.value?.value||y.value]):v=[],r(v)},e[4]=u,e[5]=r,e[6]=p):p=e[6];let h=p,g,b;e[7]!==i?(g=()=>{Array.isArray(i)?m(i.map($J)):m([])},b=[i],e[7]=i,e[8]=g,e[9]=b):(g=e[8],b=e[9]),eP.useEffect(g,b);let C;return e[10]!==o||e[11]!==u||e[12]!==r||e[13]!==h||e[14]!==l||e[15]!==i||e[16]!==f?(C=u?K4(gt,{disabled:o,isClearable:!0,isCreatable:!0,isMulti:u,isSortable:!0,onChange:h,options:[],placeholder:l("general:enterAValue"),value:f||[]}):K4("input",{className:kJ,disabled:o,onChange:y=>r(y.target.value),placeholder:l("general:enterAValue"),type:"text",value:i||""}),e[10]=o,e[11]=u,e[12]=r,e[13]=h,e[14]=l,e[15]=i,e[16]=f,e[17]=C):C=e[17],C};function jJ(t){return t.value?.value||t.value}function $J(t,e){return{id:`${t}${e}`,label:`${t}`,value:{toString:()=>`${t}${e}`,value:t?.value||t}}}var tP=({booleanSelect:t,disabled:e,filterOptions:o,internalField:n,onChange:r,operator:s,options:i,value:a})=>{if(t||["radio","select"].includes(n?.field?.type))return vc(CC,{disabled:e,field:n.field,isClearable:!t,onChange:r,operator:s,options:i,value:a});switch(n?.field?.type){case"date":return vc(pC,{disabled:e,field:n.field,onChange:r,operator:s,value:a});case"number":return vc(hC,{disabled:e,field:n.field,onChange:r,operator:s,value:a});case"relationship":return vc(ug,{disabled:e,field:n.field,filterOptions:o,onChange:r,operator:s,value:a});case"upload":return vc(ug,{disabled:e,field:n.field,filterOptions:o,onChange:r,operator:s,value:a});default:return vc(xC,{disabled:e,field:n?.field,onChange:r,operator:s,value:a})}};var oP=t=>({all:"any",contains:"string",equals:"any",exists:"boolean",greater_than:t==="date"?"object":"string",greater_than_equal:t==="date"?"object":"string",in:"any",intersects:"any",less_than:t==="date"?"object":"string",less_than_equal:t==="date"?"object":"string",like:"string",near:"any",not_equals:"any",not_in:"any",not_like:"string",within:"any"});var js="condition",nP=t=>{let{addCondition:e,andIndex:o,fieldPath:n,filterOptions:r,operator:s,orIndex:i,reducedFields:a,removeCondition:l,RenderedFilter:c,updateCondition:u,value:d}=t,{t:f}=P(),m=a.find(w=>w.value===n),[p,h]=MJ(d),g=Sn(p,300),b=["exists"].includes(s)||m?.field?.type==="checkbox",C=[];b?C=[{label:f("general:true"),value:"true"},{label:f("general:false"),value:"false"}]:m?.field&&"options"in m.field&&(C=m.field.options);let y=Je(async w=>{s&&await u({type:"value",andIndex:o,field:m,operator:s,orIndex:i,value:w===null||w===""?void 0:w})});BJ(()=>{y(g)},[g]);let v=!m?.value&&typeof m?.value!="number"||m?.field?.admin?.disableListFilter,x=rP(async w=>{h(void 0),await u({type:"field",andIndex:o,field:a.find(T=>T.value===w.value),operator:s,orIndex:i,value:void 0})},[o,s,i,a,u]),_=rP(async w=>{let S=oP(m.field.type)[w.value]||"any",R=S==="any"||typeof d===S||S==="boolean"&&(d==="true"||d==="false");R||h(void 0),await u({type:"operator",andIndex:o,field:m,operator:w.value,orIndex:i,value:R?d:void 0})},[o,m,i,u,d]);return ks("div",{className:js,children:wC("div",{className:`${js}__wrap`,children:[wC("div",{className:`${js}__inputs`,children:[ks("div",{className:`${js}__field`,children:ks(gt,{disabled:v,filterOption:(w,T)=>(w?.data?.plainTextLabel||w.label).toLowerCase().includes(T.toLowerCase()),isClearable:!1,onChange:x,options:a.filter(w=>!w.field.admin.disableListFilter),value:m||{value:m?.value}})}),ks("div",{className:`${js}__operator`,children:ks(gt,{disabled:v,isClearable:!1,onChange:_,options:m?.operators,value:m?.operators.find(w=>s===w.value)||null})}),ks("div",{className:`${js}__value`,children:c||ks(tP,{booleanSelect:b,disabled:!s||!m||m?.field?.admin?.disableListFilter,filterOptions:r,internalField:m,onChange:h,operator:s,options:C,value:p??""})})]}),wC("div",{className:`${js}__actions`,children:[ks(K,{buttonStyle:"icon-label",className:`${js}__actions-remove`,icon:"x",iconStyle:"with-border",onClick:()=>l({andIndex:o,orIndex:i}),round:!0}),ks(K,{buttonStyle:"icon-label",className:`${js}__actions-add`,icon:"plus",iconStyle:"with-border",onClick:()=>e({andIndex:o+1,field:a.find(w=>!w.field.admin?.disableListFilter),orIndex:i,relation:"and"}),round:!0})]})]})})};var Xn="where-builder",aP=t=>{let{collectionPluralLabel:e,collectionSlug:o,fields:n,renderedFilters:r,resolvedFilterOptions:s}=t,{i18n:i,t:a}=P(),{permissions:l}=Se(),c=l?.collections?.[o]?.fields,u=iP(()=>fr({fieldPermissions:c,fields:n,i18n:i}),[c,n,i]),{handleWhereChange:d,query:f}=lt(),m=iP(()=>{let b=f.where;if(b){if(sP(b))return b.or;let C=VJ(b);if(sP(C))return C.or;console.warn(`Invalid where query in URL: ${JSON.stringify(b)}`)}return[]},[f.where]),p=dg.useCallback(async({andIndex:b,field:C,orIndex:y,relation:v})=>{let x=[...m],_=ic[C.field.type].operators[0].value;v==="and"?x[y].and.splice(b,0,{[String(C.value)]:{[_]:void 0}}):x.push({and:[{[String(C.value)]:{[_]:void 0}}]}),await d({or:x})},[m,d]),h=dg.useCallback(async({andIndex:b,field:C,operator:y,orIndex:v,value:x})=>{if(typeof m[v].and[b]=="object"&&C.value){let{validOperator:w}=Lh({field:C.field,operator:y}),T={[String(C.value)]:{[w]:x}},S=[...m];S[v].and[b]=T,await d({or:S})}},[m,d]),g=dg.useCallback(async({andIndex:b,orIndex:C})=>{let y=[...m];y[C].and.splice(b,1),y[C].and.length===0&&y.splice(C,1),await d({or:y})},[m,d]);return um("div",{className:Xn,children:[m.length>0&&um(dg.Fragment,{children:[$s("p",{className:`${Xn}__label`,children:a("general:filterWhere",{label:OJ(e,i)})}),$s("ul",{className:`${Xn}__or-filters`,children:m.map((b,C)=>{let y=`${C}_${Array.isArray(b?.and)?b.and.length:""}`;return um("li",{children:[C!==0&&$s("div",{className:`${Xn}__label`,children:a("general:or")}),$s("ul",{className:`${Xn}__and-filters`,children:Array.isArray(b?.and)&&b.and.map((v,x)=>{let _=m[C].and[x],w=Object.keys(_)[0],T=Object.keys(_?.[w]||{})?.[0]||void 0,S=_?.[w]?.[T]||void 0;return um("li",{children:[x!==0&&$s("div",{className:`${Xn}__label`,children:a("general:and")}),$s(nP,{addCondition:p,andIndex:x,fieldPath:w,filterOptions:s?.get(w),operator:T,orIndex:C,reducedFields:u,removeCondition:g,RenderedFilter:r?.get(w),updateCondition:h,value:S})]},x)})})]},y)})}),$s(K,{buttonStyle:"icon-label",className:`${Xn}__add-or`,icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:async()=>{await p({andIndex:0,field:u.find(b=>!b.field.admin?.disableListFilter),orIndex:m.length,relation:"or"})},children:a("general:or")})]}),m.length===0&&um("div",{className:`${Xn}__no-filters`,children:[$s("div",{className:`${Xn}__label`,children:a("general:noFiltersSet")}),$s(K,{buttonStyle:"icon-label",className:`${Xn}__add-first-filter`,icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:async()=>{u.length>0&&await p({andIndex:0,field:u.find(b=>!b.field.admin?.disableListFilter),orIndex:m.length,relation:"or"})},children:a("general:addFilter")})]})]})};import{fieldAffectsData as GJ,flattenTopLevelFields as zJ}from"payload/shared";var lP=(t,e,o)=>{if(t){let n=zJ(e,{i18n:o,moveSubFieldsToTop:!0}),r=new Set(t),s=[];for(let i of n)GJ(i)&&r.has(i.name)&&(s.push(i),r.delete(i.name));return s}return null};var Wo="list-controls",SC=t=>{let{beforeActions:e,collectionConfig:o,collectionSlug:n,disableQueryPresets:r,enableColumns:s=!0,enableFilters:i=!0,enableSort:a=!1,listMenuItems:l,queryPreset:c,queryPresetPermissions:u,renderedFilters:d,resolvedFilterOptions:f}=t,{handleSearchChange:m,query:p}=lt(),h=oy(o),{i18n:g,t:b}=P(),{breakpoints:{s:C}}=mr(),y=(h&&yc("label"in h&&(typeof h.label=="string"||typeof h.label=="object")?h.label:"name"in h?h.name:null,g))??"ID",v=lP(o.admin.listSearchableFields,o.fields,g),x=uP(b("general:searchBy",{label:yc(y,g)})),_=uP(!!p?.where),w=HJ(p?.where),[T,S]=ZJ(w?"where":void 0);return cP(()=>{_.current&&!p?.where?_.current=!1:p?.where&&(_.current=!0)},[S,p?.where]),cP(()=>{v?.length>0?x.current=v.reduce((R,D,I)=>{let F="label"in D&&D.label?D.label:"name"in D?D.name:null;return I===0?`${b("general:searchBy",{label:yc(F,g)})}`:I===v.length-1?`${R} ${b("general:or")} ${yc(F,g)}`:`${R}, ${yc(F,g)}`},""):x.current=b("general:searchBy",{label:yc(y,g)})},[b,v,g,y]),WJ("div",{className:Wo,children:[o?.enableQueryPresets&&!r&&co(j4,{activePreset:c,collectionSlug:n,queryPresetPermissions:u}),co(bc,{Actions:[!C&&co(UJ.Fragment,{children:e&&e},"before-actions"),s&&co(tt,{"aria-controls":`${Wo}-columns`,"aria-expanded":T==="columns",className:`${Wo}__toggle-columns`,icon:co(He,{direction:T==="columns"?"up":"down"}),id:"toggle-list-columns",onClick:()=>S(T!=="columns"?"columns":void 0),pillStyle:"light",size:"small",children:b("general:columns")},"toggle-list-columns"),i&&co(tt,{"aria-controls":`${Wo}-where`,"aria-expanded":T==="where",className:`${Wo}__toggle-where`,icon:co(He,{direction:T==="where"?"up":"down"}),id:"toggle-list-filters",onClick:()=>S(T!=="where"?"where":void 0),pillStyle:"light",size:"small",children:b("general:filters")},"toggle-list-filters"),a&&co(tt,{"aria-controls":`${Wo}-sort`,"aria-expanded":T==="sort",className:`${Wo}__toggle-sort`,icon:co(He,{}),id:"toggle-list-sort",onClick:()=>S(T!=="sort"?"sort":void 0),pillStyle:"light",size:"small",children:b("general:sort")},"toggle-list-sort"),o.admin.groupBy&&co(tt,{"aria-controls":`${Wo}-group-by`,"aria-expanded":T==="group-by",className:`${Wo}__toggle-group-by`,icon:co(He,{direction:T==="group-by"?"up":"down"}),id:"toggle-group-by",onClick:()=>S(T!=="group-by"?"group-by":void 0),pillStyle:"light",size:"small",children:b("general:groupByLabel",{label:""})},"toggle-group-by"),l&&Array.isArray(l)&&l.length>0&&co(st,{button:co(ng,{ariaLabel:b("general:moreOptions")}),className:`${Wo}__popup`,horizontalAlign:"right",id:"list-menu",size:"small",verticalAlign:"bottom",children:co(we.ButtonGroup,{children:l.map((R,D)=>co(XJ,{children:R},`list-menu-item-${D}`))})},"list-menu")].filter(Boolean),label:x.current,onSearchChange:m,searchQueryParam:p?.search},n),s&&co(_r,{className:`${Wo}__columns`,height:T==="columns"?"auto":0,id:`${Wo}-columns`,children:co(Sp,{collectionSlug:o.slug})}),co(_r,{className:`${Wo}__where`,height:T==="where"?"auto":0,id:`${Wo}-where`,children:co(aP,{collectionPluralLabel:o?.labels?.plural,collectionSlug:o.slug,fields:o?.fields,renderedFilters:d,resolvedFilterOptions:f})}),o.admin.groupBy&&co(_r,{className:`${Wo}__group-by`,height:T==="group-by"?"auto":0,id:`${Wo}-group-by`,children:co(T4,{collectionSlug:o.slug,fields:o.fields})})]})};import{c as yq}from"react/compiler-runtime";import{jsx as $a,jsxs as Cq}from"react/jsx-runtime";import{Fragment as xq}from"react";import{c as pP}from"react/compiler-runtime";import{jsx as _C,jsxs as oq}from"react/jsx-runtime";import rq from"react";import{jsx as YJ}from"react/jsx-runtime";import{getTranslation as dP}from"@payloadcms/translations";import{useRouter as JJ,useSearchParams as qJ}from"next/navigation.js";import{combineWhereConstraints as QJ,formatAdminURL as KJ,mergeListSearchAndWhere as eq}from"payload/shared";import*as IC from"qs-esm";import tq,{useCallback as mP}from"react";function fP(t){let{collection:e,collection:{slug:o,labels:{plural:n,singular:r}}={},drawerSlug:s,ids:i,onSuccess:a,selectAll:l,where:c}=t,{clearRouteCache:u}=bt(),{config:{routes:{api:d}}}=H(),{code:f}=Ie(),m=JJ(),p=qJ(),{i18n:h,t:g}=P(),b=mP(()=>{oe.error(g("error:unknown"))},[g]),C=tq.useMemo(()=>{let v=[{_status:{not_equals:"published"}}];c&&v.push(c);let x=eq({collectionConfig:e,search:p.get("search")});return x&&v.push(x),l?v.push(Ut(p)?.where||{id:{not_equals:""}}):v.push({id:{in:i||[]}}),IC.stringify({locale:f,select:{},where:QJ(v)},{addQueryPrefix:!0})},[e,p,l,i,f,c]),y=mP(async()=>{let v=KJ({apiRoute:d,path:`/${o}${C}&draft=true`});await Ge.patch(v,{body:JSON.stringify({_status:"published"}),headers:{"Accept-Language":h.language,"Content-Type":"application/json"}}).then(async x=>{try{let _=await x.json(),w=_?.docs.length||0,T=w>1?n:r;return x.status<400||w>0?(oe.success(g("general:updatedCountSuccessfully",{count:w,label:dP(T,h)})),_?.errors.length>0&&oe.error(_.message,{description:_.errors.map(S=>S.message).join(`
`)}),m.replace(IC.stringify({...Ut(p),page:l?"1":void 0},{addQueryPrefix:!0})),u(),typeof a=="function"&&a(),null):(_.errors?_.errors.forEach(S=>oe.error(S.message)):b(),!1)}catch{return b()}})},[d,o,C,h,n,r,g,m,p,l,u,b,a]);return YJ(et,{body:g("version:aboutToPublishSelection",{label:dP(n,h)}),cancelLabel:g("general:cancel"),confirmingLabel:g("version:publishing"),confirmLabel:g("general:confirm"),heading:g("version:confirmPublish"),modalSlug:s,onConfirm:y})}var nq=t=>{let e=pP(8),{count:o,selectAll:n,selectedIDs:r,toggleAll:s}=Co(),i;e[0]!==s?(i=()=>s(),e[0]=s,e[1]=i):i=e[1];let a=n===Zt.AllAvailable,l;return e[2]!==o||e[3]!==t||e[4]!==r||e[5]!==i||e[6]!==a?(l=_C(dm,{...t,count:o,ids:r,onSuccess:i,selectAll:a}),e[2]=o,e[3]=t,e[4]=r,e[5]=i,e[6]=a,e[7]=l):l=e[7],l},dm=t=>{let e=pP(12),{collection:o,collection:n,count:r,ids:s,modalPrefix:i,onSuccess:a,selectAll:l,where:c}=t,{slug:u,versions:d}=n===void 0?{}:n,{permissions:f}=Se(),{t:m}=P(),{openModal:p}=ie(),g=f?.collections?.[u]?.update,b=`${i?`${i}-`:""}publish-${u}`;if(!d?.drafts||r===0||!g)return null;let C;if(e[0]!==o||e[1]!==b||e[2]!==s||e[3]!==a||e[4]!==p||e[5]!==l||e[6]!==m||e[7]!==c){let y;e[9]!==b||e[10]!==p?(y=()=>{p(b)},e[9]=b,e[10]=p,e[11]=y):y=e[11],C=oq(rq.Fragment,{children:[_C(to,{"aria-label":m("version:publish"),onClick:y,children:m("version:publish")}),_C(fP,{collection:o,drawerSlug:b,ids:s,onSuccess:a,selectAll:l,where:c})]}),e[0]=o,e[1]=b,e[2]=s,e[3]=a,e[4]=p,e[5]=l,e[6]=m,e[7]=c,e[8]=C}else C=e[8];return C};import{jsx as mg,jsxs as hP}from"react/jsx-runtime";import{getTranslation as gP}from"@payloadcms/translations";import{useRouter as sq,useSearchParams as iq}from"next/navigation.js";import{formatAdminURL as aq,mergeListSearchAndWhere as lq}from"payload/shared";import*as FC from"qs-esm";import TC from"react";var bP="confirm-restore-many-docs",vP="restore-many",yP=t=>{let{collection:{slug:e}={},viewType:o}=t,{permissions:n}=Se(),{config:{collections:r,routes:s,serverURL:i}}=H(),{code:a}=Ie(),l=sq(),{clearRouteCache:c}=bt(),u=iq(),{count:d,getSelectedIds:f,selectAll:m,toggleAll:p}=Co(),{openModal:h}=ie(),{i18n:g,t:b}=P(),[C,y]=TC.useState(!1),x=n?.collections?.[e]?.update;if(m===Zt.None||!x||o!=="trash")return null;let _=m===Zt.AllAvailable,w=_?[]:f(),T=Ut(u)?.where,S={and:[...Array.isArray(T?.and)?T.and:T?[T]:[],{deletedAt:{exists:!0}}]},R=async()=>{let F=r.find(B=>B.slug===e);if(!F)return;let A;_?A=S:A={and:[{id:{in:w}},{deletedAt:{exists:!0}}]};let k=aq({apiRoute:s.api,path:`/${e}${FC.stringify({limit:0,locale:a,select:{},trash:!0,where:lq({collectionConfig:F,search:Ut(u)?.search,where:A})},{addQueryPrefix:!0})}`}),L={deletedAt:null};F?.versions?.drafts&&(L._status=C?"published":"draft");let N=await Ge.patch(k,{body:JSON.stringify(L),headers:{"Accept-Language":g.language,"Content-Type":"application/json"}});try{let{plural:B,singular:j}=F.labels,E=await N.json(),$=E?.docs?.length||0,M=$>1?B:j;(N.status<400||$>0)&&oe.success(b("general:restoredCountSuccessfully",{count:$,label:gP(M,g)})),E?.errors?.length>0&&oe.error(E.message,{description:E.errors.map(O=>O.message).join(`
`)})}catch{oe.error(b("error:unknown"))}p(),l.replace(FC.stringify({...Ut(u),page:_?"1":void 0},{addQueryPrefix:!0})),c()},D=r.find(({slug:F})=>F===e),I=gP(d===1?D.labels.singular:D.labels.plural,g);return hP(TC.Fragment,{children:[mg(to,{"aria-label":b("general:restore"),className:"restore-documents__toggle",onClick:()=>{h(bP)},children:b("general:restore")}),mg(et,{body:hP(TC.Fragment,{children:[b(D?.versions?.drafts?"general:aboutToRestoreAsDraftCount":"general:aboutToRestoreCount",{count:d,label:I}),D?.versions?.drafts&&mg("div",{className:`${vP}__checkbox`,children:mg(po,{checked:C,id:"restore-as-published-many",label:b("general:restoreAsPublished"),name:"restore-as-published-many",onToggle:F=>y(F.target.checked)})})]}),className:vP,confirmingLabel:b("general:restoring"),heading:b("general:confirmRestoration"),modalSlug:bP,onConfirm:R})]})};import{c as SP}from"react/compiler-runtime";import{jsx as DC,jsxs as gq}from"react/jsx-runtime";import bq from"react";import{jsx as cq}from"react/jsx-runtime";import{getTranslation as CP}from"@payloadcms/translations";import{useRouter as uq,useSearchParams as dq}from"next/navigation.js";import{combineWhereConstraints as mq,formatAdminURL as fq,mergeListSearchAndWhere as pq}from"payload/shared";import*as RC from"qs-esm";import hq,{useCallback as xP}from"react";function wP(t){let{collection:e,collection:{slug:o,labels:{plural:n,singular:r}}={},drawerSlug:s,ids:i,onSuccess:a,selectAll:l,where:c}=t,{config:{routes:{api:u}}}=H(),{code:d}=Ie(),{i18n:f,t:m}=P(),p=dq(),h=uq(),{clearRouteCache:g}=bt(),b=xP(()=>{oe.error(m("error:unknown"))},[m]),C=hq.useMemo(()=>{let v=[{_status:{not_equals:"draft"}}];c&&v.push(c);let x=pq({collectionConfig:e,search:p.get("search")});return x&&v.push(x),l||v.push({id:{in:i||[]}}),RC.stringify({locale:d,select:{},where:mq(v)},{addQueryPrefix:!0})},[e,p,l,i,d,c]),y=xP(async()=>{let v=fq({apiRoute:u,path:`/${o}${C}`});await Ge.patch(v,{body:JSON.stringify({_status:"draft"}),headers:{"Accept-Language":f.language,"Content-Type":"application/json"}}).then(async x=>{try{let _=await x.json(),w=_?.docs.length||0,T=w>1?n:r;return x.status<400||w>0?(oe.success(m("general:updatedCountSuccessfully",{count:w,label:CP(T,f)})),_?.errors.length>0&&oe.error(_.message,{description:_.errors.map(S=>S.message).join(`
`)}),h.replace(RC.stringify({...Ut(p),page:l?"1":void 0},{addQueryPrefix:!0})),g(),typeof a=="function"&&a(),null):(_.errors?_.errors.forEach(S=>oe.error(S.message)):b(),!1)}catch{return b()}})},[u,o,C,f,n,r,m,h,p,l,g,b,a]);return cq(et,{body:m("version:aboutToUnpublishSelection",{label:CP(n,f)}),confirmingLabel:m("version:unpublishing"),heading:m("version:confirmUnpublish"),modalSlug:s,onConfirm:y})}var vq=t=>{let e=SP(8),{count:o,selectAll:n,selectedIDs:r,toggleAll:s}=Co(),i;e[0]!==s?(i=()=>s(),e[0]=s,e[1]=i):i=e[1];let a=n===Zt.AllAvailable,l;return e[2]!==o||e[3]!==t||e[4]!==r||e[5]!==i||e[6]!==a?(l=DC(mm,{...t,count:o,ids:r,onSuccess:i,selectAll:a}),e[2]=o,e[3]=t,e[4]=r,e[5]=i,e[6]=a,e[7]=l):l=e[7],l},mm=t=>{let e=SP(12),{collection:o,collection:n,count:r,ids:s,modalPrefix:i,onSuccess:a,selectAll:l,where:c}=t,{slug:u,versions:d}=n===void 0?{}:n,{t:f}=P(),{permissions:m}=Se(),{toggleModal:p}=ie(),g=m?.collections?.[u]?.update,b=`${i?`${i}-`:""}unpublish-${u}`;if(!d?.drafts||r===0||!g)return null;let C;if(e[0]!==o||e[1]!==b||e[2]!==s||e[3]!==a||e[4]!==l||e[5]!==f||e[6]!==p||e[7]!==c){let y;e[9]!==b||e[10]!==p?(y=()=>{p(b)},e[9]=b,e[10]=p,e[11]=y):y=e[11],C=gq(bq.Fragment,{children:[DC(to,{"aria-label":f("version:unpublish"),onClick:y,children:f("version:unpublish")}),DC(wP,{collection:o,drawerSlug:b,ids:s,onSuccess:a,selectAll:l,where:c})]}),e[0]=o,e[1]=b,e[2]=s,e[3]=a,e[4]=l,e[5]=f,e[6]=p,e[7]=c,e[8]=C}else C=e[8];return C};var Ba=t=>{let e=yq(19),{collectionConfig:o,disableBulkDelete:n,disableBulkEdit:r,label:s,modalPrefix:i,showSelectAllAcrossPages:a,viewType:l,where:c}=t,u=a===void 0?!0:a,{count:d,selectAll:f,selectedIDs:m,toggleAll:p,totalDocs:h}=Co(),{t:g}=P(),b;e[0]!==p?(b=()=>p(),e[0]=p,e[1]=b):b=e[1];let C=b;if(d===0)return null;let y=o?.trash&&l==="trash",v;return e[2]!==o||e[3]!==d||e[4]!==n||e[5]!==r||e[6]!==y||e[7]!==s||e[8]!==i||e[9]!==C||e[10]!==f||e[11]!==m||e[12]!==u||e[13]!==g||e[14]!==p||e[15]!==h||e[16]!==l||e[17]!==c?(v=$a(Yh,{count:d,ListActions:[f!==Zt.AllAvailable&&d<h&&u!==!1?$a(to,{"aria-label":g("general:selectAll",{count:`(${h})`,label:s}),id:"select-all-across-pages",onClick:()=>p(!0),children:g("general:selectAll",{count:`(${h})`,label:""})},"select-all"):null].filter(Boolean),SelectionActions:[!r&&!y&&Cq(xq,{children:[$a(lm,{collection:o,count:d,ids:m,modalPrefix:i,onSuccess:C,selectAll:f===Zt.AllAvailable,where:c}),$a(dm,{collection:o,count:d,ids:m,modalPrefix:i,onSuccess:C,selectAll:f===Zt.AllAvailable,where:c}),$a(mm,{collection:o,count:d,ids:m,modalPrefix:i,onSuccess:C,selectAll:f===Zt.AllAvailable,where:c})]},"bulk-actions"),y&&$a(yP,{collection:o,viewType:l},"bulk-restore"),!n&&$a(By,{collection:o,modalPrefix:i,viewType:l},"bulk-delete")].filter(Boolean)}),e[2]=o,e[3]=d,e[4]=n,e[5]=r,e[6]=y,e[7]=s,e[8]=i,e[9]=C,e[10]=f,e[11]=m,e[12]=u,e[13]=g,e[14]=p,e[15]=h,e[16]=l,e[17]=c,e[18]=v):v=e[18],v};import{jsx as Zn,jsxs as Vq,Fragment as Gq}from"react/jsx-runtime";import{getTranslation as kC}from"@payloadcms/translations";import"react";import{jsx as IP}from"react/jsx-runtime";var wq="close-modal-button";function _P({slug:t,className:e}){let{closeModal:o}=ie(),{t:n}=P();return IP("button",{"aria-label":n("general:close"),className:[wq,e].filter(Boolean).join(" "),onClick:()=>{o(t)},type:"button",children:IP(yt,{})},"close-button")}import{c as Sq}from"react/compiler-runtime";import{jsx as TP,jsxs as FP}from"react/jsx-runtime";import{getTranslation as RP}from"@payloadcms/translations";import{useRouter as Iq}from"next/navigation.js";import{formatAdminURL as _q}from"payload/shared";import"react";var Ma="default-list-view-tabs",fg=t=>{let e=Sq(20),{collectionConfig:o,config:n,onChange:r,viewType:s}=t,{i18n:i,t:a}=P(),{setPreference:l}=so(),c=Iq(),u=o.trash,d=o.folders&&n.folders;if(!u&&!d)return null;let f;e[0]!==o.slug||e[1]!==n||e[2]!==r||e[3]!==c||e[4]!==l?(f=async g=>{r&&r(g),(g==="list"||g==="folders")&&await l(`collection-${o.slug}`,{listViewType:g});let b=`/collections/${o.slug}`;e:switch(g){case"folders":{n.folders&&(b=`/collections/${o.slug}/${n.folders.slug}`);break e}case"trash":b=`/collections/${o.slug}/trash`}let C=_q({adminRoute:n.routes.admin,path:b});c.push(C)},e[0]=o.slug,e[1]=n,e[2]=r,e[3]=c,e[4]=l,e[5]=f):f=e[5];let m=f,p=`${a("general:all")} ${RP(o?.labels?.plural,i)}`,h;if(e[6]!==p||e[7]!==o.labels?.plural||e[8]!==m||e[9]!==i||e[10]!==d||e[11]!==u||e[12]!==a||e[13]!==s){let g;e[15]===Symbol.for("react.memo_cache_sentinel")?(g=/\s+/g,e[15]=g):g=e[15];let b=p.toLowerCase().replace(g,"-"),C=s==="list"&&`${Ma}__button--active`,y;e[16]!==C?(y=[`${Ma}__button`,C].filter(Boolean),e[16]=C,e[17]=y):y=e[17];let v;e[18]!==m?(v=()=>m("list"),e[18]=m,e[19]=v):v=e[19],h=FP("div",{className:Ma,children:[FP(K,{buttonStyle:"tab",className:y.join(" "),disabled:s==="list",el:"button",id:b,onClick:v,children:[a("general:all")," ",RP(o?.labels?.plural,i)]}),d&&TP(K,{buttonStyle:"tab",className:[`${Ma}__button`,s==="folders"&&`${Ma}__button--active`].filter(Boolean).join(" "),disabled:s==="folders",el:"button",onClick:()=>m("folders"),children:a("folder:byFolder")}),u&&TP(K,{buttonStyle:"tab",className:[`${Ma}__button`,s==="trash"&&`${Ma}__button--active`].filter(Boolean).join(" "),disabled:s==="trash",el:"button",id:"trash-view-pill",onClick:()=>m("trash"),children:a("general:trash")})]}),e[6]=p,e[7]=o.labels?.plural,e[8]=m,e[9]=i,e[10]=d,e[11]=u,e[12]=a,e[13]=s,e[14]=h}else h=e[14];return h};import{c as Tq}from"react/compiler-runtime";import{jsx as DP,jsxs as Fq}from"react/jsx-runtime";import{getTranslation as AP}from"@payloadcms/translations";import{jsx as pg,jsxs as AC}from"react/jsx-runtime";import"react";var Bs="list-header",Oa=t=>AC("header",{className:[Bs,t.className].filter(Boolean).join(" "),children:[AC("div",{className:`${Bs}__content`,children:[AC("div",{className:`${Bs}__title-and-actions`,children:[pg("h1",{className:`${Bs}__title`,children:t.title}),t.TitleActions.length?pg("div",{className:`${Bs}__title-actions`,children:t.TitleActions}):null]}),t.Actions.length?pg("div",{className:`${Bs}__actions`,children:t.Actions}):null]}),t.AfterListHeaderContent?pg("div",{className:`${Bs}__after-header-content`,children:t.AfterListHeaderContent}):null]});var Rq="list-drawer",PP=()=>{let t=Tq(12),{i18n:e,t:o}=P(),{config:n,getEntityConfig:r}=H(),{collections:s}=n,{enabledCollections:i,selectedOption:a,setSelectedOption:l}=Fr(),c;if(t[0]!==s||t[1]!==i||t[2]!==r||t[3]!==e||t[4]!==a||t[5]!==l||t[6]!==o){c=Symbol.for("react.early_return_sentinel");e:{let u;t[8]!==i?(u=f=>{let{slug:m}=f;return i.includes(m)},t[8]=i,t[9]=u):u=t[9];let d=s.filter(u);if(d.length>1){let f=r({collectionSlug:a.value}),m;t[10]!==e?(m=p=>({label:AP(p.labels.singular,e),value:p.slug}),t[10]=e,t[11]=m):m=t[11],c=Fq("div",{className:`${Rq}__select-collection-wrap`,children:[DP(_e,{label:o("upload:selectCollectionToBrowse")}),DP(gt,{className:`${Bs}__select-collection`,isClearable:!1,onChange:l,options:d.map(m),value:{label:AP(f?.labels.singular,e),value:f?.slug}})]});break e}}t[0]=s,t[1]=i,t[2]=r,t[3]=e,t[4]=a,t[5]=l,t[6]=o,t[7]=c}else c=t[7];return c!==Symbol.for("react.early_return_sentinel")?c:null};import{c as Dq}from"react/compiler-runtime";import{jsx as EP}from"react/jsx-runtime";var Aq="list-header";function PC(t){let e=Dq(3),{hasCreatePermission:o}=t,{DocumentDrawerToggler:n}=Fr(),{t:r}=P();if(!o)return null;let s;return e[0]!==n||e[1]!==r?(s=EP(n,{className:`${Aq}__create-new-button`,children:EP(tt,{size:"small",children:r("general:createNew")})},"create-new-button-toggler"),e[0]=n,e[1]=r,e[2]=s):s=e[2],s}import{c as Pq}from"react/compiler-runtime";import{jsx as Eq}from"react/jsx-runtime";import{useRouter as Nq}from"next/navigation.js";import"react";function fm(t){let e=Pq(12),{collectionSlug:o,hasCreatePermission:n,isBulkUploadEnabled:r,onBulkUploadSuccess:s,openBulkUpload:i}=t,{drawerSlug:a,setCollectionSlug:l,setOnSuccess:c}=Vo(),{t:u}=P(),{openModal:d}=ie(),f=Nq(),m;e[0]!==a||e[1]!==o||e[2]!==s||e[3]!==i||e[4]!==d||e[5]!==f||e[6]!==l||e[7]!==c?(m=()=>{typeof i=="function"?i():(l(o),d(a),c(()=>{typeof s=="function"?s():f.refresh()}))},e[0]=a,e[1]=o,e[2]=s,e[3]=i,e[4]=d,e[5]=f,e[6]=l,e[7]=c,e[8]=m):m=e[8];let p=m;if(!n||!r)return null;let h;return e[9]!==p||e[10]!==u?(h=Eq(K,{"aria-label":u("upload:bulkUpload"),buttonStyle:"pill",onClick:p,size:"small",children:u("upload:bulkUpload")},"bulk-upload-button"),e[9]=p,e[10]=u,e[11]=h):h=e[11],h}import{c as Lq}from"react/compiler-runtime";import{jsx as kq}from"react/jsx-runtime";import{getTranslation as jq}from"@payloadcms/translations";import"react";var $q="list-create-new-doc";function EC(t){let e=Lq(5),{collectionConfig:o,hasCreatePermission:n,newDocumentURL:r}=t,{i18n:s,t:i}=P();if(!n)return null;let a=o?.labels?.singular,l;return e[0]!==s||e[1]!==r||e[2]!==i||e[3]!==a?(l=kq(K,{"aria-label":i("general:createNewLabel",{label:jq(a,s)}),buttonStyle:"pill",className:`${$q}__create-new-button`,el:"link",size:"small",to:r,children:i("general:createNew")},"create-new-button"),e[0]=s,e[1]=r,e[2]=i,e[3]=a,e[4]=l):l=e[4],l}import{jsx as pm,jsxs as Bq}from"react/jsx-runtime";import{getTranslation as NC}from"@payloadcms/translations";import{useRouter as Mq,useSearchParams as Oq}from"next/navigation.js";import{formatAdminURL as NP}from"payload/shared";import*as gg from"qs-esm";import hg from"react";var LP="confirm-empty-trash";function LC({collectionConfig:t,hasDeletePermission:e}){let{i18n:o,t:n}=P(),{code:r}=Ie(),{config:s}=H(),{openModal:i}=ie(),a=Mq(),l=Oq(),{clearRouteCache:c}=bt(),[u,d]=hg.useState(null);hg.useEffect(()=>{(async()=>{let p=gg.stringify({depth:0,limit:0,locale:r,trash:!0,where:{deletedAt:{exists:!0}}},{addQueryPrefix:!0});try{let g=await(await Ge.get(NP({apiRoute:s.routes.api,path:`/${t.slug}${p}`}),{headers:{"Accept-Language":o.language,"Content-Type":"application/json"}})).json();d(g?.totalDocs??0)}catch{d(0)}})()},[t.slug,s,o.language,r]);let f=hg.useCallback(async()=>{if(!e)return;let{slug:m,labels:p}=t,h=gg.stringify({limit:0,locale:r,trash:!0,where:{deletedAt:{exists:!0}}},{addQueryPrefix:!0}),g=await Ge.delete(NP({apiRoute:s.routes.api,path:`/${m}${h}`}),{headers:{"Accept-Language":o.language,"Content-Type":"application/json"}});try{let b=await g.json(),C=b?.docs?.length||0;g.status<400&&oe.success(n("general:permanentlyDeletedCountSuccessfully",{count:C,label:NC(p?.plural,o)})),b?.errors?.length>0&&oe.error(b.message,{description:b.errors.map(y=>y.message).join(`
`)}),a.replace(gg.stringify({...Object.fromEntries(l.entries()),page:"1"},{addQueryPrefix:!0})),c()}catch{oe.error(n("error:unknown"))}},[t,s,e,o,n,r,l,a,c]);return Bq(hg.Fragment,{children:[pm(K,{"aria-label":n("general:emptyTrashLabel",{label:NC(t?.labels?.plural,o)}),buttonStyle:"pill",disabled:u===0,id:"empty-trash-button",onClick:()=>{i(LP)},size:"small",children:n("general:emptyTrash")},"empty-trash-button"),pm(et,{body:pm(Kt,{elements:{0:({children:m})=>pm("strong",{children:m}),1:({children:m})=>pm("strong",{children:m})},i18nKey:"general:aboutToPermanentlyDeleteTrash",t:n,variables:{count:u??0,label:NC(u===1?t.labels?.singular:t.labels?.plural,o)}}),confirmingLabel:n("general:deleting"),heading:n("general:confirmDeletion"),modalSlug:LP,onConfirm:f})]})}var kP="list-drawer",jC=({className:t,collectionConfig:e,Description:o,disableBulkDelete:n,disableBulkEdit:r,hasCreatePermission:s,hasDeletePermission:i,i18n:a,isBulkUploadEnabled:l,isTrashEnabled:c,newDocumentURL:u,onBulkUploadSuccess:d,openBulkUpload:f,smallBreak:m,viewType:p})=>{let{config:h,getEntityConfig:g}=H(),{drawerSlug:b,isInDrawer:C,selectedOption:y}=Fr(),v=p==="trash",{isGroupingBy:x}=lt();return C?Zn(Oa,{Actions:[Zn(_P,{className:`${kP}__header-close`,slug:b},"close-button")],AfterListHeaderContent:Vq(Gq,{children:[o,Zn(PP,{})]}),className:`${kP}__header`,title:kC(g({collectionSlug:y.value})?.labels?.plural,a),TitleActions:[Zn(PC,{hasCreatePermission:s},"list-drawer-create-new-doc")].filter(Boolean)}):Zn(Oa,{Actions:[!m&&!x&&Zn(Ba,{collectionConfig:e,disableBulkDelete:n,disableBulkEdit:r,label:kC(e?.labels?.plural,a),showSelectAllAcrossPages:!x,viewType:p},"list-selection"),Zn(fg,{collectionConfig:e,config:h,viewType:p},"default-list-actions")].filter(Boolean),AfterListHeaderContent:o,className:t,title:kC(e?.labels?.plural,a),TitleActions:[s&&!v&&Zn(EC,{collectionConfig:e,hasCreatePermission:s,newDocumentURL:u},"list-header-create-new-doc"),s&&l&&!v&&Zn(fm,{collectionSlug:e.slug,hasCreatePermission:s,isBulkUploadEnabled:l,onBulkUploadSuccess:d,openBulkUpload:f},"list-header-bulk-upload"),i&&c&&p==="trash"&&Zn(LC,{collectionConfig:e,hasDeletePermission:i},"list-header-empty-trash")].filter(Boolean)})};import{jsx as jP,jsxs as zq}from"react/jsx-runtime";import"react";var $P="group-by-header",Wq=({collectionConfig:t,groupByFieldPath:e,groupByValue:o,heading:n})=>zq("header",{className:$P,children:[jP("h4",{className:`${$P}__heading`,"data-group-id":o,children:n}),jP(Ba,{collectionConfig:t,label:n,modalPrefix:o,where:{[e]:{equals:o}}})]});import{c as OP}from"react/compiler-runtime";import{jsx as MC,jsxs as BC}from"react/jsx-runtime";import{isNumber as Yq}from"payload/shared";import{Fragment as Jq}from"react";import{c as Hq}from"react/compiler-runtime";import{jsx as wi,jsxs as BP}from"react/jsx-runtime";import{collectionDefaults as Uq,isNumber as Xq}from"payload/shared";import"react";var Cc="per-page",Zq=Uq.admin.pagination.limits,$C=t=>{let e=Hq(9),{defaultLimit:o,handleChange:n,limit:r,limits:s}=t,i=o===void 0?10:o,a=s===void 0?Zq:s,{t:l}=P(),c=Xq(r)?r:i,u;if(e[0]!==n||e[1]!==c||e[2]!==a||e[3]!==l){let d;e[5]!==n||e[6]!==c||e[7]!==a?(d=f=>{let{close:m}=f;return wi(we.ButtonGroup,{children:a.map((p,h)=>BP(we.Button,{className:[`${Cc}__button`,p===c&&`${Cc}__button-active`].filter(Boolean).join(" "),onClick:()=>{m(),n&&n(p)},children:[p===c&&wi("div",{className:`${Cc}__chevron`,children:wi(He,{direction:"right",size:"small"})}),"\xA0",wi("span",{children:p})]},h))})},e[5]=n,e[6]=c,e[7]=a,e[8]=d):d=e[8],u=wi("div",{className:Cc,children:wi(st,{button:BP("div",{className:`${Cc}__base-button`,children:[wi("span",{children:l("general:perPage",{limit:c})}),"\xA0",wi(He,{className:`${Cc}__icon`})]}),horizontalAlign:"right",render:d,size:"small"})}),e[0]=n,e[1]=c,e[2]=a,e[3]=l,e[4]=u}else u=e[4];return u};var MP="page-controls",bg=t=>{let e=OP(16),{AfterPageControls:o,collectionConfig:n,data:r,handlePageChange:s,handlePerPageChange:i,limit:a}=t,{i18n:l}=P(),c;return e[0]!==o||e[1]!==n?.admin?.pagination?.limits||e[2]!==r.hasNextPage||e[3]!==r.hasPrevPage||e[4]!==r.limit||e[5]!==r.nextPage||e[6]!==r.page||e[7]!==r.pagingCounter||e[8]!==r.prevPage||e[9]!==r.totalDocs||e[10]!==r.totalPages||e[11]!==s||e[12]!==i||e[13]!==l||e[14]!==a?(c=BC("div",{className:MP,children:[MC(zu,{hasNextPage:r.hasNextPage,hasPrevPage:r.hasPrevPage,limit:r.limit,nextPage:r.nextPage,numberOfNeighbors:1,onChange:s,page:r.page,prevPage:r.prevPage,totalPages:r.totalPages}),r.totalDocs>0&&BC(Jq,{children:[BC("div",{className:`${MP}__page-info`,children:[r.page*r.limit-(r.limit-1),"-",r.totalPages>1&&r.totalPages!==r.page?r.limit*r.page:r.totalDocs," ",l.t("general:of")," ",r.totalDocs]}),MC($C,{handleChange:i,limit:a,limits:n?.admin?.pagination?.limits,resetPage:r.totalDocs<=r.pagingCounter}),o]})]}),e[0]=o,e[1]=n?.admin?.pagination?.limits,e[2]=r.hasNextPage,e[3]=r.hasPrevPage,e[4]=r.limit,e[5]=r.nextPage,e[6]=r.page,e[7]=r.pagingCounter,e[8]=r.prevPage,e[9]=r.totalDocs,e[10]=r.totalPages,e[11]=s,e[12]=i,e[13]=l,e[14]=a,e[15]=c):c=e[15],c},vg=t=>{let e=OP(10),{AfterPageControls:o,collectionConfig:n}=t,{data:r,defaultLimit:s,handlePageChange:i,handlePerPageChange:a,query:l}=lt(),c;e[0]!==s||e[1]!==l.limit?(c=Yq(l.limit)?l.limit:s,e[0]=s,e[1]=l.limit,e[2]=c):c=e[2];let u;return e[3]!==o||e[4]!==n||e[5]!==r||e[6]!==i||e[7]!==a||e[8]!==c?(u=MC(bg,{AfterPageControls:o,collectionConfig:n,data:r,handlePageChange:i,handlePerPageChange:a,limit:c}),e[3]=o,e[4]=n,e[5]=r,e[6]=i,e[7]=a,e[8]=c,e[9]=u):u=e[9],u};import{jsx as qq}from"react/jsx-runtime";import"react";var Qq="sticky-toolbar",OC=({children:t})=>qq("div",{className:Qq,children:t});import{c as Kq}from"react/compiler-runtime";import{jsx as eQ}from"react/jsx-runtime";import"react";var tQ=t=>{let e=Kq(12),{AfterPageControls:o,collectionConfig:n,data:r,groupByValue:s}=t,{refineListData:i}=lt(),a;e[0]!==s||e[1]!==i?(a=async f=>{await i({queryByGroup:{[s]:{page:f}}})},e[0]=s,e[1]=i,e[2]=a):a=e[2];let l=a,c;e[3]!==s||e[4]!==i?(c=async f=>{await i({queryByGroup:{[s]:{limit:f,page:1}}})},e[3]=s,e[4]=i,e[5]=c):c=e[5];let u=c,d;return e[6]!==o||e[7]!==n||e[8]!==r||e[9]!==l||e[10]!==u?(d=eQ(bg,{AfterPageControls:o,collectionConfig:n,data:r,handlePageChange:l,handlePerPageChange:u}),e[6]=o,e[7]=n,e[8]=r,e[9]=l,e[10]=u,e[11]=d):d=e[11],d};import{c as oQ}from"react/compiler-runtime";import{jsx as GP}from"react/jsx-runtime";import{formatAdminURL as rQ}from"payload/shared";import"react";import{jsx as VP}from"react/jsx-runtime";import"react";var VC=()=>VP("svg",{className:"icon icon--logout",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:VP("path",{className:"stroke",d:"M12 16H14.6667C15.0203 16 15.3594 15.8595 15.6095 15.6095C15.8595 15.3594 16 15.0203 16 14.6667V5.33333C16 4.97971 15.8595 4.64057 15.6095 4.39052C15.3594 4.14048 15.0203 4 14.6667 4H12M7.33333 13.3333L4 10M4 10L7.33333 6.66667M4 10H12",strokeLinecap:"square"})});var nQ="nav",sQ=t=>{let e=oQ(5),{tabIndex:o}=t,n=o===void 0?0:o,{t:r}=P(),{config:s}=H(),{admin:i,routes:a}=s,{routes:l}=i,{logout:c}=l,{admin:u}=a,d;return e[0]!==u||e[1]!==c||e[2]!==r||e[3]!==n?(d=GP(Jt,{"aria-label":r("authentication:logOut"),className:`${nQ}__log-out`,href:rQ({adminRoute:u,path:c}),prefetch:!1,tabIndex:n,title:r("authentication:logOut"),children:GP(VC,{})}),e[0]=u,e[1]=c,e[2]=r,e[3]=n,e[4]=d):d=e[4],d};import{c as iQ}from"react/compiler-runtime";import{jsx as xc,jsxs as zP}from"react/jsx-runtime";import aQ,{useState as WP}from"react";var Si="nav-group",lQ="nav",cQ=t=>{let e=iQ(21),{children:o,isOpen:n,label:r}=t,[s,i]=WP(typeof n<"u"?!n:!1),[a,l]=WP(!1),{setPreference:c}=so(),{navOpen:u}=Aa();if(r){let f;e[0]!==s||e[1]!==r||e[2]!==c?(f=()=>{l(!0);let T={};T?.[r]?T[r].open=!!s:T[r]={open:!!s},c(lQ,{groups:T},!0),i(!s)},e[0]=s,e[1]=r,e[2]=c,e[3]=f):f=e[3];let m=f,p=`${r}`,h=s&&`${Si}--collapsed`,g;e[4]!==p||e[5]!==h?(g=[`${Si}`,p,h].filter(Boolean),e[4]=p,e[5]=h,e[6]=g):g=e[6];let b=g.join(" "),C=`nav-group-${r}`,y=`${Si}__toggle--${s?"collapsed":"open"}`,v;e[7]!==y?(v=[`${Si}__toggle`,y].filter(Boolean),e[7]=y,e[8]=v):v=e[8];let x=v.join(" "),_=u?0:-1,w;return e[9]!==a||e[10]!==o||e[11]!==s||e[12]!==r||e[13]!==_||e[14]!==b||e[15]!==C||e[16]!==x||e[17]!==m?(w=zP("div",{className:b,id:C,children:[zP("button",{className:x,onClick:m,tabIndex:_,type:"button",children:[xc("div",{className:`${Si}__label`,children:r}),xc("div",{className:`${Si}__indicator`,children:xc(He,{className:`${Si}__indicator`,direction:s?void 0:"up"})})]}),xc(_r,{duration:a?200:0,height:s?0:"auto",children:xc("div",{className:`${Si}__content`,children:o})})]}),e[9]=a,e[10]=o,e[11]=s,e[12]=r,e[13]=_,e[14]=b,e[15]=C,e[16]=x,e[17]=m,e[18]=w):w=e[18],w}let d;return e[19]!==o?(d=xc(aQ.Fragment,{children:o}),e[19]=o,e[20]=d):d=e[20],d};import{jsx as hm,jsxs as uQ}from"react/jsx-runtime";import HP,{useMemo as dQ,useRef as UP,useState as mQ}from"react";var wc="combobox",fQ=t=>{let{entries:e,minEntriesForSearch:o=8,onSelect:n,onToggleClose:r,onToggleOpen:s,searchPlaceholder:i="Search...",...a}=t,[l,c]=mQ(""),u=UP(!1),d=UP(null),f=dQ(()=>{if(!l)return e;let b=l.toLowerCase();return e.filter(C=>C.name.toLowerCase().includes(b))},[e,l]),m=e.length>=o,p=f.length>0,h=HP.useCallback(b=>{u.current=b,b&&m&&setTimeout(()=>{d.current?.focus()},100),s?.(b)},[m,s]),g=HP.useCallback(()=>{u.current=!1,c(""),r?.()},[r]);return hm(st,{...a,className:`${wc} ${a.className||""}`,onToggleClose:g,onToggleOpen:h,render:({close:b})=>uQ("div",{className:`${wc}__content`,children:[m&&hm("div",{className:`${wc}__search-wrapper${p?"":` ${wc}__search-wrapper--no-results`}`,children:hm("input",{"aria-label":i,className:`${wc}__search-input`,onChange:C=>c(C.target.value),placeholder:i,ref:d,type:"text",value:l})}),hm(we.ButtonGroup,{children:f.map((C,y)=>{let v=()=>{n&&n(C),b()};return hm("div",{className:`${wc}__entry`,onClick:v,onKeyDown:x=>{(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),v())},role:"menuitem",tabIndex:0,children:C.Component},`${C.name}-${y}`)})})]})})};import{jsx as pQ,jsxs as hQ}from"react/jsx-runtime";import{formatAdminURL as gQ}from"payload/shared";import"react";var bQ="browse-by-folder-button";function vQ({active:t}){let{t:e}=P(),{config:o}=H(),{admin:{routes:{browseByFolder:n}},routes:{admin:r}}=o;return hQ(Jt,{className:[bQ,t&&"active"].filter(Boolean).join(" "),href:gQ({adminRoute:r,path:n}),id:"browse-by-folder",prefetch:!1,children:[pQ(dr,{}),e("folder:browseByFolder")]})}import{jsx as yQ}from"react/jsx-runtime";import yg from"react";var CQ=t=>{let{field:e,field:{name:o,admin:{className:n,isClearable:r=!0,isSortable:s=!0,placeholder:i}={},hasMany:a=!1,label:l,localized:c,options:u=[],required:d},onChange:f,path:m,readOnly:p,validate:h}=t,{t:g}=P(),{folderType:b}=Gt(),C=yg.useMemo(()=>!b||b.length===0?Zp(u):Zp(u.filter(N=>typeof N=="object"&&N.value?b.includes(N.value):!0)),[u,b]),y=yg.useCallback((N,B)=>{if(typeof h=="function")return h(N,{...B,hasMany:a,options:C,required:d})},[h,d,a,C]),{customComponents:{AfterInput:v,BeforeInput:x,Description:_,Error:w,Label:T}={},disabled:S,path:R,selectFilterOptions:D,setValue:I,showError:F,value:A}=Fe({potentiallyStalePath:m,validate:y}),k=yg.useCallback(N=>{if(!p||S){let B=null;N&&a?Array.isArray(N)&&N.length>0?B=N.map(j=>j.value):B=null:N&&!Array.isArray(N)&&(B=N.value),typeof f=="function"&&f(B),I(B)}},[p,S,a,I,f]),L=yg.useMemo(()=>Qe(e),[e]);return yQ(qr,{AfterInput:v,BeforeInput:x,className:n,Description:_,description:g("folder:folderTypeDescription"),Error:w,filterOption:D?({value:N})=>D?.some(B=>(typeof B=="string"?B:B.value)===N):void 0,hasMany:a,isClearable:r,isSortable:s,Label:T,label:l,localized:c,name:o,onChange:k,options:C,path:R,placeholder:i,readOnly:p||S,required:d||Array.isArray(b)&&b.length>0,showError:F,style:L,value:A})};import{c as AQ}from"react/compiler-runtime";import{jsx as Ic,jsxs as WC,Fragment as PQ}from"react/jsx-runtime";import{getTranslation as tE}from"@payloadcms/translations";import{extractID as oE}from"payload/shared";import rE from"react";import{jsx as XP}from"react/jsx-runtime";import"react";var Sc=()=>XP("svg",{className:"icon icon--document",fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:XP("path",{clipRule:"evenodd",d:"M3.5 1C2.94772 1 2.5 1.44772 2.5 2V14C2.5 14.5523 2.94771 15 3.5 15H12.5C13.0523 15 13.5 14.5523 13.5 14V4.41421C13.5 4.149 13.3946 3.89464 13.2071 3.70711L10.7929 1.29289C10.6054 1.10536 10.351 1 10.0858 1H3.5ZM5 5.5C5 5.22386 5.22386 5 5.5 5H10.5C10.7761 5 11 5.22386 11 5.5C11 5.77614 10.7761 6 10.5 6H5.5C5.22386 6 5 5.77614 5 5.5ZM5 8.5C5 8.22386 5.22386 8 5.5 8H10.5C10.7761 8 11 8.22386 11 8.5C11 8.77614 10.7761 9 10.5 9H5.5C5.22386 9 5 8.77614 5 8.5ZM5 11.5C5 11.2239 5.22386 11 5.5 11H10.5C10.7761 11 11 11.2239 11 11.5C11 11.7761 10.7761 12 10.5 12H5.5C5.22386 12 5 11.7761 5 11.5Z",fill:"currentColor",fillRule:"evenodd"})});import{jsx as GC,jsxs as RQ}from"react/jsx-runtime";import{useDroppable as DQ}from"@dnd-kit/core";import eE from"react";import{jsx as xQ}from"react/jsx-runtime";import{useDraggable as wQ}from"@dnd-kit/core";import{useId as SQ,useRef as ZP}from"react";var YP="draggable-with-click",Cg=({as:t="div",children:e,className:o,disabled:n=!1,onClick:r,onKeyDown:s,ref:i,thresholdPixels:a=3})=>{let l=SQ(),{attributes:c,listeners:u,setNodeRef:d}=wQ({id:l,disabled:n}),f=ZP({x:0,y:0}),m=ZP(!1),p=g=>{f.current={x:g.clientX,y:g.clientY},m.current=!1;let b=v=>{let x=Math.abs(v.clientX-f.current.x),_=Math.abs(v.clientY-f.current.y);(x>a||_>a)&&(m.current=!0,u?.onPointerDown&&(u.onPointerDown(g),r(v)),window.removeEventListener("pointermove",b))},C=()=>{window.removeEventListener("pointermove",b),window.removeEventListener("pointerup",y)},y=v=>{C(),m.current||r(v)};window.addEventListener("pointermove",b),window.addEventListener("pointerup",y)};return xQ(t||"div",{role:"button",tabIndex:0,...c,className:[YP,o,n?`${YP}--disabled`:""].filter(Boolean).join(" "),onKeyDown:n?void 0:s,onPointerDown:n?void 0:r?p:void 0,ref:g=>{n||(d(g),i&&(i.current=g))},children:e})};import{jsx as Yn,jsxs as IQ}from"react/jsx-runtime";import"react";var Ms="simple-table",JP=({appearance:t,className:e,headerCells:o,tableRows:n})=>Yn("div",{className:[e,Ms,t&&`${Ms}--appearance-${t}`].filter(Boolean).join(" "),children:IQ("table",{cellPadding:0,cellSpacing:0,className:`${Ms}__table`,children:[Yn(_Q,{children:Yn(FQ,{children:o})}),Yn(TQ,{children:n})]})}),_Q=({children:t,className:e,...o})=>Yn("thead",{className:`${Ms}__thead ${e||""}`.trim(),...o,children:t}),TQ=({children:t,className:e,...o})=>Yn("tbody",{className:`${Ms}__tbody ${e||""}`.trim(),...o,children:t}),FQ=({children:t,className:e,...o})=>Yn("tr",{className:`${Ms}__tr ${e||""}`.trim(),...o,children:t}),qP=({children:t,className:e,...o})=>Yn("td",{className:`${Ms}__td ${e||""}`.trim(),...o,children:t}),QP=({children:t,className:e,...o})=>Yn("th",{className:`${Ms}__th ${e||""}`.trim(),...o,children:t}),KP=({children:t,className:e,...o})=>Yn("td",{className:`${Ms}__hidden-cell ${e||""}`.trim(),...o,children:t});var Jn="draggable-table-row";function zC({id:t,columns:e,disabled:o=!1,dragData:n,isDroppable:r,isFocused:s,isSelected:i,isSelecting:a,itemKey:l,onClick:c,onKeyDown:u}){let d=!o&&r&&!i,{isOver:f,setNodeRef:m}=DQ({id:t,data:n,disabled:!d}),p=eE.useRef(null);return eE.useEffect(()=>{let h=p.current;return s&&p.current?p.current.focus():!s&&p.current&&p.current.blur(),()=>{h&&h.blur()}},[s]),RQ(Cg,{as:"tr",className:[Jn,i&&`${Jn}--selected`,a&&`${Jn}--selecting`,o&&`${Jn}--disabled`,s&&`${Jn}--focused`,f&&`${Jn}--over`].filter(Boolean).join(" "),onClick:c,onKeyDown:u,ref:p,children:[e.map((h,g)=>GC(qP,{className:[`${Jn}__cell-content`,g===0&&`${Jn}__first-td`,g===e.length-1&&`${Jn}__last-td`].filter(Boolean).join(" "),children:h},`${l}-${g}`)),d?GC(KP,{children:GC("div",{className:`${Jn}__drop-area`,ref:m})}):null]},l)}var nE="folder-file-table";function HC(t){let e=AQ(39),{showRelationCell:o}=t,n=o===void 0?!0:o,{checkIfItemIsDisabled:r,documents:s,focusedRowIndex:i,onItemClick:a,onItemKeyPress:l,selectedItemKeys:c,subfolders:u}=Gt(),{config:d}=H(),{i18n:f,t:m}=P(),p;e[0]!==d||e[1]!==f?(p=()=>{let y={};return d.collections.forEach(v=>{y[v.slug]={plural:tE(v.labels?.plural,f),singular:tE(v.labels?.singular,f)}}),y},e[0]=d,e[1]=f,e[2]=p):p=e[2];let[h]=rE.useState(p),g;e[3]!==n||e[4]!==m?(g=()=>{let y=[{name:"name",label:m("general:name")},{name:"createdAt",label:m("general:createdAt")},{name:"updatedAt",label:m("general:updatedAt")}];return n&&y.push({name:"type",label:m("version:type")}),y},e[3]=n,e[4]=m,e[5]=g):g=e[5];let[b]=rE.useState(g),C;if(e[6]!==r||e[7]!==b||e[8]!==d||e[9]!==s||e[10]!==i||e[11]!==f||e[12]!==a||e[13]!==l||e[14]!==h||e[15]!==c||e[16]!==u){let y;e[18]!==r||e[19]!==b||e[20]!==d||e[21]!==i||e[22]!==f||e[23]!==a||e[24]!==l||e[25]!==h||e[26]!==c?(y=(x,_)=>{let{itemKey:w,relationTo:T,value:S}=x,R=oE(S);return Ic(zC,{columns:b.map((D,I)=>{let{name:F}=D,A="\u2014";return F==="name"&&S._folderOrDocumentTitle!==void 0&&(A=S._folderOrDocumentTitle),(F==="createdAt"||F==="updatedAt")&&S[F]&&(A=Hr({date:S[F],i18n:f,pattern:d.admin.dateFormat})),F==="type"&&(A=WC(PQ,{children:[h[T]?.singular||T,Array.isArray(x.value?.folderType)?x.value?.folderType.reduce((k,L,N)=>N===0?` \u2014 ${h[L]?.plural||L}`:N>0?`${k}, ${h[L]?.plural||L}`:k,""):""]})),I===0?WC("span",{className:`${nE}__cell-with-icon`,children:[Ic(dr,{}),A]},`${w}-${F}`):A}),disabled:r(x),dragData:{id:R,type:"folder"},id:R,isDroppable:!0,isFocused:i===_,isSelected:c.has(w),isSelecting:c.size>0,itemKey:w,onClick:D=>{a({event:D,index:_,item:x})},onKeyDown:D=>{l({event:D,index:_,item:x})}},`${_}-${w}`)},e[18]=r,e[19]=b,e[20]=d,e[21]=i,e[22]=f,e[23]=a,e[24]=l,e[25]=h,e[26]=c,e[27]=y):y=e[27];let v;e[28]!==r||e[29]!==b||e[30]!==d||e[31]!==i||e[32]!==f||e[33]!==a||e[34]!==l||e[35]!==h||e[36]!==c||e[37]!==u.length?(v=(x,_)=>{let{itemKey:w,relationTo:T,value:S}=x,R=oE(S),D=_+u.length;return Ic(zC,{columns:b.map((I,F)=>{let{name:A}=I,k="\u2014";return A==="name"&&S._folderOrDocumentTitle!==void 0&&(k=S._folderOrDocumentTitle),(A==="createdAt"||A==="updatedAt")&&S[A]&&(k=Hr({date:S[A],i18n:f,pattern:d.admin.dateFormat})),A==="type"&&(k=h[T]?.singular||T),F===0?WC("span",{className:`${nE}__cell-with-icon`,children:[Ic(Sc,{}),k]},`${w}-${A}`):k}),disabled:r(x),dragData:{id:R,type:"document"},id:R,isFocused:i===D,isSelected:c.has(w),isSelecting:c.size>0,itemKey:w,onClick:I=>{a({event:I,index:D,item:x})},onKeyDown:I=>{l({event:I,index:D,item:x})}},`${D}-${w}`)},e[28]=r,e[29]=b,e[30]=d,e[31]=i,e[32]=f,e[33]=a,e[34]=l,e[35]=h,e[36]=c,e[37]=u.length,e[38]=v):v=e[38],C=Ic(JP,{headerCells:b.map(EQ),tableRows:[...u.map(y),...s.map(v)]}),e[6]=r,e[7]=b,e[8]=d,e[9]=s,e[10]=i,e[11]=f,e[12]=a,e[13]=l,e[14]=h,e[15]=c,e[16]=u,e[17]=C}else C=e[17];return C}function EQ(t){let{name:e,label:o}=t;return Ic(QP,{children:o},e)}import{jsx as YC,jsxs as BQ,Fragment as MQ}from"react/jsx-runtime";import"react";import{c as LQ}from"react/compiler-runtime";import{jsx as gr,jsxs as xg}from"react/jsx-runtime";import{useDroppable as kQ}from"@dnd-kit/core";import{getTranslation as jQ}from"@payloadcms/translations";import XC from"react";import{jsx as UC,jsxs as NQ}from"react/jsx-runtime";import"react";function sE({className:t=""}){return NQ("div",{className:`icon icon--dots ${t}`.trim(),children:[UC("div",{}),UC("div",{}),UC("div",{})]})}var hr="folder-file-card";function ZC({id:t,type:e,className:o="",disabled:n=!1,folderType:r,isDeleting:s=!1,isFocused:i=!1,isSelected:a=!1,itemKey:l,onClick:c,onKeyDown:u,PopupActions:d,previewUrl:f,selectedCount:m=0,title:p}){let h=!t||n||e!=="folder",{isOver:g,setNodeRef:b}=kQ({id:l,data:{id:t,type:e,folderType:r},disabled:h}),C=XC.useRef(null);return XC.useEffect(()=>{let y=C.current;return i&&C.current?C.current.focus():!i&&C.current&&C.current.blur(),()=>{y&&y.blur()}},[i]),xg(Cg,{className:[hr,o,a&&`${hr}--selected`,n&&`${hr}--disabled`,s&&`${hr}--deleting`,i&&`${hr}--focused`,g&&`${hr}--over`,`${hr}--${e}`].filter(Boolean).join(" "),disabled:n||!c&&!u,onClick:c,onKeyDown:u,ref:C,children:[h?null:gr("div",{className:`${hr}__drop-area`,ref:b}),e==="file"?gr("div",{className:`${hr}__preview-area`,children:f?gr(Ar,{fileSrc:f}):gr(Sc,{})}):null,xg("div",{className:`${hr}__titlebar-area`,children:[gr("div",{className:`${hr}__icon-wrap`,children:e==="file"?gr(Sc,{}):gr(dr,{})}),xg("div",{className:`${hr}__titlebar-labels`,children:[gr("p",{className:`${hr}__name`,title:p,children:gr("span",{children:p})}),r&&r.length>0?gr($Q,{folderType:r}):null]}),d?gr(st,{button:gr(sE,{}),disabled:m>1||m===1&&!a,horizontalAlign:"right",size:"large",verticalAlign:"bottom",children:d}):null]})]},l)}function $Q({folderType:t}){let{config:e}=H(),{i18n:o}=P(),n=XC.useMemo(()=>t.reduce((r,s)=>{let i=e.collections?.find(a=>a.slug===s);return i?[...r,jQ(i.labels.plural,o)]:r},[]),[t,e.collections,o]);return gr("p",{className:`${hr}__assigned-collections`,children:n.map((r,s)=>xg("span",{children:[r,s<t.length-1?", ":""]},r))})}function iE(t){let e=LQ(18),{type:o,className:n,index:r,item:s}=t,{checkIfItemIsDisabled:i,focusedRowIndex:a,onItemClick:l,onItemKeyPress:c,selectedItemKeys:u}=Gt(),d;if(e[0]!==i||e[1]!==n||e[2]!==a||e[3]!==r||e[4]!==s||e[5]!==l||e[6]!==c||e[7]!==u||e[8]!==o){let f=u.has(s.itemKey),m=i(s),p;e[10]!==r||e[11]!==s||e[12]!==l?(p=g=>{l({event:g,index:r,item:s})},e[10]=r,e[11]=s,e[12]=l,e[13]=p):p=e[13];let h;e[14]!==r||e[15]!==s||e[16]!==c?(h=g=>{c({event:g,index:r,item:s})},e[14]=r,e[15]=s,e[16]=c,e[17]=h):h=e[17],d=gr(ZC,{className:n,disabled:m,folderType:s.value.folderType||[],id:s.value.id,isFocused:a===r,isSelected:f,itemKey:s.itemKey,onClick:p,onKeyDown:h,previewUrl:s.value.url,title:s.value._folderOrDocumentTitle,type:o}),e[0]=i,e[1]=n,e[2]=a,e[3]=r,e[4]=s,e[5]=l,e[6]=c,e[7]=u,e[8]=o,e[9]=d}else d=e[9];return d}var aE="item-card-grid";function wg({type:t,items:e,subfolderCount:o,title:n}){return BQ(MQ,{children:[n&&YC("p",{className:`${aE}__title`,children:n}),YC("div",{className:aE,children:!e||e?.length===0?null:e.map((r,s)=>{let i=s+(o||0),{itemKey:a}=r;return YC(iE,{index:i,item:r,type:t},a)})})]})}import{c as WQ}from"react/compiler-runtime";import{jsx as Ig}from"react/jsx-runtime";import{Fragment as lE}from"react";import{c as OQ}from"react/compiler-runtime";import{jsx as VQ,jsxs as GQ}from"react/jsx-runtime";import"react";function JC(t){return t===void 0||typeof t=="number"?t:decodeURIComponent(t)}var zQ="id-label",Sg=t=>{let e=OQ(9),{id:o,className:n,prefix:r}=t,s=r===void 0?"ID:":r,{config:i}=H(),{routes:a}=i,{admin:l}=a,{collectionSlug:c,globalSlug:u}=Te(),d=Wr(),f=`/${c?`collections/${c}`:`globals/${u}`}/${o}`,m;if(e[0]!==l||e[1]!==n||e[2]!==d||e[3]!==o||e[4]!==s||e[5]!==f){let p=Fp({adminRoute:l,path:f}),h;e[7]!==n?(h=[zQ,n].filter(Boolean),e[7]=n,e[8]=h):h=e[8],m=GQ("div",{className:h.join(" "),title:o,children:[s,"\xA0",d>1?VQ(Jt,{href:p,children:JC(o)}):JC(o)]}),e[0]=l,e[1]=n,e[2]=d,e[3]=o,e[4]=s,e[5]=f,e[6]=m}else m=e[6];return m};var qC="render-title",QC=t=>{let e=WQ(10),{className:o,element:n,fallback:r,title:s}=t,i=n===void 0?"h1":n,{id:a,isInitializing:l}=Te(),{title:c}=Eo(),u=s||c||r,d=u===a,f=i,m;if(e[0]!==f||e[1]!==o||e[2]!==a||e[3]!==d||e[4]!==l||e[5]!==u){let p=Ig(lE,{children:"\xA0"}),h=d&&`${qC}--has-id`,g;e[7]!==o||e[8]!==h?(g=[o,qC,h].filter(Boolean),e[7]=o,e[8]=h,e[9]=g):g=e[9],m=Ig(f,{className:g.join(" "),"data-doc-id":a,title:u,children:l?p:Ig(lE,{children:d?Ig(Sg,{className:`${qC}__id`,id:a}):u||p})}),e[0]=f,e[1]=o,e[2]=a,e[3]=d,e[4]=l,e[5]=u,e[6]=m}else m=e[6];return m};import{c as HQ}from"react/compiler-runtime";import{jsx as _c,jsxs as cE}from"react/jsx-runtime";import"react";var qn="sort-column",UQ=t=>{let e=HQ(19),{name:o,appearance:n,disable:r,Label:s,label:i}=t,a=r===void 0?!1:r,{handleSortChange:l,query:c}=lt(),{t:u}=P(),{sort:d}=c,f=`-${o}`,m=o,p;e[0]!==m||e[1]!==d?(p=[`${qn}__asc`],d===m&&p.push(`${qn}--active`),e[0]=m,e[1]=d,e[2]=p):p=e[2];let h;e[3]!==f||e[4]!==d?(h=[`${qn}__desc`],d===f&&h.push(`${qn}--active`),e[3]=f,e[4]=d,e[5]=h):h=e[5];let g=n&&`${qn}--appearance-${n}`,b;e[6]!==g?(b=[qn,g].filter(Boolean),e[6]=g,e[7]=b):b=e[7];let C=b.join(" "),y;return e[8]!==s||e[9]!==m||e[10]!==p||e[11]!==f||e[12]!==h||e[13]!==a||e[14]!==l||e[15]!==i||e[16]!==u||e[17]!==C?(y=cE("div",{className:C,children:[_c("span",{className:`${qn}__label`,children:s??_c(_e,{hideLocale:!0,label:i,unstyled:!0})}),!a&&cE("div",{className:`${qn}__buttons`,children:[_c("button",{"aria-label":u("general:sortByLabelDirection",{direction:u("general:ascending"),label:i}),className:[...p,`${qn}__button`].filter(Boolean).join(" "),onClick:()=>void l(m),type:"button",children:_c(He,{direction:"up"})}),_c("button",{"aria-label":u("general:sortByLabelDirection",{direction:u("general:descending"),label:i}),className:[...h,`${qn}__button`].filter(Boolean).join(" "),onClick:()=>void l(f),type:"button",children:_c(He,{})})]})]}),e[8]=s,e[9]=m,e[10]=p,e[11]=f,e[12]=h,e[13]=a,e[14]=l,e[15]=i,e[16]=u,e[17]=C,e[18]=y):y=e[18],y};import{jsx as Qn,jsxs as mE}from"react/jsx-runtime";import{getTranslation as Tc}from"@payloadcms/translations";import{toWords as hE}from"payload/shared";import{useEffect as fE,useMemo as JQ,useState as pE}from"react";import{c as XQ}from"react/compiler-runtime";import{jsx as KC,jsxs as ZQ}from"react/jsx-runtime";import{useId as YQ}from"react";var uE="item-search",dE=t=>{let e=XQ(7),{placeholder:o,setSearchTerm:n}=t,r=YQ(),s=`${r}-label`,i;e[0]!==n?(i=c=>{n(c.target.value)},e[0]=n,e[1]=i):i=e[1];let a=i,l;return e[2]!==a||e[3]!==r||e[4]!==s||e[5]!==o?(l=ZQ("div",{className:uE,children:[KC("label",{className:"sr-only",htmlFor:r,id:s,children:o}),KC("input",{"aria-labelledby":s,className:`${uE}__input`,id:r,onChange:a,placeholder:o,type:"text"}),KC(qi,{})]}),e[2]=a,e[3]=r,e[4]=s,e[5]=o,e[6]=l):l=e[6],l};var Ii="items-drawer",qQ=(t,e)=>{if("labels"in t&&t.labels?.singular){if(typeof t.labels.singular=="string")return t.labels.singular.toLowerCase();if(typeof t.labels.singular=="object")return Tc(t.labels.singular,e).toLowerCase()}if("label"in t&&t.label){if(typeof t.label=="string")return t.label.toLowerCase();if(typeof t.label=="object")return Tc(t.label,e).toLowerCase()}return"slug"in t?hE(t.slug).toLowerCase():""};var QQ=t=>"imageURL"in t?{imageAltText:t.imageAltText,imageURL:t.imageURL}:{imageAltText:void 0,imageURL:void 0},KQ=(t,e)=>{if("labels"in t&&t.labels?.singular)return Tc(t.labels.singular,e);if("label"in t&&t.label){if(typeof t.label=="string")return t.label;if(typeof t.label=="object")return Tc(t.label,e)}return hE(t.slug)},eK=t=>{let{addRowIndex:e,drawerSlug:o,items:n,labels:r,onItemClick:s,searchPlaceholder:i,title:a}=t,[l,c]=pE(""),[u,d]=pE(n),{closeModal:f,isModalOpen:m}=ie(),{i18n:p,t:h}=P(),{config:g}=H(),b=JQ(()=>{let y={_none:[]};return u.forEach(v=>{if(typeof v=="object"&&"admin"in v&&v.admin?.group){let x=v.admin.group,_=typeof x=="string"?x:Tc(x,p);Object.hasOwn(y,_)?y[_].push(v):y[_]=[v]}else y._none.push(v)}),y},[u,p]);fE(()=>{m(o)||c("")},[m,o]),fE(()=>{let y=l.toLowerCase(),v=n?.reduce((x,_)=>{let w;return typeof _=="string"?w=g.blocksMap?.[_]:w=_,w&&qQ(w,p).includes(y)&&x.push(w),x},[]);d(v||[])},[l,n,p,g.blocksMap]);let C=a||(r?h("fields:addLabel",{label:Tc(r.singular,p)}):h("fields:addNew"));return mE(St,{slug:o,title:C,children:[Qn(dE,{placeholder:i||h("fields:searchForBlock"),setSearchTerm:c}),Qn("div",{className:`${Ii}__items-wrapper`,children:Qn("ul",{className:`${Ii}__item-groups`,children:Object.entries(b).map(([y,v])=>v.length?mE("li",{className:[`${Ii}__item-group`,y==="_none"&&`${Ii}__item-group-none`].filter(Boolean).join(" "),children:[y!=="_none"&&Qn("h3",{className:`${Ii}__item-group-label`,children:y}),Qn("ul",{className:`${Ii}__items`,children:v.map((x,_)=>{let w=typeof x=="string"?g.blocksMap?.[x]:x;if(!w)return null;let{imageAltText:T,imageURL:S}=QQ(w),R=KQ(w,p);return Qn("li",{className:`${Ii}__item`,children:Qn(jf,{alignLabel:"center",label:R,onClick:()=>{s(w,e),f(o)},thumbnail:Qn("div",{className:`${Ii}__default-image`,children:S?Qn("img",{alt:T,src:S}):Qn(uu,{})})})},_)})})]},y):null)})})]})};import{c as tK}from"react/compiler-runtime";import{jsx as _g,jsxs as gE}from"react/jsx-runtime";import{useState as oK}from"react";var rK=t=>{let e=tK(24),{field:o,path:n,readOnly:r,useAsSlug:s}=t,{label:i}=o,{t:a}=P(),{collectionSlug:l,globalSlug:c}=Te(),{slugify:u}=Pt(),d=n||o.name,f;e[0]!==d?(f={path:d},e[0]=d,e[1]=f):f=e[1];let{setValue:m,value:p}=Fe(f),{getData:h,getDataByPath:g}=Oe(),[b,C]=oK(!0),y;e[2]!==l||e[3]!==h||e[4]!==g||e[5]!==c||e[6]!==n||e[7]!==m||e[8]!==u||e[9]!==s||e[10]!==p?(y=async S=>{S.preventDefault();let R=g(s),D=await u({collectionSlug:l,data:h(),globalSlug:c,path:n,valueToSlugify:R});if(D==null){m("");return}p!==D&&m(D)},e[2]=l,e[3]=h,e[4]=g,e[5]=c,e[6]=n,e[7]=m,e[8]=u,e[9]=s,e[10]=p,e[11]=y):y=e[11];let v=y,x;e[12]===Symbol.for("react.memo_cache_sentinel")?(x=S=>{S.preventDefault(),C(nK)},e[12]=x):x=e[12];let _=x,w=`field-${n}`,T;return e[13]!==o.name||e[14]!==v||e[15]!==b||e[16]!==i||e[17]!==n||e[18]!==r||e[19]!==m||e[20]!==a||e[21]!==w||e[22]!==p?(T=gE("div",{className:"field-type slug-field-component",children:[gE("div",{className:"label-wrapper",children:[_g(_e,{htmlFor:w,label:i}),!b&&_g(K,{buttonStyle:"none",className:"lock-button",onClick:v,children:a("authentication:generate")}),_g(K,{buttonStyle:"none",className:"lock-button",onClick:_,children:a(b?"general:unlock":"general:lock")})]}),_g(dd,{onChange:m,path:n||o.name,readOnly:!!(r||b),value:p})]}),e[13]=o.name,e[14]=v,e[15]=b,e[16]=i,e[17]=n,e[18]=r,e[19]=m,e[20]=a,e[21]=w,e[22]=p,e[23]=T):T=e[23],T};function nK(t){return!t}import{jsx as bE}from"react/jsx-runtime";import"react";var sK=()=>bE("svg",{"aria-hidden":"true",className:"graphic code-block-icon",focusable:"false",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:bE("path",{className:"stroke",d:"M14 12.6667L16.6667 9.99999L14 7.33332M5.99999 7.33332L3.33333 9.99999L5.99999 12.6667M11.6667 4.66666L8.33333 15.3333",strokeLinecap:"square"})});import{jsx as ex}from"react/jsx-runtime";import"react";var tx="minimize-maximize",iK=({className:t,isMinimized:e})=>{let o=[tx,e?`${tx}--minimized`:`${tx}--maximized`,t].filter(Boolean).join(" ");return ex("svg",{className:o,height:"20",stroke:"currentColor",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:e?ex("path",{d:"M7.33333 4H5.33333C4.97971 4 4.64057 4.14048 4.39052 4.39052C4.14048 4.64057 4 4.97971 4 5.33333V7.33333M16 7.33333V5.33333C16 4.97971 15.8595 4.64057 15.6095 4.39052C15.3594 4.14048 15.0203 4 14.6667 4H12.6667M4 12.6667V14.6667C4 15.0203 4.14048 15.3594 4.39052 15.6095C4.64057 15.8595 4.97971 16 5.33333 16H7.33333M12.6667 16H14.6667C15.0203 16 15.3594 15.8595 15.6095 15.6095C15.8595 15.3594 16 15.0203 16 14.6667V12.6667"}):ex("path",{d:"M7.33333 4V6C7.33333 6.35362 7.19286 6.69276 6.94281 6.94281C6.69276 7.19286 6.35362 7.33333 6 7.33333H4M16 7.33333H14C13.6464 7.33333 13.3072 7.19286 13.0572 6.94281C12.8071 6.69276 12.6667 6.35362 12.6667 6V4M4 12.6667H6C6.35362 12.6667 6.69276 12.8071 6.94281 13.0572C7.19286 13.3072 7.33333 13.6464 7.33333 14V16M12.6667 16V14C12.6667 13.6464 12.8071 13.3072 13.0572 13.0572C13.3072 12.8071 13.6464 12.6667 14 12.6667H16"})})};import{jsx as ox}from"react/jsx-runtime";import"react";var aK="gear",lK=({ariaLabel:t,className:e})=>ox("div",{"aria-label":t,className:[e,aK].filter(Boolean).join(" "),children:ox("svg",{className:"icon icon--gear",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:ox("path",{d:"M9.33337 8.84671L6.66671 4.22671M9.33337 11.1534L6.66671 15.7734M10 16.6667V15.3334M10 15.3334C12.9456 15.3334 15.3334 12.9456 15.3334 10C15.3334 7.05452 12.9456 4.66671 10 4.66671M10 15.3334C7.05452 15.3334 4.66671 12.9456 4.66671 10M10 3.33337V4.66671M10 4.66671C7.05452 4.66671 4.66671 7.05452 4.66671 10M11.3334 10H16.6667M11.3334 10C11.3334 10.7364 10.7364 11.3334 10 11.3334C9.26366 11.3334 8.66671 10.7364 8.66671 10C8.66671 9.26366 9.26366 8.66671 10 8.66671C10.7364 8.66671 11.3334 9.26366 11.3334 10ZM13.3334 15.7734L12.6667 14.62M13.3334 4.22671L12.6667 5.38004M3.33337 10H4.66671M15.7734 13.3334L14.62 12.6667M15.7734 6.66671L14.62 7.33337M4.22671 13.3334L5.38004 12.6667M4.22671 6.66671L5.38004 7.33337",strokeLinecap:"round",strokeLinejoin:"round"})})});import{jsx as gm,jsxs as cK}from"react/jsx-runtime";import"react";function uK(){return cK("svg",{className:"icon icon--move-folder",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[gm("g",{filter:"url(#filter0_d_278_1086)",children:gm("path",{d:"M5.33334 10V7.33334C5.33334 6.97971 5.47382 6.64058 5.72387 6.39053C5.97392 6.14048 6.31305 6 6.66668 6H9.26668C9.48967 5.99782 9.70965 6.0516 9.90648 6.15642C10.1033 6.26124 10.2707 6.41375 10.3933 6.6L10.9333 7.4C11.0547 7.58436 11.22 7.73568 11.4143 7.84041C11.6087 7.94513 11.8259 7.99997 12.0467 8H17.3333C17.687 8 18.0261 8.14048 18.2762 8.39053C18.5262 8.64058 18.6667 8.97971 18.6667 9.33334V16C18.6667 16.3536 18.5262 16.6928 18.2762 16.9428C18.0261 17.1929 17.687 17.3333 17.3333 17.3333H6.66668C6.31305 17.3333 5.97392 17.1929 5.72387 16.9428C5.47382 16.6928 5.33334 16.3536 5.33334 16V15.3333M5.33334 12.6667H12M12 12.6667L10 14.6667M12 12.6667L10 10.6667",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})}),gm("defs",{children:gm("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"26",id:"filter0_d_278_1086",width:"26",x:"-1",y:"-1",children:gm("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_278_1086",mode:"normal",result:"shape"})})})]})}import{jsx as Tg,jsxs as dK}from"react/jsx-runtime";import"react";var rx=()=>dK("svg",{className:"icon icon--grid-view",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[Tg("path",{d:"M8 4H4.66667C4.29848 4 4 4.29848 4 4.66667V8C4 8.36819 4.29848 8.66667 4.66667 8.66667H8C8.36819 8.66667 8.66667 8.36819 8.66667 8V4.66667C8.66667 4.29848 8.36819 4 8 4Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),Tg("path",{d:"M15.3333 4H12C11.6318 4 11.3333 4.29848 11.3333 4.66667V8C11.3333 8.36819 11.6318 8.66667 12 8.66667H15.3333C15.7015 8.66667 16 8.36819 16 8V4.66667C16 4.29848 15.7015 4 15.3333 4Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),Tg("path",{d:"M15.3333 11.3333H12C11.6318 11.3333 11.3333 11.6318 11.3333 12V15.3333C11.3333 15.7015 11.6318 16 12 16H15.3333C15.7015 16 16 15.7015 16 15.3333V12C16 11.6318 15.7015 11.3333 15.3333 11.3333Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),Tg("path",{d:"M8 11.3333H4.66667C4.29848 11.3333 4 11.6318 4 12V15.3333C4 15.7015 4.29848 16 4.66667 16H8C8.36819 16 8.66667 15.7015 8.66667 15.3333V12C8.66667 11.6318 8.36819 11.3333 8 11.3333Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]});import{jsx as vE}from"react/jsx-runtime";import"react";var nx=()=>vE("svg",{className:"icon icon--list-view",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:vE("path",{d:"M4 10H16M4 14H16M4 6H16",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})});import{jsx as yE,jsxs as mK}from"react/jsx-runtime";import"react";var sx=()=>mK("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[yE("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-error-500)"}),yE("path",{d:"M15.4001 10.5996L10.6001 15.3996M10.6001 10.5996L15.4001 15.3996",stroke:"var(--theme-error-50)",strokeLinecap:"round",strokeLinejoin:"round"})]});import{jsx as CE,jsxs as fK}from"react/jsx-runtime";import"react";var ix=()=>fK("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[CE("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-elevation-500)"}),CE("path",{d:"M13 16.1998V12.9998M13 9.7998H13.0077",stroke:"var(--theme-elevation-50)",strokeLinecap:"round",strokeLinejoin:"round"})]});import{jsx as xE,jsxs as pK}from"react/jsx-runtime";import"react";var ax=()=>pK("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[xE("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-success-500)"}),xE("path",{d:"M10.6001 13.0004L12.2001 14.6004L15.4001 11.4004",stroke:"var(--theme-success-50)",strokeLinecap:"round",strokeLinejoin:"round"})]});import{jsx as wE,jsxs as hK}from"react/jsx-runtime";import"react";var lx=()=>hK("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[wE("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-warning-500)"}),wE("path",{d:"M13 10V13.2M13 16.4H13.008",stroke:"var(--theme-warning-50)",strokeLinecap:"round",strokeLinejoin:"round"})]});import{c as IE}from"react/compiler-runtime";import{jsx as SE}from"react/jsx-runtime";import Fc from"react";var _E=Fc.createContext({addClientFunction:()=>null,removeClientFunction:()=>null}),TE=Fc.createContext({}),cx=t=>{let e=IE(6),{children:o}=t,n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={},e[0]=n):n=e[0];let[r,s]=Fc.useState(n),i;e[1]===Symbol.for("react.memo_cache_sentinel")?(i=d=>{s(f=>{let m={...f};return m[d.key]=d.func,m})},e[1]=i):i=e[1];let a=i,l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=d=>{s(f=>{let m={...f};return delete m[d.key],m})},e[2]=l):l=e[2];let c=l,u;return e[3]!==o||e[4]!==r?(u=SE(_E,{value:{addClientFunction:a,removeClientFunction:c},children:SE(TE,{value:r,children:o})}),e[3]=o,e[4]=r,e[5]=u):u=e[5],u},gK=(t,e)=>{let o=IE(6),{addClientFunction:n,removeClientFunction:r}=Fc.use(_E),s,i;o[0]!==n||o[1]!==e||o[2]!==t||o[3]!==r?(s=()=>(n({func:e,key:t}),()=>{r({func:e,key:t})}),i=[e,t,n,r],o[0]=n,o[1]=e,o[2]=t,o[3]=r,o[4]=s,o[5]=i):(s=o[4],i=o[5]),Fc.useEffect(s,i)},bK=()=>Fc.use(TE);import{jsx as EE}from"react/jsx-runtime";import{DndContext as wK}from"@dnd-kit/core";import dx,{useCallback as Fg,useEffect as bm,useMemo as SK,useRef as IK,useState as Kn}from"react";import{c as vK}from"react/compiler-runtime";import{useEffect as FE,useRef as RE,useState as yK}from"react";var DE=t=>{let e=vK(15),{eventType:o,onMessage:n,url:r}=t,s=RE(!1),[i,a]=yK(!1),{config:l}=H(),{serverURL:c}=l,u=RE(null),d,f;e[0]!==o||e[1]!==i||e[2]!==n||e[3]!==c||e[4]!==r?(d=()=>{let C=async y=>{y.origin!==window.location.origin||y.origin!==r||y.origin!==c||typeof n=="function"&&y.data?.type===o&&!s.current&&(s.current=!0,await n(y.data?.searchParams),s.current=!1)};return i&&u.current&&window.addEventListener("message",C,!1),()=>{window.removeEventListener("message",C)}},f=[n,o,r,c,i],e[0]=o,e[1]=i,e[2]=n,e[3]=c,e[4]=r,e[5]=d,e[6]=f):(d=e[5],f=e[6]),FE(d,f);let m;e[7]!==r?(m=C=>{C&&C.preventDefault();let y={height:700,left:"auto",menubar:"no",popup:"yes",toolbar:"no",top:"auto",width:800},v=Object.entries(y).reduce((_,w)=>{let[T,S]=w,R=_;if(S==="auto"){if(T==="top"){let D=Math.round(window.innerHeight/2-y.height/2);R=R+`top=${D},`}else if(T==="left"){let D=Math.round(window.innerWidth/2-y.width/2);R=R+`left=${D},`}return R}return R=R+`${T}=${S},`,R},"").slice(0,-1),x=window.open(r,"_blank",v);u.current=x,a(!0)},e[7]=r,e[8]=m):m=e[8];let p=m,h,g;e[9]!==i?(h=()=>{let C;return i?C=setInterval(function(){u.current.closed&&(clearInterval(C),a(!1))},1e3):clearInterval(C),()=>{C&&clearInterval(C)}},g=[i,u],e[9]=i,e[10]=h,e[11]=g):(h=e[10],g=e[11]),FE(h,g);let b;return e[12]!==i||e[13]!==p?(b={isPopupOpen:i,openPopupWindow:p,popupRef:u},e[12]=i,e[13]=p,e[14]=b):b=e[14],b};var CK=t=>{try{return new URL(t,window.location.origin).href}catch{return t}},ux=t=>t?.startsWith("http://")||t?.startsWith("https://")?t:CK(t);import{rectIntersection as xK}from"@dnd-kit/core";var AE=({collisionRect:t,droppableContainers:e,...o})=>{let n=e.find(({id:a})=>a==="live-preview-area"),r=xK({...o,collisionRect:t,droppableContainers:[n]});if(r.length===0)return r;let s=n?.rect?.current;if(t.top>=s.top&&t.left>=s.left&&t.bottom<=s.bottom&&t.right<=s.right)return r};var PE=(t,e)=>{switch(e.type){case"height":return{...t,height:e.value};case"width":return{...t,width:e.value};default:return{...t,...e?.value||{}}}};var _K=({breakpoints:t,children:e,isLivePreviewEnabled:o,isLivePreviewing:n,isPreviewEnabled:r,previewURL:s,typeofLivePreviewURL:i,url:a})=>{let[l,c]=Kn("iframe"),[u,d]=Kn(n),f=SK(()=>[...t||[],{name:"responsive",height:"100%",label:"Responsive",width:"100%"}],[t]),[m,p]=Kn(""),[h,g]=Kn(s),{isPopupOpen:b,openPopupWindow:C,popupRef:y}=DE({eventType:"payload-live-preview",url:m}),[v,x]=Kn(!1),[_,w]=Kn(!1),{collectionSlug:T,globalSlug:S}=Te(),R=IK(!0),{setPreference:D}=so(),I=dx.useRef(null),[F,A]=Kn(),[k,L]=Kn(1),[N,B]=Kn({x:0,y:0}),[j,E]=dx.useReducer(PE,{height:0,width:0}),[$,M]=Kn({height:0,width:0}),[O,G]=dx.useState("responsive"),W=Fg(X=>{let ae;typeof X=="string"&&(ae=ux(X)),ae||d(!1),ae!==m&&(x(!1),p(ae))},[m]);bm(()=>{typeof a=="string"&&p(ux(a))},[a]);let U=X=>{if(X.over&&X.over.id==="live-preview-area"){let ae={x:N.x+X.delta.x,y:N.y+X.delta.y};B(ae)}},z=Fg(X=>{E({type:"width",value:X})},[E]),J=Fg(X=>{E({type:"height",value:X})},[E]);bm(()=>{let X=f?.find(ae=>ae.name===O);X&&O!=="responsive"&&O!=="custom"&&typeof X?.width=="number"&&typeof X?.height=="number"&&E({type:"reset",value:{height:X.height,width:X.width}})},[O,f]),bm(()=>{let X=ae=>{m?.startsWith(ae.origin)&&ae.data&&typeof ae.data=="object"&&ae.data.type==="payload-live-preview"&&ae.data.ready&&x(!0)};return window.addEventListener("message",X),w(!0),()=>{window.removeEventListener("message",X)}},[m,_]);let Z=Fg(X=>{x(!1),c(X),X==="popup"&&C()},[C]);return bm(()=>{(b?"popup":"iframe")!==l&&Z("iframe")},[l,b,Z]),bm(()=>{if(R.current){R.current=!1;return}D(T?`collection-${T}`:`global-${S}`,{editViewType:u?"live-preview":"default"},!0)},[u,D,T,S]),EE(Jh,{value:{appIsReady:v,breakpoint:O,breakpoints:f,iframeRef:I,isLivePreviewEnabled:o,isLivePreviewing:u,isPopupOpen:b,isPreviewEnabled:r,listeningForMessages:_,loadedURL:F,measuredDeviceSize:$,openPopupWindow:C,popupRef:y,previewURL:h,previewWindowType:l,setAppIsReady:x,setBreakpoint:G,setHeight:J,setIsLivePreviewing:d,setLoadedURL:A,setMeasuredDeviceSize:M,setPreviewURL:g,setPreviewWindowType:Z,setSize:E,setToolbarPosition:B,setURL:W,setWidth:z,setZoom:L,size:j,toolbarPosition:N,typeofLivePreviewURL:i,url:m,zoom:k},children:EE(wK,{collisionDetection:AE,onDragEnd:U,children:e})})};import{c as TK}from"react/compiler-runtime";import{jsx as NE}from"react/jsx-runtime";import FK,{useEffect as RK,useRef as DK}from"react";var LE=200,mx="progress-bar",AK=150,PK=()=>{let t=TK(9),{isTransitioning:e,transitionProgress:o}=Xe(),[n,r]=FK.useState(null),s=DK(!0),i,a;if(t[0]!==e||t[1]!==o?(i=()=>{let l,c;return e?s.current?c=setTimeout(()=>{r(o),s.current=!1},AK):r(o):(s.current=!0,r(1),l=setTimeout(()=>{r(null)},LE*2)),()=>{clearTimeout(l),clearTimeout(c)}},a=[e,o],t[0]=e,t[1]=o,t[2]=i,t[3]=a):(i=t[2],a=t[3]),RK(i,a),typeof n=="number"){let l=n===1&&`${mx}--fade-out`,c;t[4]!==l?(c=[mx,l].filter(Boolean),t[4]=l,t[5]=c):c=t[5];let u=c.join(" "),d;return t[6]!==n||t[7]!==u?(d=NE("div",{className:u,style:{"--transition-duration":`${LE}ms`},children:NE("div",{className:`${mx}__progress`,style:{width:`${(n||0)*100}%`}})}),t[6]=n,t[7]=u,t[8]=d):d=t[8],d}return null};import{c as EK}from"react/compiler-runtime";import{jsx as NK}from"react/jsx-runtime";import{createContext as LK,use as kK}from"react";var kE=LK({}),jK=t=>{let e=EK(6),{children:o,visibleEntities:n}=t,r;e[0]!==n?(r=a=>{let{collectionSlug:l,globalSlug:c}=a;return l?n.collections.includes(l):c?n.globals.includes(c):!1},e[0]=n,e[1]=r):r=e[1];let s=r,i;return e[2]!==o||e[3]!==s||e[4]!==n?(i=NK(kE,{value:{isEntityVisible:s,visibleEntities:n},children:o}),e[2]=o,e[3]=s,e[4]=n,e[5]=i):i=e[5],i},fx=()=>kK(kE);import{c as $K}from"react/compiler-runtime";import{jsx as BK}from"react/jsx-runtime";import{useParams as MK}from"next/navigation.js";import{createContext as OK,use as VK}from"react";var jE=OK({}),px=t=>{let e=$K(3),{children:o}=t,n=MK(),r;return e[0]!==o||e[1]!==n?(r=BK(jE,{value:n,children:o}),e[0]=o,e[1]=n,e[2]=r):r=e[2],r},GK=()=>VK(jE);import{c as aee}from"react/compiler-runtime";import{jsx as Yt,jsxs as bx}from"react/jsx-runtime";import{DndContext as lee,pointerWithin as cee}from"@dnd-kit/core";import Qat,{Fragment as Kat}from"react";import{useContext as WK}from"react";import{createContext as zK}from"react";var vm=zK({});var ym=()=>WK(vm);import HK,{useCallback as UK,useEffect as XK,useReducer as ZK,useRef as YK}from"react";var JK=(t,e)=>{let{timestamp:o,animationRef:n}=e;n.current=null;let{x:r,y:s,xDirection:i,yDirection:a,eventsFired:l,hasScrolled:c}=t,u=c||!!o,d=u?window.pageXOffset:0,f=u?window.pageYOffset:0,m=u?l+1:l,p=d-r,h=f-s,g=d/(document.body.scrollWidth-window.innerWidth)*100,b=f/(document.body.scrollHeight-window.innerHeight)*100,C=(g+b)/2,y=p>0?"right":p<0?"left":i,v=h>0?"down":h<0?"up":a;return{x:d,y:f,xDifference:p,yDifference:h,xDirection:y,yDirection:v,xPercentage:g,yPercentage:b,totalPercentage:C,eventsFired:m,hasScrolled:u}},Cm=t=>{let{children:e}=t,o=YK(null),[n,r]=ZK(JK,{x:0,y:0,xDifference:0,yDifference:0,xDirection:void 0,yDirection:void 0,xPercentage:0,yPercentage:0,totalPercentage:0,eventsFired:0,hasScrolled:!1}),s=UK(i=>{o.current&&cancelAnimationFrame(o.current),o.current=requestAnimationFrame(a=>{r({e:i,timestamp:a,animationRef:o})})},[]);return XK(()=>(window.addEventListener("scroll",s),()=>{window.removeEventListener("scroll",s)}),[s]),HK.createElement(vm.Provider,{value:Object.assign({},n)},e&&e)};import ilt from"react";import uee from"react";import{c as qK}from"react/compiler-runtime";import{usePathname as QK}from"next/navigation.js";import{useEffect as KK,useRef as eee}from"react";function $E(){let t=qK(6),{closeAllModals:e}=ie(),o=QK(),n;t[0]!==e?(n=()=>{e()},t[0]=e,t[1]=n):n=t[1];let r=Je(n),s=eee(!0),i;t[2]!==r?(i=()=>{if(s.current){s.current=!1;return}r()},t[2]=r,t[3]=i):i=t[3];let a;return t[4]!==o?(a=[o],t[4]=o,t[5]=a):a=t[5],KK(i,a),null}var{WindowInfoProvider:hx}=bi&&"WindowInfoProvider"in bi?bi:{WindowInfoProvider:void 0},{useWindowInfo:Va}=bi&&"useWindowInfo"in bi?bi:{useWindowInfo:void 0};import{jsx as tee}from"react/jsx-runtime";import{useSearchParams as oee}from"next/navigation.js";import*as Rg from"qs-esm";import BE,{createContext as ree,use as nee}from"react";var see={searchParams:{},stringifyParams:()=>""},ME=ree(see),gx=({children:t})=>{let o=oee().toString(),n=BE.useMemo(()=>Rg.parse(o,{depth:10,ignoreQueryPrefix:!0}),[o]),r=BE.useCallback(({params:s,replace:i=!1})=>Rg.stringify({...i?{}:n,...s},{addQueryPrefix:!0}),[n]);return tee(ME,{value:{searchParams:n,stringifyParams:r},children:t})},iee=()=>nee(ME);import{jsx as xm}from"react/jsx-runtime";import"react";var OE=({config:t})=>{let{admin:{toast:{duration:e,expand:o,limit:n,position:r}={}}={}}=t;return xm(iw,{className:"payload-toast-container",closeButton:!0,dir:"undefined",duration:e??4e3,expand:o??!1,gap:8,icons:{error:xm(sx,{}),info:xm(ix,{}),success:xm(ax,{}),warning:xm(lx,{})},offset:"calc(var(--gutter-h) / 2)",position:r??"bottom-right",toastOptions:{classNames:{closeButton:"payload-toast-close-button",content:"toast-content",error:"toast-error",icon:"toast-icon",info:"toast-info",success:"toast-success",title:"toast-title",toast:"payload-toast-item",warning:"toast-warning"},unstyled:!0},visibleToasts:n??5})};var dee=t=>{let e=aee(16),{children:o,config:n,dateFNSKey:r,fallbackLang:s,isNavOpen:i,languageCode:a,languageOptions:l,locale:c,permissions:u,serverFunction:d,switchLanguageServerAction:f,theme:m,translations:p,user:h}=t,g=uee.useId(),b;return e[0]!==o||e[1]!==n||e[2]!==r||e[3]!==g||e[4]!==s||e[5]!==i||e[6]!==a||e[7]!==l||e[8]!==c||e[9]!==u||e[10]!==d||e[11]!==f||e[12]!==m||e[13]!==p||e[14]!==h?(b=bx(y4,{children:[Yt(Nv,{serverFunction:d,children:Yt(yb,{children:Yt(N0,{cachingEnabled:process.env.NEXT_PUBLIC_ENABLE_ROUTER_CACHE_REFRESH==="true",children:Yt(qg,{config:n,children:Yt(cx,{children:Yt(Jg,{dateFNSKey:r,fallbackLang:s,language:a,languageOptions:l,switchLanguageServerAction:f,translations:p,children:Yt(hx,{breakpoints:{l:"(max-width: 1440px)",m:"(max-width: 1024px)",s:"(max-width: 768px)",xs:"(max-width: 400px)"},children:Yt(Cm,{children:Yt(gx,{children:bx(Jb,{classPrefix:"payload",transTime:0,zIndex:"var(--z-modal)",children:[Yt($E,{}),bx(t1,{permissions:u,user:h,children:[Yt(f1,{children:Yt(Kg,{theme:m,children:Yt(px,{children:Yt(o1,{locale:c,children:Yt(Ay,{children:Yt(jT,{children:Yt(a0,{children:Yt(Ry,{initialIsOpen:i,children:Yt(S0,{children:Yt(lee,{collisionDetection:cee,id:g,children:o})})})})})})})})})}),Yt(Xb,{}),Yt(x2,{})]})]})})})})})})})})})}),Yt(OE,{config:n})]}),e[0]=o,e[1]=n,e[2]=r,e[3]=g,e[4]=s,e[5]=i,e[6]=a,e[7]=l,e[8]=c,e[9]=u,e[10]=d,e[11]=f,e[12]=m,e[13]=p,e[14]=h,e[15]=b):b=e[15],b};import{jsx as Dg,jsxs as mee}from"react/jsx-runtime";import{email as fee,getFieldPermissions as pee,username as hee}from"payload/shared";import"react";var gee="login-fields";function vx(t){let{className:e,loginWithUsername:o,operation:n,permissions:r,readOnly:s,t:i}=t;function a(p,h){return pee({field:{name:p,type:"text"},operation:n==="create"?"create":h,parentName:"",permissions:r}).operation}let l=typeof r=="object"&&"email"in r&&r.email,c=typeof r=="object"&&"username"in r&&r.username,u=l?{read:a("email","read"),update:a("email","update")}:{read:!0,update:!0},d=c?{read:a("username","read"),update:a("username","update")}:{read:!0,update:!0},f=(!o||o?.requireEmail||o?.allowEmailLogin)&&u.read,m=!!o&&d.read;if(f||m)return mee("div",{className:[gee,e&&e].filter(Boolean).join(" "),children:[f?Dg(gs,{value:"email",children:Dg(aa,{field:{name:"email",admin:{autoComplete:"off"},label:i("general:email"),required:!o||o&&o.requireEmail},path:"email",readOnly:s||!u.update,schemaPath:"email",validate:fee})}):null,m&&Dg(gs,{value:"username",children:Dg(va,{field:{name:"username",admin:{autoComplete:"off"},label:i("authentication:username"),required:o&&o.requireUsername},path:"username",readOnly:s||!d.update,schemaPath:"username",validate:hee})})]})}import{c as bee}from"react/compiler-runtime";import{jsx as vee}from"react/jsx-runtime";import"react";var VE="select-all",yee=()=>{let t=bee(7),{selectAll:e,toggleAll:o}=Co(),{i18n:n}=P(),r;if(t[0]!==n||t[1]!==e||t[2]!==o){let s;t[4]===Symbol.for("react.memo_cache_sentinel")?(s=[VE,`${VE}__checkbox`],t[4]=s):s=t[4];let i;t[5]!==o?(i=()=>o(),t[5]=o,t[6]=i):i=t[6],r=vee(po,{"aria-label":e===Zt.None?n.t("general:selectAllRows"):n.t("general:deselectAllRows"),checked:e===Zt.AllInPage||e===Zt.AllAvailable,className:s.join(" "),id:"select-all",name:"select-all",onToggle:i,partialChecked:e===Zt.Some}),t[0]=n,t[1]=e,t[2]=o,t[3]=r}else r=t[3];return r};import{c as Cee}from"react/compiler-runtime";import{jsx as GE}from"react/jsx-runtime";import"react";var zE="select-row",xee=t=>{let e=Cee(13),{rowData:o}=t,{user:n}=Se(),{selected:r,setSelection:s}=Co(),i;if(e[0]!==o||e[1]!==n?.id){i=Symbol.for("react.early_return_sentinel");e:{let{_isLocked:f,_userEditing:m}=o||{};if(f&&m&&m.id!==n?.id){i=GE(nm,{user:m});break e}}e[0]=o,e[1]=n?.id,e[2]=i}else i=e[2];if(i!==Symbol.for("react.early_return_sentinel"))return i;let a;e[3]!==o.id||e[4]!==r?(a=r.get(o.id),e[3]=o.id,e[4]=r,e[5]=a):a=e[5];let l=!!a,c;e[6]===Symbol.for("react.memo_cache_sentinel")?(c=[zE,`${zE}__checkbox`],e[6]=c):c=e[6];let u;e[7]!==o.id||e[8]!==s?(u=()=>s(o.id),e[7]=o.id,e[8]=s,e[9]=u):u=e[9];let d;return e[10]!==l||e[11]!==u?(d=GE(po,{checked:l,className:c.join(" "),onToggle:u}),e[10]=l,e[11]=u,e[12]=d):d=e[12],d};import{jsxs as wee}from"react/jsx-runtime";import"react";var Rc=t=>{let{onClick:e}=t,{count:o,selected:n}=Co(),{t:r}=P();return!n||!o?null:wee(tt,{onClick:()=>{typeof e=="function"&&e(n)},pillStyle:"white",size:"small",children:[r("general:select")," ",o]})};import{jsx as oo,jsxs as wm}from"react/jsx-runtime";import{getTranslation as Sm}from"@payloadcms/translations";import{useRouter as See}from"next/navigation.js";import{formatAdminURL as Iee,formatFilesize as _ee}from"payload/shared";import WE,{Fragment as HE,useEffect as Tee}from"react";var _i="collection-list";function Fee(t){let{AfterList:e,AfterListTable:o,beforeActions:n,BeforeList:r,BeforeListTable:s,collectionSlug:i,columnState:a,Description:l,disableBulkDelete:c,disableBulkEdit:u,disableQueryPresets:d,enableRowSelections:f,hasCreatePermission:m,hasDeletePermission:p,listMenuItems:h,newDocumentURL:g,queryPreset:b,queryPresetPermissions:C,renderedFilters:y,resolvedFilterOptions:v,Table:x,viewType:_}=t,[w]=nr(x),{allowCreate:T,createNewDrawerSlug:S,isInDrawer:R,onBulkSelect:D}=Fr(),I=T!==void 0?T&&m:m,{config:{routes:{admin:F},serverURL:A},getEntityConfig:k}=H(),L=See(),{data:N,isGroupingBy:B}=lt(),{openModal:j}=ie(),{drawerSlug:E,setCollectionSlug:$,setOnSuccess:M}=Vo(),O=k({collectionSlug:i}),{labels:G,upload:W}=O,U=!!W,z=U&&O.upload.bulkUpload,J=!!O.trash,{i18n:Z}=P(),{setStepNav:X}=kr(),{breakpoints:{s:ae}}=Va(),Y=WE.useMemo(()=>U?N.docs.map(Q=>({...Q,filesize:_ee(Q.filesize)})):N?.docs,[N?.docs,U]),ne=WE.useCallback(()=>{$(i),j(E),M(()=>L.refresh())},[L,i,E,j,$,M]);return Tee(()=>{if(!R){let Q={label:Sm(G?.plural,Z),url:J&&_==="trash"?Iee({adminRoute:F,path:`/collections/${i}`}):void 0},de={label:Z.t("general:trash")};X(J&&_==="trash"?[Q,de]:[Q])}},[F,X,A,G,R,J,_,Z,i]),wm(HE,{children:[oo($u,{collectionSlug:i,columnState:a,children:oo("div",{className:`${_i} ${_i}--${i}`,children:wm(ky,{docs:Y,totalDocs:N?.totalDocs,children:[r,wm(To,{className:`${_i}__wrap`,children:[oo(jC,{collectionConfig:O,Description:oo("div",{className:`${_i}__sub-header`,children:oo(ue,{CustomComponent:l,Fallback:oo(hy,{collectionSlug:i,description:O?.admin?.description})})}),disableBulkDelete:c,disableBulkEdit:u,hasCreatePermission:I,hasDeletePermission:p,i18n:Z,isBulkUploadEnabled:z&&!W.hideFileInputOnCreate,isTrashEnabled:J,newDocumentURL:g,openBulkUpload:ne,smallBreak:ae,viewType:_}),oo(SC,{beforeActions:f&&typeof D=="function"?n?[...n,oo(Rc,{onClick:D},"select-many")]:[oo(Rc,{onClick:D},"select-many")]:n,collectionConfig:O,collectionSlug:i,disableQueryPresets:O?.enableQueryPresets!==!0||d,listMenuItems:h,queryPreset:b,queryPresetPermissions:C,renderedFilters:y,resolvedFilterOptions:v}),s,Y?.length>0&&oo("div",{className:`${_i}__tables`,children:oo(Vu,{children:w})}),Y?.length===0&&wm("div",{className:`${_i}__no-results`,children:[oo("p",{children:Z.t(_==="trash"?"general:noTrashResults":"general:noResults",{label:Sm(G?.plural,Z)})}),I&&g&&_!=="trash"&&oo(HE,{children:R?oo(K,{el:"button",onClick:()=>j(S),children:Z.t("general:createNewLabel",{label:Sm(G?.singular,Z)})}):oo(K,{el:"link",to:g,children:Z.t("general:createNewLabel",{label:Sm(G?.singular,Z)})})})]}),o,Y?.length>0&&!B&&oo(vg,{AfterPageControls:ae?wm("div",{className:`${_i}__list-selection`,children:[oo(Ba,{collectionConfig:O,disableBulkDelete:c,disableBulkEdit:u,label:Sm(O.labels.plural,Z),showSelectAllAcrossPages:!B}),oo("div",{className:`${_i}__list-selection-actions`,children:f&&typeof D=="function"?n?[...n,oo(Rc,{onClick:D},"select-many")]:[oo(Rc,{onClick:D},"select-many")]:n})]}):null,collectionConfig:O})]}),e]})})}),Y?.length>0&&B&&N.totalPages>1&&oo(OC,{children:oo(vg,{collectionConfig:O})})]})}import{c as t5}from"react/compiler-runtime";import{jsx as vo,jsxs as _m}from"react/jsx-runtime";import{useDndMonitor as Wee}from"@dnd-kit/core";import{getTranslation as Ga}from"@payloadcms/translations";import{useRouter as Hee}from"next/navigation.js";import{formatAdminURL as e5}from"payload/shared";import Uee,{Fragment as Xee}from"react";import{jsx as es,jsxs as UE,Fragment as Ree}from"react/jsx-runtime";import{getTranslation as XE}from"@payloadcms/translations";import{useRouter as Dee}from"next/navigation.js";import{formatAdminURL as Aee}from"payload/shared";import Pee from"react";var yx="move-to-folder--current-folder",ZE="confirm-many-delete",Eee="current-folder-actions";function Ag({className:t}){let e=Dee(),{startRouteTransition:o}=Xe(),{breadcrumbs:n,currentFolder:r,folderCollectionConfig:s,folderCollectionSlug:i,folderFieldName:a,folderID:l,getFolderRoute:c,moveToFolder:u}=Gt(),[d,,{closeDrawer:f,openDrawer:m}]=Lt({id:l,collectionSlug:i}),{clearRouteCache:p}=bt(),{config:h}=H(),{routes:g}=h,{closeModal:b,openModal:C}=ie(),{i18n:y,t:v}=P(),x=Pee.useCallback(async()=>{await fetch(Aee({apiRoute:g.api,path:`/${i}/${l}?depth=0`}),{credentials:"include",method:"DELETE"}),o(()=>{e.push(c(n[n.length-2]?.id||null))})},[n,i,l,c,e,g.api,o]);return l?UE(Ree,{children:[es(st,{button:es(ng,{}),className:[Eee,t].filter(Boolean).join(" "),render:()=>UE(we.ButtonGroup,{children:[es(we.Button,{onClick:()=>{m()},children:v("general:editLabel",{label:XE(s.labels.singular,y)})}),es(we.Button,{onClick:()=>{C(yx)},children:v("folder:moveFolder")}),es(we.Button,{onClick:()=>{C(ZE)},children:v("folder:deleteFolder")})]})}),es(ql,{action:"moveItemToFolder",drawerSlug:yx,folderAssignedCollections:r?.value.folderType,folderCollectionSlug:i,folderFieldName:a,fromFolderID:r?.value.id,fromFolderName:r?.value._folderOrDocumentTitle,itemsToMove:[r],onConfirm:async({id:_,name:w})=>{await u({itemsToMove:[r],toFolderID:_}),_?oe.success(v("folder:itemHasBeenMoved",{folderName:`"${w}"`,title:r.value._folderOrDocumentTitle})):oe.success(v("folder:itemHasBeenMovedToRoot",{title:r.value._folderOrDocumentTitle})),b(yx)},title:r.value._folderOrDocumentTitle}),es(et,{body:es(Kt,{elements:{1:({children:_})=>es("strong",{children:_})},i18nKey:"general:aboutToDelete",t:v,variables:{label:XE(s.labels.singular,y),title:r.value._folderOrDocumentTitle}}),confirmingLabel:v("general:deleting"),heading:v("general:confirmDeletion"),modalSlug:ZE,onConfirm:x}),es(d,{onSave:()=>{f(),p()}})]}):null}import{jsx as Pg,jsxs as Nee}from"react/jsx-runtime";import{DragOverlay as Lee}from"@dnd-kit/core";var Cx="drag-overlay-selection";function Eg({item:t,selectedCount:e}){return Pg(Lee,{dropAnimation:null,modifiers:[kee],style:{height:"unset",maxWidth:"220px"},children:Nee("div",{className:`${Cx}__cards`,children:[Array.from({length:e>1?2:1}).map((o,n)=>Pg("div",{className:`${Cx}__card`,style:{right:`${n*3}px`,top:`-${n*3}px`},children:Pg(ZC,{id:null,isSelected:!0,itemKey:"overlay-card",title:t.value._folderOrDocumentTitle,type:"folder"})},n)),e>1?Pg("span",{className:`${Cx}__card-count`,children:e}):null]})})}var kee=({activatorEvent:t,draggingNodeRect:e,transform:o})=>{if(e&&t){let n=$w(t);if(!n)return o;let r=n.x-e.left,s=n.y-e.top;return{...o,x:o.x+r+5,y:o.y+s+5}}return o};import{jsx as $r,jsxs as Ng,Fragment as wx}from"react/jsx-runtime";import"react";var Im="sort-by-pill",xx=[{label:t=>t("general:name"),value:"name"},{label:t=>t("general:createdAt"),value:"createdAt"},{label:t=>t("general:updatedAt"),value:"updatedAt"}],YE=[{label:t=>Ng(wx,{children:[$r(ry,{}),t("general:ascending")]}),value:"asc"},{label:t=>Ng(wx,{children:[$r(Od,{}),t("general:descending")]}),value:"desc"}];function Lg(){let{refineFolderData:t,sort:e}=Gt(),{t:o}=P(),n=e.startsWith("-")?"desc":"asc",[r]=xx.filter(({value:i})=>i===(e.startsWith("-")?e.slice(1):e))||xx,[s]=YE.filter(({value:i})=>i===n);return $r(st,{button:Ng(tt,{className:`${Im}__trigger`,icon:$r(He,{}),size:"small",children:[n==="asc"?$r(ry,{className:`${Im}__sort-icon`}):$r(Od,{className:`${Im}__sort-icon`}),r?.label(o)]}),className:Im,horizontalAlign:"right",render:({close:i})=>Ng(wx,{children:[$r(we.GroupLabel,{label:"Sort by"}),$r(we.ButtonGroup,{children:xx.map(({label:a,value:l})=>$r(we.Button,{active:r?.value===l,onClick:()=>{t({query:{page:"1",sort:n==="desc"?`-${l}`:l},updateURL:!0}),i()},children:a(o)},l))}),$r(we.Divider,{}),$r(we.GroupLabel,{label:"Order"}),$r(we.ButtonGroup,{children:YE.map(({label:a,value:l})=>$r(we.Button,{active:s?.value===l,className:`${Im}__order-option`,onClick:()=>{n!==l&&(t({query:{page:"1",sort:l==="desc"?`-${r?.value}`:r?.value},updateURL:!0}),i())},children:a(o)},l))})]}),showScrollbar:!0,verticalAlign:"bottom"})}import{jsx as kg,jsxs as jee,Fragment as $ee}from"react/jsx-runtime";var jg="folder-view-toggle-button";function $g({activeView:t,setActiveView:e}){return jee($ee,{children:[kg(K,{buttonStyle:"pill",className:[jg,t==="grid"&&`${jg}--active`].filter(Boolean).join(" "),icon:kg(rx,{}),margin:!1,onClick:()=>{e("grid")}}),kg(K,{buttonStyle:"pill",className:[jg,t==="list"&&`${jg}--active`].filter(Boolean).join(" "),icon:kg(nx,{}),margin:!1,onClick:()=>{e("list")}})]})}import{c as Oee}from"react/compiler-runtime";import{jsx as Os,jsxs as QE}from"react/jsx-runtime";import{extractID as KE}from"payload/shared";import Vee,{Fragment as Gee}from"react";import{jsx as JE,jsxs as Bee,Fragment as Mee}from"react/jsx-runtime";var qE=({id:t,folderCollectionSlug:e})=>{let{clearRouteCache:o}=bt(),{t:n}=P(),[r,,{closeDrawer:s,openDrawer:i}]=Lt({id:t,collectionSlug:e});return t?Bee(Mee,{children:[JE(to,{onClick:i,type:"button",children:n("general:edit")}),JE(r,{onSave:()=>{s(),o()}})]}):null};var Bg="move-to-folder--list",Mg=t=>{let e=Oee(17),{disableBulkDelete:o,disableBulkEdit:n,folderAssignedCollections:r}=t,{clearSelections:s,currentFolder:i,folderCollectionSlug:a,folderFieldName:l,folderID:c,getSelectedItems:u,moveToFolder:d}=Gt(),{clearRouteCache:f}=bt(),{config:m}=H(),{t:p}=P(),{closeModal:h,openModal:g}=ie(),b,C;if(e[0]!==f||e[1]!==s||e[2]!==h||e[3]!==m||e[4]!==i?.value?._folderOrDocumentTitle||e[5]!==o||e[6]!==n||e[7]!==r||e[8]!==a||e[9]!==l||e[10]!==c||e[11]!==u||e[12]!==d||e[13]!==g||e[14]!==p){C=Symbol.for("react.early_return_sentinel");e:{let y=u(),v=y.reduce(zee,{}),x=y.length,_=Object.keys(v).length===1&&Object.keys(v)[0]!==a,w=_?m.collections.find(S=>S.slug===Object.keys(v)[0]):null;if(x===0){C=null;break e}let T=_?v[Object.keys(v)[0]]?.ids||[]:[];b=Os(Yh,{count:x,ListActions:[x>0&&Os(to,{onClick:()=>s(),children:p("general:clearAll")},"clear-all")].filter(Boolean),SelectionActions:[!n&&T.length&&QE(Gee,{children:[Os(lm,{collection:w,count:x,ids:T,selectAll:!1}),Os(dm,{collection:w,count:x,ids:T,selectAll:!1}),Os(mm,{collection:w,count:x,ids:T,selectAll:!1})]},"bulk-actions"),x===1&&!_&&Os(qE,{folderCollectionSlug:a,id:v[a].ids[0]},"edit-folder-action"),x>0?QE(Vee.Fragment,{children:[Os(to,{onClick:()=>{g(Bg)},type:"button",children:p("general:move")}),Os(ql,{action:"moveItemsToFolder",drawerSlug:Bg,folderAssignedCollections:r,folderCollectionSlug:a,folderFieldName:l,fromFolderID:c,fromFolderName:i?.value?._folderOrDocumentTitle,itemsToMove:u(),onConfirm:async S=>{let{id:R,name:D}=S;await d({itemsToMove:u(),toFolderID:R}),R?oe.success(p("folder:itemsMovedToFolder",{folderName:`"${D}"`,title:`${x} ${x>1?p("general:items"):p("general:item")}`})):oe.success(p("folder:itemsMovedToRoot",{title:`${x} ${x>1?p("general:items"):p("general:item")}`})),f(),h(Bg)}})]},Bg):null,!o&&Os(My,{afterDelete:()=>{f(),s()},selections:v},"bulk-delete")].filter(Boolean)})}e[0]=f,e[1]=s,e[2]=h,e[3]=m,e[4]=i?.value?._folderOrDocumentTitle,e[5]=o,e[6]=n,e[7]=r,e[8]=a,e[9]=l,e[10]=c,e[11]=u,e[12]=d,e[13]=g,e[14]=p,e[15]=b,e[16]=C}else b=e[15],C=e[16];return C!==Symbol.for("react.early_return_sentinel")?C:b};function zee(t,e){return e&&(t[e.relationTo]?(t[e.relationTo].ids.push(KE(e.value)),t[e.relationTo].totalCount=t[e.relationTo].totalCount+1):t[e.relationTo]={ids:[KE(e.value)],totalCount:1}),t}var za="collection-folder-list";function Zee({allCollectionFolderSlugs:t,allowCreateCollectionSlugs:e,baseFolderPath:o,breadcrumbs:n,documents:r,folderFieldName:s,folderID:i,FolderResultsComponent:a,search:l,sort:c,subfolders:u,...d}){return vo(xa,{allCollectionFolderSlugs:t,allowCreateCollectionSlugs:e,baseFolderPath:o,breadcrumbs:n,documents:r,folderFieldName:s,folderID:i,FolderResultsComponent:a,search:l,sort:c,subfolders:u,children:vo(Yee,{...d})})}function Yee(t){let e=t5(6),{AfterFolderList:o,AfterFolderListTable:n,BeforeFolderList:r,BeforeFolderListTable:s,collectionSlug:i,Description:a,disableBulkDelete:l,disableBulkEdit:c,search:u,viewPreference:d}=t,{config:f,getEntityConfig:m}=H(),{i18n:p,t:h}=P(),g=dt(),{setStepNav:b}=kr(),{setPreference:C}=so(),{allowCreateCollectionSlugs:y,breadcrumbs:v,documents:x,dragOverlayItem:_,folderCollectionConfig:w,folderCollectionSlug:T,FolderResultsComponent:S,folderType:R,getSelectedItems:D,moveToFolder:I,refineFolderData:F,selectedItemKeys:A,setIsDragging:k,subfolders:L}=Gt(),N=Hee(),{startRouteTransition:B}=Xe(),{clearRouteCache:j}=bt(),E=m({collectionSlug:i}),{labels:$,upload:M}=E,G=!!M&&E.upload.bulkUpload,{breakpoints:W}=Va(),{s:U}=W,z;e[0]!==j||e[1]!==D||e[2]!==I?(z=async Y=>{if(Y.over&&Y.over.data.current.type==="folder"&&"id"in Y.over.data.current){try{await I({itemsToMove:D(),toFolderID:Y.over.data.current.id})}catch(ne){console.error("Error moving items:",ne)}j()}},e[0]=j,e[1]=D,e[2]=I,e[3]=z):z=e[3];let J=z,Z=async Y=>{await C(`${i}-collection-folder`,{viewPreference:Y}),j()};Uee.useEffect(()=>{g||b([v.length?{label:_m(Sa,{className:[`${za}__step-nav-droppable`,`${za}__step-nav-icon-label`].filter(Boolean).join(" "),id:null,onClick:()=>{B(()=>{f.folders&&N.push(e5({adminRoute:f.routes.admin,path:`/collections/${i}/${f.folders.slug}`}))})},children:[vo(dr,{}),Ga($?.plural,p)]},"root")}:{label:_m("div",{className:`${za}__step-nav-icon-label`,children:[vo(dr,{}),Ga($?.plural,p)]},"root")},...v.map((Y,ne)=>({label:ne===v.length-1?Y.name:vo(Sa,{className:`${za}__step-nav-droppable`,id:Y.id,onClick:()=>{B(()=>{f.folders&&N.push(e5({adminRoute:f.routes.admin,path:`/collections/${i}/${f.folders.slug}/${Y.id}`}))})},children:Y.name},Y.id)}))])},[v,i,f.folders,f.routes.admin,f.serverURL,g,p,$?.plural,N,b,B]);let X=x.length+L.length,ae;return e[4]!==F?(ae=Y=>F({query:{search:Y},updateURL:!0}),e[4]=F,e[5]=ae):ae=e[5],_m(Xee,{children:[vo(Jee,{onDragEnd:J,setIsDragging:k}),_m("div",{className:`${za} ${za}--${i}`,children:[r,_m(To,{className:`${za}__wrap`,children:[vo(Oa,{Actions:[!U&&vo(Mg,{disableBulkDelete:l,disableBulkEdit:E.disableBulkEdit??c,folderAssignedCollections:Array.isArray(R)?R:[i]},"list-selection"),vo(fg,{collectionConfig:E,config:f,viewType:"folders"},"default-list-actions")].filter(Boolean),AfterListHeaderContent:a,title:Ga($?.plural,p),TitleActions:[y.length&&vo(Fn,{buttonLabel:y.length>1?h("general:createNew"):`${h("general:create")} ${Ga(w.labels?.singular,p).toLowerCase()}`,collectionSlugs:y,folderAssignedCollections:Array.isArray(R)?R:[i],onCreateSuccess:j,slugPrefix:"create-document--header-pill"},"create-new-button"),vo(fm,{collectionSlug:i,hasCreatePermission:y.includes(i),isBulkUploadEnabled:G},"bulk-upload-button")].filter(Boolean)}),vo(bc,{Actions:[vo(Lg,{},"sort-by-pill"),vo($g,{activeView:d,setActiveView:Z},"toggle-view-buttons"),vo(Ag,{},"current-folder-actions")].filter(Boolean),label:h("general:searchBy",{label:h("general:name")}),onSearchChange:ae,searchQueryParam:u}),s,X>0&&S,X===0&&vo(Jl,{Actions:[y.includes(T)&&vo(Fn,{buttonLabel:`${h("general:create")} ${Ga(w.labels?.singular,p).toLowerCase()}`,collectionSlugs:[w.slug],folderAssignedCollections:Array.isArray(R)?R:[i],onCreateSuccess:j,slugPrefix:"create-folder--no-results"},"create-folder"),y.includes(i)&&vo(Fn,{buttonLabel:`${h("general:create")} ${h("general:document").toLowerCase()}`,collectionSlugs:[i],folderAssignedCollections:Array.isArray(R)?R:[i],onCreateSuccess:j,slugPrefix:"create-document--no-results"},"create-document")].filter(Boolean),Message:vo("p",{children:p.t("general:noResults",{label:`${Ga($?.plural,p)} ${h("general:or").toLowerCase()} ${Ga(w.labels?.plural,p)}`})})}),n]}),o]}),A.size>0&&_&&vo(Eg,{item:_,selectedCount:A.size})]})}function Jee(t){let e=t5(3),{onDragEnd:o,setIsDragging:n}=t,r;return e[0]!==o||e[1]!==n?(r={onDragCancel(){n(!1)},onDragEnd(s){n(!1),o(s)},onDragStart(){n(!0)}},e[0]=o,e[1]=n,e[2]=r):r=e[2],Wee(r),null}import{c as a5}from"react/compiler-runtime";import{jsx as Vt,jsxs as Dc,Fragment as Ix}from"react/jsx-runtime";import{useDndMonitor as tte}from"@dnd-kit/core";import{getTranslation as Ac}from"@payloadcms/translations";import{useRouter as ote}from"next/navigation.js";import _x,{Fragment as rte}from"react";import{c as qee}from"react/compiler-runtime";import{jsx as n5,jsxs as Qee}from"react/jsx-runtime";import{getTranslation as s5}from"@payloadcms/translations";import Kee from"react";import{jsx as Sx}from"react/jsx-runtime";var o5="checkbox-popup";function r5({Button:t,className:e,onChange:o,options:n,selectedValues:r,...s}){return Sx(st,{button:t,className:[o5,e].filter(Boolean).join(" "),horizontalAlign:"right",render:({close:i})=>Sx("div",{className:`${o5}__options`,children:n.map(({label:a,value:l})=>Sx(po,{checked:r?.includes(l),label:a,onToggle:()=>{let c=r?.includes(l)?r.filter(u=>u!==l):[...r,l];o({close:i,selectedValues:c})}},l))}),showScrollbar:!0,verticalAlign:"bottom",...s})}var ete="collection-type";function i5(){let t=qee(13),{activeCollectionFolderSlugs:e,allCollectionFolderSlugs:o,folderCollectionSlug:n,refineFolderData:r}=Gt(),{i18n:s,t:i}=P(),{config:a,getEntityConfig:l}=H(),c;t[0]!==a||t[1]!==n||t[2]!==o||t[3]!==l||t[4]!==s?(c=()=>a.collections.reduce((f,m)=>(m.folders&&o.includes(m.slug)&&f.push({label:s5(m.labels?.plural,s),value:m.slug}),f),[{label:s5(l({collectionSlug:n}).labels?.plural,s),value:n}]),t[0]=a,t[1]=n,t[2]=o,t[3]=l,t[4]=s,t[5]=c):c=t[5];let[u]=Kee.useState(c),d;if(t[6]!==u||t[7]!==r||t[8]!==i||t[9]!==e){let f;t[11]!==r?(f=m=>{let{selectedValues:p}=m;r({query:{relationTo:p},updateURL:!0})},t[11]=r,t[12]=f):f=t[12],d=n5(r5,{Button:Qee(K,{buttonStyle:"pill",el:"div",icon:"chevron",margin:!1,size:"small",children:[e.length?n5("span",{className:`${ete}__count`,children:e.length}):null,i("version:type")]}),onChange:f,options:u,selectedValues:e},"relation-to-selection-popup"),t[6]=u,t[7]=r,t[8]=i,t[9]=e,t[10]=d}else d=t[10];return d}var Wa="folder-list";function nte({activeCollectionFolderSlugs:t,allCollectionFolderSlugs:e,allowCreateCollectionSlugs:o,baseFolderPath:n,breadcrumbs:r,documents:s,folderFieldName:i,folderID:a,FolderResultsComponent:l,search:c,subfolders:u,...d}){return Vt(xa,{activeCollectionFolderSlugs:t,allCollectionFolderSlugs:e,allowCreateCollectionSlugs:o,baseFolderPath:n,breadcrumbs:r,documents:s,folderFieldName:i,folderID:a,FolderResultsComponent:l,search:c,subfolders:u,children:Vt(ste,{...d})})}function ste(t){let e=a5(24),{AfterFolderList:o,AfterFolderListTable:n,BeforeFolderList:r,BeforeFolderListTable:s,Description:i,disableBulkDelete:a,disableBulkEdit:l,folderAssignedCollections:c,viewPreference:u}=t,d=ote(),{getEntityConfig:f}=H(),{i18n:m,t:p}=P(),h=dt(),{setStepNav:g}=kr(),{startRouteTransition:b}=Xe(),{clearRouteCache:C}=bt(),{breakpoints:y}=Va(),{s:v}=y,{setPreference:x}=so(),{activeCollectionFolderSlugs:_,allowCreateCollectionSlugs:w,breadcrumbs:T,documents:S,dragOverlayItem:R,folderCollectionConfig:D,folderID:I,folderType:F,getFolderRoute:A,getSelectedItems:k,moveToFolder:L,refineFolderData:N,search:B,selectedItemKeys:j,setIsDragging:E,subfolders:$}=Gt(),[M,O]=_x.useState(u||"grid"),G;e[0]!==T||e[1]!==D||e[2]!==m||e[3]!==p?(G=()=>{let fe=T.length===0?Ac(D.labels?.plural,m):T[T.length-1].name;return p("folder:searchByNameInFolder",{folderName:fe})},e[0]=T,e[1]=D,e[2]=m,e[3]=p,e[4]=G):G=e[4];let[W]=_x.useState(G),U;e[5]!==C||e[6]!==k||e[7]!==L?(U=async fe=>{fe.over&&fe.over.data.current.type==="folder"&&"id"in fe.over.data.current&&(await L({itemsToMove:k(),toFolderID:fe.over.data.current.id||null}),C())},e[5]=C,e[6]=k,e[7]=L,e[8]=U):U=e[8];let z=U,J=S.length+$.length,Z=T.length?T[T.length-1].name:p("folder:browseByFolder"),X;e[9]!==f||e[10]!==m||e[11]!==p?(X=(fe,$e,Me,Ne)=>{let be=f({collectionSlug:$e});return Me===0?Ac(be.labels?.plural,m):Me===Ne.length-1?`${fe} ${p("general:or").toLowerCase()} ${Ac(be.labels?.plural,m)}`:`${fe}, ${Ac(be.labels?.plural,m)}`},e[9]=f,e[10]=m,e[11]=p,e[12]=X):X=e[12];let ae=_.reduce(X,""),Y=fe=>{x("browse-by-folder",{viewPreference:fe}),O(fe)},ne,Q;e[13]!==T||e[14]!==h||e[15]!==A||e[16]!==d||e[17]!==g||e[18]!==b||e[19]!==p?(ne=()=>{h||g([T.length?{label:Dc(Sa,{className:[`${Wa}__step-nav-droppable`,`${Wa}__step-nav-icon-label`].filter(Boolean).join(" "),id:null,onClick:()=>{b(()=>{d.push(A(null))})},children:[Vt(dr,{}),p("folder:browseByFolder")]},"root")}:{label:Dc("div",{className:`${Wa}__step-nav-icon-label`,children:[Vt(dr,{}),p("folder:browseByFolder")]},"root")},...T.map((fe,$e)=>({label:$e===T.length-1?fe.name:Vt(Sa,{className:`${Wa}__step-nav-droppable`,id:fe.id,onClick:()=>{b(()=>{d.push(A(fe.id))})},children:fe.name},fe.id)}))])},Q=[T,h,A,d,g,b,p],e[13]=T,e[14]=h,e[15]=A,e[16]=d,e[17]=g,e[18]=b,e[19]=p,e[20]=ne,e[21]=Q):(ne=e[20],Q=e[21]),_x.useEffect(ne,Q);let de=w.filter(fe=>fe!==D.slug),ve;return e[22]!==N?(ve=fe=>N({query:{search:fe},updateURL:!0}),e[22]=N,e[23]=ve):ve=e[23],Dc(rte,{children:[Vt(ite,{onDragEnd:z,setIsDragging:E}),Dc("div",{className:`${Wa} ${Wa}--folders`,children:[r,Dc(To,{className:`${Wa}__wrap`,children:[Vt(Oa,{Actions:[!v&&Vt(Mg,{disableBulkDelete:a,disableBulkEdit:l,folderAssignedCollections:c},"list-selection")].filter(Boolean),AfterListHeaderContent:i,title:Z,TitleActions:[w.length&&Vt(Fn,{buttonLabel:w.length>1?p("general:createNew"):`${p("general:create")} ${Ac(D.labels?.singular,m).toLowerCase()}`,collectionSlugs:w,folderAssignedCollections:Array.isArray(F)?F:[],onCreateSuccess:C,slugPrefix:"create-document--header-pill"},"create-new-button")].filter(Boolean)}),Vt(bc,{Actions:[Vt(Lg,{},"sort-by-pill"),I&&Vt(i5,{},"collection-type"),Vt($g,{activeView:M,setActiveView:Y},"toggle-view-buttons"),Vt(Ag,{},"current-folder-actions")].filter(Boolean),label:W,onSearchChange:ve,searchQueryParam:B}),s,J>0&&Vt(Ix,{children:M==="grid"?Dc("div",{children:[$.length?Vt(Ix,{children:Vt(wg,{items:$,title:"Folders",type:"folder"})}):null,S.length?Vt(Ix,{children:Vt(wg,{items:S,subfolderCount:$.length,title:"Documents",type:"file"})}):null]}):Vt(HC,{})}),J===0&&Vt(Jl,{Actions:[w.includes(D.slug)&&Vt(Fn,{buttonLabel:`${p("general:create")} ${Ac(D.labels?.singular,m).toLowerCase()}`,collectionSlugs:[D.slug],folderAssignedCollections:Array.isArray(F)?F:[],onCreateSuccess:C,slugPrefix:"create-folder--no-results"},"create-folder"),I&&de.length>0&&Vt(Fn,{buttonLabel:`${p("general:create")} ${p("general:document").toLowerCase()}`,collectionSlugs:de,folderAssignedCollections:Array.isArray(F)?F:[],onCreateSuccess:C,slugPrefix:"create-document--no-results"},"create-document")].filter(Boolean),Message:Vt("p",{children:m.t("general:noResults",{label:ae})})}),n]}),o]}),j.size>0&&R&&Vt(Eg,{item:R,selectedCount:j.size})]})}function ite(t){let e=a5(3),{onDragEnd:o,setIsDragging:n}=t,r;return e[0]!==o||e[1]!==n?(r={onDragCancel(){n(!1)},onDragEnd(s){n(!1),o(s)},onDragStart(){n(!0)}},e[0]=o,e[1]=n,e[2]=r):r=e[2],tte(r),null}import{jsx as Uo,jsxs as Hg,Fragment as Zte}from"react/jsx-runtime";import{useRouter as Yte,useSearchParams as Jte}from"next/navigation.js";import{formatAdminURL as qte,hasAutosaveEnabled as Qte}from"payload/shared";import I5,{Fragment as Kte,useCallback as Dm,useEffect as _5,useMemo as eoe,useRef as T5,useState as Ug}from"react";import{c as u5}from"react/compiler-runtime";import{jsx as Ti,jsxs as l5}from"react/jsx-runtime";import"react";var c5="leave-without-saving-doc-drawer",d5=t=>{let e=u5(15),{AfterHeader:o,drawerSlug:n,showDocumentID:r}=t,s=r===void 0?!0:r,{closeModal:i,openModal:a}=ie(),{t:l}=P(),c=mo(),u;e[0]!==i||e[1]!==n||e[2]!==c||e[3]!==a?(u=()=>{c?a(c5):i(n)},e[0]=i,e[1]=n,e[2]=c,e[3]=a,e[4]=u):u=e[4];let d=u,f;if(e[5]!==o||e[6]!==i||e[7]!==n||e[8]!==d||e[9]!==s||e[10]!==l){let m;e[12]!==i||e[13]!==n?(m=()=>i(n),e[12]=i,e[13]=n,e[14]=m):m=e[14],f=l5(To,{className:`${xs}__header`,children:[l5("div",{className:`${xs}__header-content`,children:[Ti("h2",{className:`${xs}__header-text`,children:Ti(QC,{element:"span"})}),Ti("button",{"aria-label":l("general:close"),className:`${xs}__header-close`,onClick:d,type:"button",children:Ti(yt,{})})]}),s&&Ti(ate,{}),o?Ti("div",{className:`${xs}__after-header`,children:o}):null,Ti(dy,{modalSlug:c5,onConfirm:m})]}),e[5]=o,e[6]=i,e[7]=n,e[8]=d,e[9]=s,e[10]=l,e[11]=f}else f=e[11];return f},ate=()=>{let t=u5(3),{id:e}=Te(),{title:o}=Eo(),n;return t[0]!==e||t[1]!==o?(n=e&&e!==o?Ti(Sg,{id:e.toString()}):null,t[0]=e,t[1]=o,t[2]=n):n=t[2],n};import{c as Ite}from"react/compiler-runtime";import{jsx as Pc,jsxs as _te}from"react/jsx-runtime";import{reduceFieldsToValues as Tte}from"payload/shared";import{useEffect as b5}from"react";import{jsx as m5}from"react/jsx-runtime";import f5,{useEffect as lte}from"react";var p5=t=>{let{children:e}=t,o=f5.useRef(null),n=f5.useRef(null),{breakpoint:r,setMeasuredDeviceSize:s,size:i,zoom:a}=xo(),{size:l}=Fh(o.current),{size:c}=Fh(n.current),u=!1;lte(()=>{l&&s(l)},[l,s]);let d="0",f="0";if(r&&r!=="responsive"&&(d="-50%",i&&l&&typeof a=="number"&&typeof i.width=="number"&&typeof i.height=="number"&&typeof l.width=="number"&&typeof l.height=="number")){f="0 auto";let h=i.width/a,g=l.width*a,b=h-i.width;if(u=g>c.width,u)if(a>1){let C=l.width-c.width;C<0?d=`${C/2}px`:d="0"}else d="0";else a>=1?d=`${b/2}px`:(d=`${(c.width-g)/2}px`,f="0")}let m=a?`${100/a}%`:"100%",p=a?`${100/a}%`:"100%";return r!=="responsive"&&(m=`${i?.width/(typeof a=="number"?a:1)}px`,p=`${i?.height/(typeof a=="number"?a:1)}px`),m5("div",{ref:n,style:{height:"100%",width:"100%"},children:m5("div",{ref:o,style:{height:p,margin:f,transform:`translate3d(${d}, 0, 0)`,width:m},children:e})})};import{c as cte}from"react/compiler-runtime";import{jsx as ute}from"react/jsx-runtime";import"react";var dte="live-preview-iframe",h5=()=>{let t=cte(8),{iframeRef:e,setLoadedURL:o,url:n,zoom:r}=xo(),s;t[0]!==o||t[1]!==n?(s=()=>{o(n)},t[0]=o,t[1]=n,t[2]=s):s=t[2];let i=typeof r=="number"?`scale(${r}) `:void 0,a;return t[3]!==e||t[4]!==s||t[5]!==i||t[6]!==n?(a=ute("iframe",{className:dte,onLoad:s,ref:e,src:n,style:{transform:i},title:n},n),t[3]=e,t[4]=s,t[5]=i,t[6]=n,t[7]=a):a=t[7],a};import{c as yte}from"react/compiler-runtime";import{jsx as Ua,jsxs as Cte}from"react/jsx-runtime";import{useDraggable as xte}from"@dnd-kit/core";import"react";import{c as bte}from"react/compiler-runtime";import{jsx as Ho,jsxs as Ha}from"react/jsx-runtime";import Og from"react";import{c as mte}from"react/compiler-runtime";import{jsx as fte}from"react/jsx-runtime";import pte,{useEffect as hte}from"react";var gte="toolbar-input",Tx=t=>{let e=mte(18),{axis:o}=t,{breakpoint:n,measuredDeviceSize:r,setBreakpoint:s,setSize:i,size:a,zoom:l}=xo(),[c,u]=pte.useState((o==="x"?r?.width:r?.height)||0),d;e[0]!==o||e[1]!==r?.height||e[2]!==r?.width||e[3]!==s||e[4]!==i||e[5]!==l?(d=C=>{let y=Number(C.target.value);y<0&&(y=0),u(y),s("custom"),i({type:"reset",value:{height:o==="y"?y:Number(r?.height.toFixed(0))*l,width:o==="x"?y:Number(r?.width.toFixed(0))*l}})},e[0]=o,e[1]=r?.height,e[2]=r?.width,e[3]=s,e[4]=i,e[5]=l,e[6]=d):d=e[6];let f=d,m,p;e[7]!==o||e[8]!==n||e[9]!==r||e[10]!==a||e[11]!==l?(m=()=>{n==="responsive"&&r&&u(o==="x"?Number(r.width.toFixed(0))*l:Number(r.height.toFixed(0))*l),n!=="responsive"&&a&&u(o==="x"?a.width:a.height)},p=[n,o,r,a,l],e[7]=o,e[8]=n,e[9]=r,e[10]=a,e[11]=l,e[12]=m,e[13]=p):(m=e[12],p=e[13]),hte(m,p);let h=o==="x"?"live-preview-width":"live-preview-height",g=c||0,b;return e[14]!==f||e[15]!==h||e[16]!==g?(b=fte("input",{className:gte,min:0,name:h,onChange:f,step:1,type:"number",value:g}),e[14]=f,e[15]=h,e[16]=g,e[17]=b):b=e[17],b};var Fi="live-preview-toolbar-controls",vte=[50,75,100,125,150,200],Fx=()=>{let t=bte(14),{breakpoint:e,breakpoints:o,setBreakpoint:n,setPreviewWindowType:r,setZoom:s,url:i,zoom:a}=xo(),{t:l}=P(),c;if(t[0]!==e||t[1]!==o||t[2]!==n||t[3]!==r||t[4]!==s||t[5]!==l||t[6]!==i||t[7]!==a){let u={label:l("general:custom"),value:"custom"},d;t[9]!==s||t[10]!==a?(d=m=>{let{close:p}=m;return Ho(we.ButtonGroup,{children:Ho(Og.Fragment,{children:vte.map(h=>Ha(we.Button,{active:a*100==h,onClick:()=>{s(h/100),p()},children:[h,"%"]},h))})})},t[9]=s,t[10]=a,t[11]=d):d=t[11];let f;t[12]!==r?(f=m=>{m.preventDefault(),r("popup")},t[12]=r,t[13]=f):f=t[13],c=Ha("div",{className:Fi,children:[o?.length>0&&Ho(st,{button:Ha(Og.Fragment,{children:[Ho("span",{children:o.find(m=>m.name==e)?.label??u.label}),Ho(He,{className:`${Fi}__chevron`})]}),className:`${Fi}__breakpoint`,horizontalAlign:"right",render:m=>{let{close:p}=m;return Ho(we.ButtonGroup,{children:Ha(Og.Fragment,{children:[o.map(h=>Ho(we.Button,{active:h.name==e,onClick:()=>{n(h.name),p()},children:h.label},h.name)),e==="custom"&&Ho(we.Button,{active:e==u.value,onClick:()=>{n(u.value),p()},children:u.label})]})})},showScrollbar:!0,verticalAlign:"bottom"}),Ha("div",{className:`${Fi}__device-size`,children:[Ho(Tx,{axis:"x"}),Ho("span",{className:`${Fi}__size-divider`,children:Ho(yt,{})}),Ho(Tx,{axis:"y"})]}),Ho(st,{button:Ha(Og.Fragment,{children:[Ha("span",{children:[a*100,"%"]}),Ho(He,{className:`${Fi}__chevron`})]}),className:`${Fi}__zoom`,horizontalAlign:"right",render:d,showScrollbar:!0,verticalAlign:"bottom"}),Ho("a",{className:`${Fi}__external`,href:i,onClick:f,target:"_blank",title:"Open in new window",type:"button",children:Ho(sm,{})})]}),t[0]=e,t[1]=o,t[2]=n,t[3]=r,t[4]=s,t[5]=l,t[6]=i,t[7]=a,t[8]=c}else c=t[8];return c};var Tm="live-preview-toolbar",wte=t=>{let e=yte(10),{toolbarPosition:o}=xo(),n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={id:"live-preview-toolbar"},e[0]=n):n=e[0];let{attributes:r,listeners:s,setNodeRef:i,transform:a}=xte(n),l;e[1]===Symbol.for("react.memo_cache_sentinel")?(l=[Tm,`${Tm}--draggable`],e[1]=l):l=e[1];let c=`${o.x}px`,u=`${o.y}px`,d;return e[2]!==r||e[3]!==s||e[4]!==t||e[5]!==i||e[6]!==c||e[7]!==u||e[8]!==a?(d=Cte("div",{className:l.join(" "),style:{left:c,top:u,...a?{transform:a?`translate3d(${a?.x||0}px, ${a?.y||0}px, 0)`:void 0}:{}},children:[Ua("button",{...s,...r,className:`${Tm}__drag-handle`,ref:i,type:"button",children:Ua(pn,{})}),Ua(Fx,{...t})]}),e[2]=r,e[3]=s,e[4]=t,e[5]=i,e[6]=c,e[7]=u,e[8]=a,e[9]=d):d=e[9],d},Ste=t=>Ua("div",{className:[Tm,`${Tm}--static`].join(" "),children:Ua(Fx,{...t})}),g5=t=>{let{draggable:e}=t;return e?Ua(wte,{...t}):Ua(Ste,{...t})};var Fm="live-preview-window",Rx=t=>{let e=Ite(49),{appIsReady:o,breakpoint:n,iframeRef:r,isLivePreviewing:s,loadedURL:i,popupRef:a,previewWindowType:l,url:c}=xo(),u=Ie(),{mostRecentUpdate:d}=_s(),[f]=Xs(),{id:m,collectionSlug:p,globalSlug:h}=Te(),g;e[0]!==o||e[1]!==p||e[2]!==f||e[3]!==h||e[4]!==m||e[5]!==r||e[6]!==s||e[7]!==u||e[8]!==d||e[9]!==a||e[10]!==l||e[11]!==c?(g=()=>{if(!(!s||!o)&&f){let S=Tte(f,!0);S.id||(S.id=m);let R={type:"payload-live-preview",collectionSlug:p,data:S,externallyUpdatedRelationship:d,globalSlug:h,locale:u.code};l==="popup"&&a.current&&a.current.postMessage(R,c),l==="iframe"&&r.current&&r.current.contentWindow?.postMessage(R,c)}},e[0]=o,e[1]=p,e[2]=f,e[3]=h,e[4]=m,e[5]=r,e[6]=s,e[7]=u,e[8]=d,e[9]=a,e[10]=l,e[11]=c,e[12]=g):g=e[12];let b;e[13]!==o||e[14]!==p||e[15]!==f||e[16]!==h||e[17]!==m||e[18]!==r||e[19]!==s||e[20]!==i||e[21]!==u||e[22]!==d||e[23]!==a||e[24]!==l||e[25]!==c?(b=[f,c,p,h,m,l,a,o,r,d,u,s,i],e[13]=o,e[14]=p,e[15]=f,e[16]=h,e[17]=m,e[18]=r,e[19]=s,e[20]=i,e[21]=u,e[22]=d,e[23]=a,e[24]=l,e[25]=c,e[26]=b):b=e[26],b5(g,b);let C;e[27]!==o||e[28]!==r||e[29]!==s||e[30]!==a||e[31]!==l||e[32]!==c?(C=()=>{if(!s||!o)return;let S={type:"payload-document-event"};l==="popup"&&a.current&&a.current.postMessage(S,c),l==="iframe"&&r.current&&r.current.contentWindow?.postMessage(S,c)},e[27]=o,e[28]=r,e[29]=s,e[30]=a,e[31]=l,e[32]=c,e[33]=C):C=e[33];let y;if(e[34]!==o||e[35]!==r||e[36]!==s||e[37]!==d||e[38]!==a||e[39]!==l||e[40]!==c?(y=[d,r,a,l,c,s,o],e[34]=o,e[35]=r,e[36]=s,e[37]=d,e[38]=a,e[39]=l,e[40]=c,e[41]=y):y=e[41],b5(C,y),l!=="iframe")return null;let v=s&&`${Fm}--is-live-previewing`,x=n&&n!=="responsive"&&`${Fm}--has-breakpoint`,_;e[42]!==v||e[43]!==x?(_=[Fm,v,x].filter(Boolean),e[42]=v,e[43]=x,e[44]=_):_=e[44];let w=_.join(" "),T;return e[45]!==t||e[46]!==w||e[47]!==c?(T=Pc("div",{className:w,children:_te("div",{className:`${Fm}__wrapper`,children:[Pc(g5,{...t}),Pc("div",{className:`${Fm}__main`,children:Pc(p5,{children:c?Pc(h5,{}):Pc(Dt,{height:"100%"})})})]})}),e[45]=t,e[46]=w,e[47]=c,e[48]=T):T=e[48],T};import{formatAdminURL as Fte}from"payload/shared";var v5=({adminRoute:t,router:e,serverURL:o})=>{let n=Fte({adminRoute:t,path:"",serverURL:o});e.push(n)};import{formatAdminURL as Rte}from"payload/shared";var y5=({adminRoute:t,collectionSlug:e,router:o,serverURL:n})=>{let r=Rte({adminRoute:t,path:e?`/collections/${e}`:"/"});o.push(r)};var Dx=async({id:t,clearRouteCache:e,collectionSlug:o,documentLockStateRef:n,globalSlug:r,isLockingEnabled:s,isWithinDoc:i,setCurrentEditor:a,setIsReadOnlyForIncomingUser:l,updateDocumentEditor:c,user:u})=>{if(s)try{await c(t,o??r,u),i||(n.current.hasShownLockedModal=!0),n.current={hasShownLockedModal:n.current?.hasShownLockedModal,isLocked:!0,user:u},a(u),i&&l&&l(!1),e&&e()}catch(d){console.error("Error during document takeover:",d)}};import{c as Lte}from"react/compiler-runtime";import{jsx as ts,jsxs as Rm}from"react/jsx-runtime";import{formatAdminURL as kte,getFieldPermissions as Px}from"payload/shared";import jte,{Fragment as $te,useEffect as Bte,useState as Mte}from"react";import{jsx as Xa,jsxs as Vg}from"react/jsx-runtime";import{getTranslation as Dte}from"@payloadcms/translations";import{text as Ate}from"payload/shared";import Pte,{useEffect as C5,useMemo as x5,useState as Ax}from"react";var Ete="apiKey",Gg="api-key",Nte="field-type",w5=({enabled:t,readOnly:e})=>{let[o]=Ax(gn()),[n,r]=Ax(!1),[s,i]=Ax(!1),{i18n:a,t:l}=P(),{config:c,getEntityConfig:u}=H(),{collectionSlug:d}=Te(),f=Mt(([_])=>_&&_[Ete]||null),m=u({collectionSlug:d})?.fields?.find(_=>"name"in _&&_.name==="apiKey"),p=_=>Ate(_,{name:"apiKey",type:"text",blockData:{},data:{},event:"onChange",maxLength:48,minLength:24,path:["apiKey"],preferences:{fields:{}},req:{payload:{config:c},t:l},siblingData:{}}),h=f?.value,g=x5(()=>{let _="API Key";return m?.label&&(_=m.label),Dte(_,a)},[m,a]),b=x5(()=>Vg("label",{className:`${Gg}__label field-label`,htmlFor:"apiKey",children:[Xa("span",{children:g}),Xa(Sd,{value:h})]}),[g,h]),C=Fe({path:"apiKey",validate:p}),y=()=>{n&&r(!1),setTimeout(()=>{r(!0)},1)},{setValue:v,value:x}=C;return C5(()=>{!h&&t&&v(o),!t&&h&&v(null)},[h,t,v,o]),C5(()=>{n&&setTimeout(()=>{r(!1)},1e4)},[n]),t?Vg(Pte.Fragment,{children:[Vg("div",{className:[Nte,"api-key","read-only"].filter(Boolean).join(" "),children:[b,Vg("div",{className:`${Gg}__input-wrap`,children:[Xa("input",{"aria-label":g,className:n?"highlight":void 0,disabled:!0,id:"apiKey",name:"apiKey",type:s?"text":"password",value:x||""}),Xa("div",{className:`${Gg}__toggle-button-wrap`,children:Xa(K,{buttonStyle:"none",className:`${Gg}__toggle-button`,icon:Xa(Qh,{active:s}),onClick:()=>i(_=>!_)})})]})]}),!e&&Xa(lC,{highlightField:y,setKey:()=>v(gn())})]}):null};var zg="auth-fields",S5=t=>{let e=Lte(21),{className:o,collectionSlug:n,disableLocalStrategy:r,email:s,loginWithUsername:i,operation:a,readOnly:l,requirePassword:c,setValidateBeforeSubmit:u,useAPIKey:d,username:f,verify:m}=t,[p,h]=Mte(c),g=Mt(Ote),b=Mt(Vte),C=mo(),{i18n:y,t:v}=P(),{docPermissions:x,isEditing:_,isInitializing:w,isTrashed:T}=Te(),{config:S}=H(),{routes:R}=S,{api:D}=R,I=!0,F=!0,A=typeof x.fields=="object"&&"password"in x.fields,k=typeof x.fields=="object"&&("username"in x.fields||"email"in x.fields);if(A){let{permissions:Q}=Px({field:{name:"password",type:"text"},operation:a,parentName:"",permissions:x?.fields});a==="create"?I=Q===!0||typeof Q=="object"&&Q.create:I=Q===!0||typeof Q=="object"&&Q.update}if(k){let Q=i&&(i.requireEmail||i.allowEmailLogin),de;e[0]!==x.fields?(de=Px({field:{name:"email",type:"text"},operation:"read",parentName:"",permissions:x?.fields}),e[0]=x.fields,e[1]=de):de=e[1];let{operation:ve}=de,fe;e[2]!==x.fields?(fe=Px({field:{name:"username",type:"text"},operation:"read",parentName:"",permissions:x?.fields}),e[2]=x.fields,e[3]=fe):fe=e[3];let{operation:$e}=fe;Q?F=$e||ve:i&&!Q?F=$e:F=ve}let L=(!r||typeof r=="object"&&r.enableFields===!0)&&(F||I),N=l||w||T,B=x?.fields===!0?!0:x?.fields?.enableAPIKey,j=l||B===!0||B&&typeof B=="object"&&!B?.update,E=l||B!==!0&&!B?.update,$=B===!0||B?.read,M;e:{if(x){M=!!("unlock"in x&&x.unlock);break e}M=!1}let O=M,G;e[4]!==b||e[5]!==u||e[6]!==v?(G=Q=>{Q?(u(!0),b({type:"UPDATE",errorMessage:v("validation:required"),path:"password",valid:!1}),b({type:"UPDATE",errorMessage:v("validation:required"),path:"confirm-password",valid:!1})):(u(!1),b({type:"REMOVE",path:"password"}),b({type:"REMOVE",path:"confirm-password"})),h(Q)},e[4]=b,e[5]=u,e[6]=v,e[7]=G):G=e[7];let W=G,U;e[8]!==D||e[9]!==n||e[10]!==s||e[11]!==y||e[12]!==i||e[13]!==v||e[14]!==f?(U=async()=>{let Q=kte({apiRoute:D,path:`/${n}/unlock`});(await fetch(Q,{body:JSON.stringify(i&&f?{username:f}:{email:s}),credentials:"include",headers:{"Accept-Language":y.language,"Content-Type":"application/json"},method:"post"})).status===200?oe.success(v("authentication:successfullyUnlocked")):oe.error(v("authentication:failedToUnlock"))},e[8]=D,e[9]=n,e[10]=s,e[11]=y,e[12]=i,e[13]=v,e[14]=f,e[15]=U):U=e[15];let z=U,J,Z;if(e[16]!==C?(J=()=>{C||h(!1)},Z=[C],e[16]=C,e[17]=J,e[18]=Z):(J=e[17],Z=e[18]),Bte(J,Z),!(L||d&&$||m&&_))return null;let ne;return e[19]!==o?(ne=[zg,o].filter(Boolean),e[19]=o,e[20]=ne):ne=e[20],Rm("div",{className:ne.join(" "),children:[L&&Rm(jte.Fragment,{children:[ts(vx,{loginWithUsername:i,operation:a,permissions:x?.fields,readOnly:l||T,t:v}),(p||c)&&(!r||!L)&&Rm("div",{className:`${zg}__changing-password`,children:[ts(Md,{autoComplete:"new-password",field:{name:"password",label:v("authentication:newPassword"),required:!0},indexPath:"",parentPath:"",parentSchemaPath:"",path:"password",schemaPath:"password"}),ts(Bd,{disabled:l||T})]}),Rm("div",{className:`${zg}__controls`,children:[p&&!c&&ts(K,{buttonStyle:"secondary",disabled:N,id:"cancel-change-password",onClick:()=>W(!1),size:"medium",children:v("general:cancel")}),!p&&!c&&!r&&I&&ts(K,{buttonStyle:"secondary",disabled:N,id:"change-password",onClick:()=>W(!0),size:"medium",children:v("authentication:changePassword")}),!p&&a==="update"&&O&&ts(K,{buttonStyle:"secondary",disabled:N||!F,id:"force-unlock",onClick:()=>void z(),size:"medium",children:v("authentication:forceUnlock")})]})]}),d&&ts("div",{className:`${zg}__api-key`,children:$&&Rm($te,{children:[ts(Ur,{field:{name:"enableAPIKey",admin:{disabled:N,readOnly:E},label:v("authentication:enableAPIKey")},path:"enableAPIKey",schemaPath:`${n}.enableAPIKey`}),ts(w5,{enabled:!!g?.value,readOnly:j})]})}),m&&_&&ts(Ur,{field:{name:"_verified",admin:{disabled:N,readOnly:l},label:v("authentication:verified")},path:"_verified",schemaPath:`${n}._verified`})]})};function Ote(t){let[e]=t;return e&&e?.enableAPIKey||null}function Vte(t){return t[1]}import{c as Gte}from"react/compiler-runtime";import{getTranslation as zte}from"@payloadcms/translations";import{formatAdminURL as Wg}from"payload/shared";import{useEffect as Wte}from"react";var Ex=t=>{let e=Gte(37),{id:o,collectionSlug:n,globalSlug:r,isTrashed:s,pluralLabel:i,useAsTitle:a}=t,l=t?.view||void 0,{isEditing:c,isInitializing:u}=Te(),{title:d}=Eo(),{isEntityVisible:f}=fx(),m;e[0]!==n||e[1]!==r||e[2]!==f?(m=f({collectionSlug:n,globalSlug:r}),e[0]=n,e[1]=r,e[2]=f,e[3]=m):m=e[3];let p=m,{setStepNav:h}=kr(),{i18n:g,t:b}=P(),{config:C}=H(),{routes:y,serverURL:v}=C,{admin:x}=y,_;e[4]!==x||e[5]!==n||e[6]!==r||e[7]!==g||e[8]!==o||e[9]!==c||e[10]!==u||e[11]!==s||e[12]!==p||e[13]!==i||e[14]!==h||e[15]!==b||e[16]!==d||e[17]!==a||e[18]!==l?(_=()=>{let T=[];u||(n?(T.push({label:zte(i,g),url:p?Wg({adminRoute:x,path:`/collections/${n}`}):void 0}),s&&T.push({label:b("general:trash"),url:p?Wg({adminRoute:x,path:`/collections/${n}/trash`}):void 0}),c?T.push({label:a&&a!=="id"&&d||`${o}`,url:p?Wg({adminRoute:x,path:s?`/collections/${n}/trash/${o}`:`/collections/${n}/${o}`}):void 0}):T.push({label:b("general:createNew")})):r&&T.push({label:d,url:p?Wg({adminRoute:x,path:`/globals/${r}`}):void 0}),l&&T.push({label:l}),h(T))},e[4]=x,e[5]=n,e[6]=r,e[7]=g,e[8]=o,e[9]=c,e[10]=u,e[11]=s,e[12]=p,e[13]=i,e[14]=h,e[15]=b,e[16]=d,e[17]=a,e[18]=l,e[19]=_):_=e[19];let w;return e[20]!==x||e[21]!==n||e[22]!==r||e[23]!==g||e[24]!==o||e[25]!==c||e[26]!==u||e[27]!==s||e[28]!==p||e[29]!==i||e[30]!==v||e[31]!==h||e[32]!==b||e[33]!==d||e[34]!==a||e[35]!==l?(w=[h,u,c,i,o,s,a,x,b,g,d,n,r,v,l,p],e[20]=x,e[21]=n,e[22]=r,e[23]=g,e[24]=o,e[25]=c,e[26]=u,e[27]=s,e[28]=p,e[29]=i,e[30]=v,e[31]=h,e[32]=b,e[33]=d,e[34]=a,e[35]=l,e[36]=w):w=e[36],Wte(_,w),null};import{c as Hte}from"react/compiler-runtime";import{useEffect as Ute,useRef as Xte}from"react";var Nx=t=>{let e=Hte(14),{collectionConfig:o,config:n,fallback:r,globalConfig:s}=t,i=o?.admin?.useAsTitle,a;e[0]!==i?(a=C=>{let[y]=C;return i&&y&&y?.[i]||null},e[0]=i,e[1]=a):a=e[1];let l=Mt(a),c=Xte(!1),{i18n:u}=P(),{setDocumentTitle:d}=Eo(),f=n?.admin?.dateFormat,m=l?.value||"",p;e[2]!==o||e[3]!==f||e[4]!==r||e[5]!==s||e[6]!==u||e[7]!==m||e[8]!==i?(p=Zo({collectionConfig:o,data:{id:"",[i]:m},dateFormat:f,fallback:r,globalConfig:s,i18n:u}),e[2]=o,e[3]=f,e[4]=r,e[5]=s,e[6]=u,e[7]=m,e[8]=i,e[9]=p):p=e[9];let h=p,g,b;return e[10]!==d||e[11]!==h?(g=()=>{if(!c.current){c.current=!0;return}d(h)},b=[d,h],e[10]=d,e[11]=h,e[12]=g,e[13]=b):(g=e[12],b=e[13]),Ute(g,b),null};var Vs="collection-edit";function toe({BeforeDocumentControls:t,Description:e,EditMenuItems:o,LivePreview:n,PreviewButton:r,PublishButton:s,SaveButton:i,SaveDraftButton:a,Status:l,Upload:c,UploadControls:u}){let{id:d,action:f,AfterDocument:m,AfterFields:p,apiURL:h,BeforeFields:g,collectionSlug:b,currentEditor:C,data:y,disableActions:v,disableCreate:x,disableLeaveWithoutSaving:_,docPermissions:w,documentIsLocked:T,documentLockState:S,getDocPermissions:R,getDocPreferences:D,globalSlug:I,hasPublishPermission:F,hasSavePermission:A,incrementVersionCount:k,initialState:L,isEditing:N,isInitializing:B,isLocked:j,isTrashed:E,lastUpdateTime:$,redirectAfterCreate:M,redirectAfterDelete:O,redirectAfterDuplicate:G,redirectAfterRestore:W,setCurrentEditor:U,setData:z,setDocumentIsLocked:J,setLastUpdateTime:Z,unlockDocument:X,updateDocumentEditor:ae}=Te(),{clearDoc:Y,drawerSlug:ne,onDelete:Q,onDuplicate:de,onRestore:ve,onSave:fe}=Mu(),$e=!!ne,{refreshCookieAsync:Me,user:Ne}=Se(),{config:be,config:{admin:{user:Ve},routes:{admin:Ye},serverURL:se},getEntityConfig:xe}=H(),V=xe({collectionSlug:b}),le=xe({globalSlug:I}),q=dt(),me=Yte(),pe=Jte(),{reportUpdate:re}=_s(),{resetUploadEdits:ee}=Zi(),{getFormState:he}=Pt(),{startRouteTransition:te}=Xe(),{clearRouteCache:ge}=bt(),{isLivePreviewEnabled:ye,isLivePreviewing:rt,previewWindowType:Be,setURL:qe,typeofLivePreviewURL:wt,url:ro}=xo(),{isPreviewEnabled:wo,setPreviewURL:$t}=qh(),tr=T5(null),Re=T5(null),We=pe.get("locale"),ce=V?.slug||le?.slug,Le=b&&!d?"create":"update",je=V?V.auth:void 0,Ke=V?V.upload:void 0,ct=V||le,ut=ct?.lockDocuments!==void 0?ct?.lockDocuments:!0,Ce=ut!==!1,ft=(typeof ut=="object"?ut.duration:300)*1e3,Rt=Qte(ct),[vt,So]=Ug(!1),[Br,pt]=Ug(!1),[or,nn]=Ug(Date.now()),Xo=$+ft,os=Date.now()>Xo,Ri=!vt&&(typeof _<"u"?!_:!Rt),br=eoe(()=>[ce],[ce]),[rs,ns]=Ug(()=>!!(Le==="create"&&je&&!je.disableLocalStrategy)),Gs=I5.useRef(null),Di=Dm(Nt=>{J(!0);let Mr=typeof S.current?.user=="object"?S.current?.user?.id:S.current?.user;if(Nt){let rr=typeof Nt.user=="string"||typeof Nt.user=="number"?Nt.user:Nt.user.id;(!S.current||rr!==Mr)&&(Mr===Ne.id&&rr!==Ne.id&&(pt(!0),S.current.hasShownLockedModal=!0),S.current={hasShownLockedModal:S.current?.hasShownLockedModal||!1,isLocked:!0,user:Nt.user},U(Nt.user)),Nt.lastEditedAt&&Z(new Date(Nt.lastEditedAt).getTime())}},[S,U,J,Z,Ne?.id]),Ht=Dm(Nt=>{Gs.current=Nt},[]),Io=Dm(async()=>{let Nt=S.current?.user,Mr=typeof Nt=="object"?Nt?.id===Ne?.id:Nt===Ne?.id;if(Ce&&T&&(d||I)){let rr=Gs.current?new URL(Gs.current).pathname:"",zs=["/preview","/api","/versions"].some(Or=>rr.includes(Or));if(Mr&&!zs)try{await X(d,b??I),J(!1),U(null)}catch(Or){console.error("Failed to unlock before leave",Or)}}},[b,T,S,I,d,Ce,U,J,X,Ne?.id]),ss=Dm(async(Nt,Mr)=>{let{context:rr,formState:zs}=Mr||{},Or=Dr(Re),vr=Nt?.doc||Nt?.result,is=vr?.updatedAt||new Date().toISOString();if(Ne&&b===Ve&&d===Ne.id&&Me(),Z(is),rr?.incrementVersionCount!==!1&&k(),typeof z=="function"&&z(vr||{}),typeof fe=="function"){let yr=d?"update":"create";fe({...Nt,context:rr,operation:yr,updatedAt:yr==="update"?new Date().toISOString():vr?.updatedAt||new Date().toISOString()})}if(!N&&q<2&&M!==!1){let yr=qte({adminRoute:Ye,path:`/collections/${b}/${vr?.id}${We?`?locale=${We}`:""}`});te(()=>me.push(yr))}else ee();if(rr?.getDocPermissions!==!1&&await R(Nt),d||I){let yr=await D(),{livePreviewURL:Xg,previewURL:Zg,state:Yg}=await he({id:d,collectionSlug:b,data:vr,docPermissions:w,docPreferences:yr,formState:zs,globalSlug:I,operation:Le,renderAllFields:!1,returnLivePreviewURL:ye&&wt==="function",returnLockStatus:!1,returnPreviewURL:wo,schemaPath:br.join("."),signal:Or.signal,skipValidation:!0});return Ke&&Yg&&delete Yg.file,Ce&&J(!1),ye&&wt==="function"&&qe(Xg),wo&&$t(Zg),re({id:d,doc:vr,drawerSlug:ne,entitySlug:ce,operation:"update",updatedAt:is}),Re.current=null,Yg}else re({id:d,doc:vr,drawerSlug:ne,entitySlug:ce,operation:"create",updatedAt:is})},[Ne,b,Ve,d,Z,z,fe,N,q,M,I,Me,k,Ye,We,te,me,ee,R,D,he,w,Le,ye,wt,wo,br,Ke,Ce,re,ne,ce,J,qe,$t]),Ec=Dm(async({formState:Nt,submitted:Mr})=>{let rr=Dr(tr),zs=Date.now(),Or=zs-or,vr=Ce&&Or>=1e4;vr&&nn(zs);let is=await D(),yr=await he({id:d,collectionSlug:b,docPermissions:w,docPreferences:is,formState:Nt,globalSlug:I,operation:Le,renderAllFields:!1,returnLockStatus:Ce,schemaPath:br.join("."),signal:rr.signal,skipValidation:!Mr,updateLastEdited:vr});if(!yr)return;let{lockedState:Xg,state:Zg}=yr;return Ce&&Di(Xg),tr.current=null,Zg},[or,Ce,D,he,d,b,w,I,Le,br,Di]);_5(()=>()=>{pt(!1)},[]),_5(()=>{let Nt=tr.current,Mr=Re.current;return()=>{Rr(Nt),Rr(Mr)}},[]);let sn=T&&C&&(typeof C=="object"?C.id!==Ne?.id:C!==Ne?.id)&&!vt&&!Br&&!S.current?.hasShownLockedModal&&!os,Ai=be.folders&&b===be.folders?.slug;return Uo("main",{className:[Vs,(d||I)&&`${Vs}--is-editing`,I&&`global-edit--${I}`,b&&`collection-edit--${b}`,rt&&Be==="iframe"&&`${Vs}--is-live-previewing`].filter(Boolean).join(" "),children:Uo(ru,{operation:Le,children:Hg(Ts,{action:f,className:`${Vs}__form`,disabled:vt||B||!A||E,disableValidationOnSubmit:!rs,initialState:!B&&L,isDocumentForm:!0,isInitializing:B,method:d?"PATCH":"POST",onChange:[Ec],onSuccess:ss,children:[$e&&Uo(d5,{AfterHeader:e,drawerSlug:ne,showDocumentID:!Ai}),Ce&&sn&&Uo(py,{handleGoBack:()=>y5({adminRoute:Ye,collectionSlug:b,router:me,serverURL:se}),isActive:sn,onReadOnly:()=>{So(!0),pt(!1)},onTakeOver:()=>Dx({id:d,clearRouteCache:ge,collectionSlug:b,documentLockStateRef:S,globalSlug:I,isLockingEnabled:Ce,isWithinDoc:!1,setCurrentEditor:U,updateDocumentEditor:ae,user:Ne}),updatedAt:$,user:C}),Ce&&Br&&Uo(fy,{handleBackToDashboard:()=>v5({adminRoute:Ye,router:me,serverURL:se}),isActive:Br,onReadOnly:()=>{So(!0),pt(!1)}}),Ri&&Uo(Ud,{onConfirm:Io,onPrevent:Ht}),!$e&&Uo(Ex,{collectionSlug:V?.slug,globalSlug:le?.slug,id:d,isTrashed:E,pluralLabel:V?.labels?.plural,useAsTitle:V?.admin?.useAsTitle}),Uo(Nx,{collectionConfig:V,config:be,fallback:q<=1?d?.toString():void 0,globalConfig:le}),Uo(oC,{apiURL:h,BeforeDocumentControls:t,customComponents:{PreviewButton:r,PublishButton:s,SaveButton:i,SaveDraftButton:a,Status:l},data:y,disableActions:v||Ai||E,disableCreate:x,EditMenuItems:o,hasPublishPermission:F,hasSavePermission:A,id:d,isEditing:N,isInDrawer:$e,isTrashed:E,onDelete:Q,onDrawerCreateNew:Y,onDuplicate:de,onRestore:ve,onSave:ss,onTakeOver:()=>Dx({id:d,clearRouteCache:ge,collectionSlug:b,documentLockStateRef:S,globalSlug:I,isLockingEnabled:Ce,isWithinDoc:!0,setCurrentEditor:U,setIsReadOnlyForIncomingUser:So,updateDocumentEditor:ae,user:Ne}),permissions:w,readOnlyForIncomingUser:vt,redirectAfterDelete:O,redirectAfterDuplicate:G,redirectAfterRestore:W,slug:V?.slug||le?.slug,user:C}),Hg("div",{className:[`${Vs}__main-wrapper`,Be==="popup"&&`${Vs}--detached`].filter(Boolean).join(" "),children:[Hg("div",{className:[`${Vs}__main`,Be==="popup"&&`${Vs}__main--popup-open`].filter(Boolean).join(" "),children:[Uo(bd,{AfterFields:p,BeforeFields:g||Hg(Kte,{children:[je&&Uo(S5,{className:`${Vs}__auth`,collectionSlug:V.slug,disableLocalStrategy:V.auth?.disableLocalStrategy,email:y?.email,loginWithUsername:je?.loginWithUsername,operation:Le,readOnly:!A,requirePassword:!d,setValidateBeforeSubmit:ns,useAPIKey:je.useAPIKey,username:y?.username,verify:je.verify}),Ke&&Uo(I5.Fragment,{children:Uo(Ul,{children:c||Uo(H0,{collectionSlug:V.slug,initialState:L,uploadConfig:Ke,UploadControls:u})})})]}),Description:e,docPermissions:w,fields:ct.fields,forceSidebarWrap:rt,isTrashed:E,readOnly:vt||!A||E,schemaPathSegments:br}),m]}),ye&&!$e&&ro&&Uo(Zte,{children:n||Uo(Rx,{collectionSlug:b,globalSlug:I})})]})]},`${j}`)})})}import{jsx as ooe}from"react/jsx-runtime";import"react";var roe="field-diff-label",Lx=({children:t})=>ooe("div",{className:roe,children:t});import{jsx as noe,jsxs as kx}from"react/jsx-runtime";import{getTranslation as soe}from"@payloadcms/translations";var jx="field-diff",ioe=t=>{let{className:e,From:o,i18n:n,label:{label:r,locale:s},nestingLevel:i=0,To:a}=t;return kx("div",{className:`${jx}-container${e?` ${e}`:""} nested-level-${i}`,style:i?{"--left-offset":`calc(50%  - (${i} * calc( calc(var(--base)* 0.5) - 2.5px  )))`}:{"--left-offset":"50%"},children:[kx(Lx,{children:[s&&noe("span",{className:`${jx}__locale-label`,children:s}),typeof r!="function"&&soe(r||"",n)]}),kx("div",{className:`${jx}-content`,style:i?{gridTemplateColumns:"calc(var(--left-offset) - calc(var(--base)*0.5) )     calc(50% - calc(var(--base)*0.5) + calc(50% - var(--left-offset)))"}:void 0,children:[o,a]})]})};export{yy as Account,$X as ActionsProvider,_r as AnimateHeight,fZ as AppHeader,jd as ArrayField,t1 as AuthProvider,un as Banner,D1 as BlockSelector,du as BlocksDrawer,mu as BlocksField,vQ as BrowseByFolderButton,WD as BulkUploadDrawer,Z0 as BulkUploadProvider,K as Button,L5 as CalendarIcon,hZ as Card,y1 as CheckIcon,Ur as CheckboxField,po as CheckboxInput,He as ChevronIcon,cx as ClientFunctionProvider,xy as CloseMenuIcon,sK as CodeBlockIcon,E5 as CodeEdiftor,fu as CodeEditorLazy,pu as CodeField,Ji as Collapsible,gu as CollapsibleField,fQ as Combobox,qg as ConfigProvider,Bd as ConfirmPasswordField,et as ConfirmationModal,$i as CopyIcon,Ey as CopyLocaleData,Sd as CopyToClipboard,Hv as DateCell,pC as DateCondition,k5 as DatePicker,Eu as DateTimeField,uu as DefaultBlockImage,nte as DefaultBrowseByFolderView,Gu as DefaultCell,Zee as DefaultCollectionFolderView,toe as DefaultEditView,Fee as DefaultListView,By as DeleteMany,oC as DocumentControls,a0 as DocumentEventsProvider,bd as DocumentFields,Sc as DocumentIcon,ou as DocumentInfoProvider,py as DocumentLocked,fy as DocumentTakeOver,pn as DragHandleIcon,St as Drawer,L0 as DrawerContentContainer,fs as DrawerToggler,ya as Dropzone,ls as EditDepthProvider,Cr as EditIcon,tJ as EditMany,M0 as EditUpload,vx as EmailAndUsernameFields,aa as EmailField,jK as EntityVisibilityProvider,sx as ErrorIcon,_o as ErrorPill,sm as ExternalLinkIcon,D3 as FieldContext,Ue as FieldDescription,ioe as FieldDiffContainer,Lx as FieldDiffLabel,Ze as FieldError,_e as FieldLabel,gs as FieldPathContext,Pp as File,z0 as FileDetails,HC as FolderFileTable,vd as FolderIcon,xa as FolderProvider,CQ as FolderTypeField,Ts as Form,y7 as FormLoadingOverlayToggle,Er as FormSubmit,nJ as FullscreenModal,lK as GearIcon,lC as GenerateConfirmation,rx as GridViewIcon,Wq as GroupByHeader,tQ as GroupByPageControls,Nu as GroupField,To as Gutter,Iy as Hamburger,Lu as HiddenField,dJ as HydrateAuthProvider,ix as InfoIcon,wg as ItemCardGrid,eK as ItemsDrawer,Uu as JSONField,Hu as JoinField,Ud as LeaveWithoutSaving,C1 as LineIcon,Jt as Link,wb as LinkIcon,SC as ListControls,Fv as ListDrawerContextProvider,jC as ListHeader,Pv as ListQueryProvider,Ba as ListSelection,nx as ListViewIcon,_K as LivePreviewProvider,Rx as LivePreviewWindow,xn as LoadingOverlay,BT as LoadingOverlayToggle,o1 as LocaleProvider,nm as Locked,VC as LogOutIcon,sQ as Logout,wy as MenuIcon,iK as MinimizeMaximizeIcon,wr as Modal,Oc as MoreIcon,xd as MoveDocToFolder,cD as MoveDocToFolderButton,uK as MoveFolderIcon,Fy as NavContext,cQ as NavGroup,Ry as NavProvider,Dy as NavToggler,au as NullifyLocaleField,hC as NumberCondition,Xu as NumberField,ru as OperationProvider,jU as OrderableTable,R5 as PageConfigProvider,vg as PageControls,bg as PageControlsComponent,zu as Pagination,px as ParamsProvider,Md as PasswordField,Gh as PayloadIcon,$C as PerPage,tt as Pill,jv as PillSelector,ar as PlusIcon,Zu as PointField,st as Popup,we as PopupList,f1 as PreferencesProvider,Xy as PreviewButton,W0 as PreviewSizes,PK as ProgressBar,Qy as PublishButton,nq as PublishMany,HU as QueryPresetsAccessCell,rX as QueryPresetsColumnField,OU as QueryPresetsColumnsCell,QU as QueryPresetsGroupByCell,cX as QueryPresetsGroupByField,zU as QueryPresetsWhereCell,aX as QueryPresetsWhereField,qu as RadioGroupField,gt as ReactSelect,ug as RelationshipCondition,rd as RelationshipField,f0 as RelationshipInput,Vu as RelationshipProvider,t0 as RelationshipTable,ue as RenderCustomComponent,T8 as RenderDefaultCell,ko as RenderFields,QC as RenderTitle,nd as RichTextField,dee as RootProvider,N0 as RouteCacheProvider,yb as RouteTransitionProvider,sd as RowField,as as RowLabel,pb as RowLabelProvider,Ky as SaveButton,eC as SaveDraftButton,Cm as ScrollInfoProvider,mC as SearchFilter,qi as SearchIcon,gx as SearchParamsProvider,A1 as SectionTitle,gt as Select,yee as SelectAll,CC as SelectCondition,id as SelectField,qr as SelectInput,Rc as SelectMany,xee as SelectRow,ky as SelectionProvider,Ev as ServerFunctionsContext,Nv as ServerFunctionsProvider,Ex as SetDocumentStepNav,Nx as SetDocumentTitle,iZ as SetStepNav,Dt as ShimmerEffect,rK as SlugField,UQ as SortColumn,AU as SortHeader,EU as SortRow,D5 as StaggeredShimmers,OC as StickyToolbar,ax as SuccessIcon,Sb as SwapIcon,_0 as TabComponent,Zy as Table,$u as TableColumnsProvider,ud as TabsField,Iv as TabsProvider,xC as TextCondition,va as TextField,dd as TextInput,md as TextareaField,T0 as TextareaInput,Kg as ThemeProvider,Ar as Thumbnail,Pu as TimezonePicker,Po as Tooltip,Kt as Translation,Jg as TranslationProvider,fd as UIField,vq as UnpublishMany,H0 as Upload,h1 as UploadEditsProvider,kd as UploadField,S0 as UploadHandlersProvider,_h as UploadInput,hy as ViewDescription,lx as WarningIcon,Ki as WatchChildErrors,v1 as WatchCondition,hx as WindowInfoProvider,yt as XIcon,dU as allFieldComponents,A5 as defaultTheme,xs as documentDrawerBaseClass,Ae as fieldBaseClass,aA as fieldComponents,cd as fieldReducer,Jc as formatDrawerSlug,l1 as formatTimeToNow,kY as getHTMLDiffComponents,Ut as parseSearchParams,oe as toast,Cy as useActions,gK as useAddClientFunction,Xs as useAllFormFields,Se as useAuth,Vo as useBulkUpload,UD as useBulkUploadDrawerSlug,Jv as useCellProps,GY as useClickOutside,nC as useClickOutsideContext,bK as useClientFunctions,Qs as useCollapsible,H as useConfig,nr as useControllableState,Sn as useDebounce,i0 as useDebouncedCallback,w0 as useDebouncedEffect,Qg as useDelay,$v as useDelayedRender,Lt as useDocumentDrawer,Mu as useDocumentDrawerContext,_s as useDocumentEvents,Ya as useDocumentForm,Te as useDocumentInfo,Eo as useDocumentTitle,Yc as useDrawerSlug,dt as useEditDepth,Je as useEffectEvent,fx as useEntityVisibility,Fe as useField,Ef as useFieldPath,Gt as useFolder,Oe as useForm,mb as useFormBackgroundProcessing,Mt as useFormFields,Li as useFormInitializing,mo as useFormModified,Gr as useFormProcessing,uo as useFormSubmitted,Fa as useHotkey,ji as useIntersect,da as useListDrawer,Fr as useListDrawerContext,lt as useListQuery,zv as useListRelationships,xo as useLivePreviewContext,Ie as useLocale,ie as useModal,Aa as useNav,Sr as useOperation,GK as useParams,SU as usePayloadAPI,so as usePreferences,ma as useQueue,Fh as useResize,bt as useRouteCache,Xe as useRouteTransition,J5 as useRowLabel,ym as useScrollInfo,iee as useSearchParams,Co as useSelection,Pt as useServerFunctions,kr as useStepNav,El as useTableColumns,P5 as useTheme,Hi as useThrottledEffect,P as useTranslation,R0 as useUploadControls,Zi as useUploadEdits,ad as useUploadHandlers,oy as useUseTitleField,zm as useWatchForm,Va as useWindowInfo,ze as withCondition};
/*! Bundled license information:

scheduler/cjs/scheduler.production.js:
  (**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

is-buffer/index.js:
  (*!
   * Determine if an object is a Buffer
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

focus-trap/dist/focus-trap.esm.js:
  (*!
  * focus-trap 7.5.4
  * @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
  *)
*/
//# sourceMappingURL=index.js.map
