{"version":3,"file":"getNavGroups.js","names":["EntityType","groupNavItems","getNavGroups","permissions","visibleEntities","config","i18n","collections","filter","collection","slug","read","includes","globals","global","navGroups","map","entityToGroup","type","entity"],"sources":["../../src/utilities/getNavGroups.ts"],"sourcesContent":["import type { SanitizedConfig, SanitizedPermissions, VisibleEntities } from 'payload'\n\nimport { type I18nClient } from '@payloadcms/translations'\n\nimport { EntityType } from './groupNavItems.js'\nimport { type EntityToGroup, groupNavItems } from './groupNavItems.js'\n\n/** @internal */\nexport function getNavGroups(\n  permissions: SanitizedPermissions,\n  visibleEntities: VisibleEntities,\n  config: SanitizedConfig,\n  i18n: I18nClient,\n) {\n  const collections = config.collections.filter(\n    (collection) =>\n      permissions?.collections?.[collection.slug]?.read &&\n      visibleEntities.collections.includes(collection.slug),\n  )\n\n  const globals = config.globals.filter(\n    (global) =>\n      permissions?.globals?.[global.slug]?.read && visibleEntities.globals.includes(global.slug),\n  )\n\n  const navGroups = groupNavItems(\n    [\n      ...(collections.map((collection) => {\n        const entityToGroup: EntityToGroup = {\n          type: EntityType.collection,\n          entity: collection,\n        }\n\n        return entityToGroup\n      }) ?? []),\n      ...(globals.map((global) => {\n        const entityToGroup: EntityToGroup = {\n          type: EntityType.global,\n          entity: global,\n        }\n\n        return entityToGroup\n      }) ?? []),\n    ],\n    permissions,\n    i18n,\n  )\n\n  return navGroups\n}\n"],"mappings":"AAIA,SAASA,UAAU,QAAQ;AAC3B,SAA6BC,aAAa,QAAQ;AAElD;AACA,OAAO,SAASC,aACdC,WAAiC,EACjCC,eAAgC,EAChCC,MAAuB,EACvBC,IAAgB;EAEhB,MAAMC,WAAA,GAAcF,MAAA,CAAOE,WAAW,CAACC,MAAM,CAC1CC,UAAA,IACCN,WAAA,EAAaI,WAAA,GAAcE,UAAA,CAAWC,IAAI,CAAC,EAAEC,IAAA,IAC7CP,eAAA,CAAgBG,WAAW,CAACK,QAAQ,CAACH,UAAA,CAAWC,IAAI;EAGxD,MAAMG,OAAA,GAAUR,MAAA,CAAOQ,OAAO,CAACL,MAAM,CAClCM,MAAA,IACCX,WAAA,EAAaU,OAAA,GAAUC,MAAA,CAAOJ,IAAI,CAAC,EAAEC,IAAA,IAAQP,eAAA,CAAgBS,OAAO,CAACD,QAAQ,CAACE,MAAA,CAAOJ,IAAI;EAG7F,MAAMK,SAAA,GAAYd,aAAA,CAChB,C,IACMM,WAAA,CAAYS,GAAG,CAAEP,UAAA;IACnB,MAAMQ,aAAA,GAA+B;MACnCC,IAAA,EAAMlB,UAAA,CAAWS,UAAU;MAC3BU,MAAA,EAAQV;IACV;IAEA,OAAOQ,aAAA;EACT,MAAM,EAAE,G,IACJJ,OAAA,CAAQG,GAAG,CAAEF,MAAA;IACf,MAAMG,aAAA,GAA+B;MACnCC,IAAA,EAAMlB,UAAA,CAAWc,MAAM;MACvBK,MAAA,EAAQL;IACV;IAEA,OAAOG,aAAA;EACT,MAAM,EAAE,EACT,EACDd,WAAA,EACAG,IAAA;EAGF,OAAOS,SAAA;AACT","ignoreList":[]}