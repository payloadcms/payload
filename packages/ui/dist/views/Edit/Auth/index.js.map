{"version":3,"file":"index.js","names":["c","_c","formatAdminURL","getFieldPermissions","React","Fragment","useCallback","useEffect","useMemo","useState","toast","Button","EmailAndUsernameFields","CheckboxField","ConfirmPasswordField","PasswordField","useFormFields","useFormModified","useConfig","useDocumentInfo","useTranslation","APIKey","baseClass","Auth","props","$","className","collectionSlug","disableLocalStrategy","email","loginWithUsername","operation","readOnly","requirePassword","setValidateBeforeSubmit","useAPIKey","username","verify","changingPassword","setChangingPassword","enableAPIKey","_temp","dispatchFields","_temp2","modified","i18n","t","docPermissions","isEditing","isInitializing","isTrashed","config","t0","routes","t1","api","showPasswordFields","showUnlock","hasPasswordFieldOverride","fields","hasLoginFieldOverride","permissions","passwordPermissions","field","name","type","parentName","create","update","hasEmailAndUsernameFields","requireEmail","allowEmailLogin","t2","emailPermission","t3","usernamePermission","enableFields","disabled","apiKeyPermissions","apiKeyReadOnly","enableAPIKeyReadOnly","canReadApiKey","read","bb0","Boolean","unlock","undefined","hasPermissionToUnlock","changingPassword_0","errorMessage","path","valid","handleChangePassword","t4","url","apiRoute","response","fetch","body","JSON","stringify","credentials","headers","language","method","status","success","error","t5","t6","showAuthBlock","showAPIKeyBlock","showVerifyBlock","t7","filter","_jsxs","join","children","_jsx","autoComplete","label","required","indexPath","parentPath","parentSchemaPath","schemaPath","buttonStyle","id","onClick","size","admin","enabled","value","reducer"],"sources":["../../../../src/views/Edit/Auth/index.tsx"],"sourcesContent":["'use client'\n\nimport type { SanitizedFieldPermissions } from 'payload'\n\nimport { formatAdminURL, getFieldPermissions } from 'payload/shared'\nimport React, { Fragment, useCallback, useEffect, useMemo, useState } from 'react'\nimport { toast } from 'sonner'\n\nimport type { Props } from './types.js'\n\nimport { Button } from '../../../elements/Button/index.js'\nimport { EmailAndUsernameFields } from '../../../elements/EmailAndUsername/index.js'\nimport { CheckboxField } from '../../../fields/Checkbox/index.js'\nimport { ConfirmPasswordField } from '../../../fields/ConfirmPassword/index.js'\nimport { PasswordField } from '../../../fields/Password/index.js'\nimport { useFormFields, useFormModified } from '../../../forms/Form/context.js'\nimport { useConfig } from '../../../providers/Config/index.js'\nimport { useDocumentInfo } from '../../../providers/DocumentInfo/index.js'\nimport { useTranslation } from '../../../providers/Translation/index.js'\nimport './index.scss'\nimport { APIKey } from './APIKey.js'\n\nconst baseClass = 'auth-fields'\n\nexport const Auth: React.FC<Props> = (props) => {\n  const {\n    className,\n    collectionSlug,\n    disableLocalStrategy,\n    email,\n    loginWithUsername,\n    operation,\n    readOnly,\n    requirePassword,\n    setValidateBeforeSubmit,\n    useAPIKey,\n    username,\n    verify,\n  } = props\n\n  const [changingPassword, setChangingPassword] = useState(requirePassword)\n  const enableAPIKey = useFormFields(([fields]) => (fields && fields?.enableAPIKey) || null)\n  const dispatchFields = useFormFields((reducer) => reducer[1])\n  const modified = useFormModified()\n  const { i18n, t } = useTranslation()\n  const { docPermissions, isEditing, isInitializing, isTrashed } = useDocumentInfo()\n\n  const {\n    config: {\n      routes: { api },\n    },\n  } = useConfig()\n\n  let showPasswordFields: SanitizedFieldPermissions = true\n  let showUnlock = true\n  const hasPasswordFieldOverride =\n    typeof docPermissions.fields === 'object' && 'password' in docPermissions.fields\n  const hasLoginFieldOverride =\n    typeof docPermissions.fields === 'object' &&\n    ('username' in docPermissions.fields || 'email' in docPermissions.fields)\n\n  if (hasPasswordFieldOverride) {\n    const { permissions: passwordPermissions } = getFieldPermissions({\n      field: { name: 'password', type: 'text' },\n      operation,\n      parentName: '',\n      permissions: docPermissions?.fields,\n    })\n\n    if (operation === 'create') {\n      showPasswordFields =\n        passwordPermissions === true ||\n        ((typeof passwordPermissions === 'object' &&\n          passwordPermissions.create) as SanitizedFieldPermissions)\n    } else {\n      showPasswordFields =\n        passwordPermissions === true ||\n        ((typeof passwordPermissions === 'object' &&\n          passwordPermissions.update) as SanitizedFieldPermissions)\n    }\n  }\n\n  if (hasLoginFieldOverride) {\n    const hasEmailAndUsernameFields =\n      loginWithUsername && (loginWithUsername.requireEmail || loginWithUsername.allowEmailLogin)\n\n    const { operation: emailPermission } = getFieldPermissions({\n      field: { name: 'email', type: 'text' },\n      operation: 'read',\n      parentName: '',\n      permissions: docPermissions?.fields,\n    })\n\n    const { operation: usernamePermission } = getFieldPermissions({\n      field: { name: 'username', type: 'text' },\n      operation: 'read',\n      parentName: '',\n      permissions: docPermissions?.fields,\n    })\n\n    if (hasEmailAndUsernameFields) {\n      showUnlock = usernamePermission || emailPermission\n    } else if (loginWithUsername && !hasEmailAndUsernameFields) {\n      showUnlock = usernamePermission\n    } else {\n      showUnlock = emailPermission\n    }\n  }\n\n  const enableFields =\n    (!disableLocalStrategy ||\n      (typeof disableLocalStrategy === 'object' && disableLocalStrategy.enableFields === true)) &&\n    (showUnlock || showPasswordFields)\n\n  const disabled = readOnly || isInitializing || isTrashed\n\n  const apiKeyPermissions =\n    docPermissions?.fields === true ? true : docPermissions?.fields?.enableAPIKey\n\n  const apiKeyReadOnly =\n    readOnly ||\n    apiKeyPermissions === true ||\n    (apiKeyPermissions && typeof apiKeyPermissions === 'object' && !apiKeyPermissions?.update)\n\n  const enableAPIKeyReadOnly =\n    readOnly || (apiKeyPermissions !== true && !apiKeyPermissions?.update)\n\n  const canReadApiKey = apiKeyPermissions === true || apiKeyPermissions?.read\n\n  const hasPermissionToUnlock: boolean = useMemo(() => {\n    if (docPermissions) {\n      return Boolean('unlock' in docPermissions ? docPermissions.unlock : undefined)\n    }\n\n    return false\n  }, [docPermissions])\n\n  const handleChangePassword = useCallback(\n    (changingPassword: boolean) => {\n      if (changingPassword) {\n        setValidateBeforeSubmit(true)\n\n        dispatchFields({\n          type: 'UPDATE',\n          errorMessage: t('validation:required'),\n          path: 'password',\n          valid: false,\n        })\n\n        dispatchFields({\n          type: 'UPDATE',\n          errorMessage: t('validation:required'),\n          path: 'confirm-password',\n          valid: false,\n        })\n      } else {\n        setValidateBeforeSubmit(false)\n        dispatchFields({ type: 'REMOVE', path: 'password' })\n        dispatchFields({ type: 'REMOVE', path: 'confirm-password' })\n      }\n\n      setChangingPassword(changingPassword)\n    },\n    [dispatchFields, t, setValidateBeforeSubmit],\n  )\n\n  const unlock = useCallback(async () => {\n    const url = formatAdminURL({\n      apiRoute: api,\n      path: `/${collectionSlug}/unlock`,\n    })\n    const response = await fetch(url, {\n      body:\n        loginWithUsername && username ? JSON.stringify({ username }) : JSON.stringify({ email }),\n      credentials: 'include',\n      headers: {\n        'Accept-Language': i18n.language,\n        'Content-Type': 'application/json',\n      },\n      method: 'post',\n    })\n\n    if (response.status === 200) {\n      toast.success(t('authentication:successfullyUnlocked'))\n    } else {\n      toast.error(t('authentication:failedToUnlock'))\n    }\n  }, [i18n, api, collectionSlug, email, username, t, loginWithUsername])\n\n  useEffect(() => {\n    if (!modified) {\n      setChangingPassword(false)\n    }\n  }, [modified])\n\n  const showAuthBlock = enableFields\n  const showAPIKeyBlock = useAPIKey && canReadApiKey\n  const showVerifyBlock = verify && isEditing\n\n  if (!(showAuthBlock || showAPIKeyBlock || showVerifyBlock)) {\n    return null\n  }\n\n  return (\n    <div className={[baseClass, className].filter(Boolean).join(' ')}>\n      {enableFields && (\n        <React.Fragment>\n          <EmailAndUsernameFields\n            loginWithUsername={loginWithUsername}\n            operation={operation}\n            permissions={docPermissions?.fields}\n            readOnly={readOnly || isTrashed}\n            t={t}\n          />\n          {(changingPassword || requirePassword) && (!disableLocalStrategy || !enableFields) && (\n            <div className={`${baseClass}__changing-password`}>\n              <PasswordField\n                autoComplete=\"new-password\"\n                field={{\n                  name: 'password',\n                  label: t('authentication:newPassword'),\n                  required: true,\n                }}\n                indexPath=\"\"\n                parentPath=\"\"\n                parentSchemaPath=\"\"\n                path=\"password\"\n                schemaPath=\"password\"\n              />\n              <ConfirmPasswordField disabled={readOnly || isTrashed} />\n            </div>\n          )}\n          <div className={`${baseClass}__controls`}>\n            {changingPassword && !requirePassword && (\n              <Button\n                buttonStyle=\"secondary\"\n                disabled={disabled}\n                id=\"cancel-change-password\"\n                onClick={() => handleChangePassword(false)}\n                size=\"medium\"\n              >\n                {t('general:cancel')}\n              </Button>\n            )}\n            {!changingPassword &&\n              !requirePassword &&\n              !disableLocalStrategy &&\n              showPasswordFields && (\n                <Button\n                  buttonStyle=\"secondary\"\n                  disabled={disabled}\n                  id=\"change-password\"\n                  onClick={() => handleChangePassword(true)}\n                  size=\"medium\"\n                >\n                  {t('authentication:changePassword')}\n                </Button>\n              )}\n            {!changingPassword && operation === 'update' && hasPermissionToUnlock && (\n              <Button\n                buttonStyle=\"secondary\"\n                disabled={disabled || !showUnlock}\n                id=\"force-unlock\"\n                onClick={() => void unlock()}\n                size=\"medium\"\n              >\n                {t('authentication:forceUnlock')}\n              </Button>\n            )}\n          </div>\n        </React.Fragment>\n      )}\n      {useAPIKey && (\n        <div className={`${baseClass}__api-key`}>\n          {canReadApiKey && (\n            <Fragment>\n              <CheckboxField\n                field={{\n                  name: 'enableAPIKey',\n                  admin: { disabled, readOnly: enableAPIKeyReadOnly },\n                  label: t('authentication:enableAPIKey'),\n                }}\n                path=\"enableAPIKey\"\n                schemaPath={`${collectionSlug}.enableAPIKey`}\n              />\n              <APIKey enabled={!!enableAPIKey?.value} readOnly={apiKeyReadOnly} />\n            </Fragment>\n          )}\n        </div>\n      )}\n      {verify && isEditing && (\n        <CheckboxField\n          field={{\n            name: '_verified',\n            admin: { disabled, readOnly },\n            label: t('authentication:verified'),\n          }}\n          path=\"_verified\"\n          schemaPath={`${collectionSlug}._verified`}\n        />\n      )}\n    </div>\n  )\n}\n"],"mappings":"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","ignoreList":[]}