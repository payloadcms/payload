{"version":3,"file":"index.js","names":["c","_c","DndContext","pointerWithin","ModalContainer","ModalProvider","ScrollInfoProvider","React","CloseModalOnRouteChange","LoadingOverlayProvider","NavProvider","StayLoggedInModal","StepNavProvider","ClickOutsideProvider","WindowInfoProvider","AuthProvider","ClientFunctionProvider","ConfigProvider","DocumentEventsProvider","LocaleProvider","ParamsProvider","PreferencesProvider","RouteCache","RouteTransitionProvider","SearchParamsProvider","ServerFunctionsProvider","ThemeProvider","ToastContainer","TranslationProvider","UploadHandlersProvider","RootProvider","t0","$","children","config","dateFNSKey","fallbackLang","isNavOpen","languageCode","languageOptions","locale","permissions","serverFunction","switchLanguageServerAction","theme","translations","user","dndContextID","useId","t1","_jsxs","_jsx","cachingEnabled","process","env","NEXT_PUBLIC_ENABLE_ROUTER_CACHE_REFRESH","language","breakpoints","l","m","s","xs","classPrefix","transTime","zIndex","initialIsOpen","collisionDetection","id"],"sources":["../../../src/providers/Root/index.tsx"],"sourcesContent":["'use client'\nimport type { I18nClient, I18nOptions, Language } from '@payloadcms/translations'\nimport type {\n  ClientConfig,\n  LanguageOptions,\n  Locale,\n  SanitizedPermissions,\n  ServerFunctionClient,\n  TypedUser,\n} from 'payload'\n\nimport { DndContext, pointerWithin } from '@dnd-kit/core'\nimport { ModalContainer, ModalProvider } from '@faceless-ui/modal'\nimport { ScrollInfoProvider } from '@faceless-ui/scroll-info'\nimport React from 'react'\n\nimport type { Theme } from '../Theme/index.js'\n\nimport { CloseModalOnRouteChange } from '../../elements/CloseModalOnRouteChange/index.js'\nimport { LoadingOverlayProvider } from '../../elements/LoadingOverlay/index.js'\nimport { NavProvider } from '../../elements/Nav/context.js'\nimport { StayLoggedInModal } from '../../elements/StayLoggedIn/index.js'\nimport { StepNavProvider } from '../../elements/StepNav/index.js'\nimport { ClickOutsideProvider } from '../../providers/ClickOutside/index.js'\nimport { WindowInfoProvider } from '../../providers/WindowInfo/index.js'\nimport { AuthProvider } from '../Auth/index.js'\nimport { ClientFunctionProvider } from '../ClientFunction/index.js'\nimport { ConfigProvider } from '../Config/index.js'\nimport { DocumentEventsProvider } from '../DocumentEvents/index.js'\nimport { LocaleProvider } from '../Locale/index.js'\nimport { ParamsProvider } from '../Params/index.js'\nimport { PreferencesProvider } from '../Preferences/index.js'\nimport { RouteCache } from '../RouteCache/index.js'\nimport { RouteTransitionProvider } from '../RouteTransition/index.js'\nimport { SearchParamsProvider } from '../SearchParams/index.js'\nimport { ServerFunctionsProvider } from '../ServerFunctions/index.js'\nimport { ThemeProvider } from '../Theme/index.js'\nimport { ToastContainer } from '../ToastContainer/index.js'\nimport { TranslationProvider } from '../Translation/index.js'\nimport { UploadHandlersProvider } from '../UploadHandlers/index.js'\n\ntype Props = {\n  readonly children: React.ReactNode\n  readonly config: ClientConfig\n  readonly dateFNSKey: Language['dateFNSKey']\n  readonly fallbackLang: I18nOptions['fallbackLanguage']\n  readonly isNavOpen?: boolean\n  readonly languageCode: string\n  readonly languageOptions: LanguageOptions\n  readonly locale?: Locale['code']\n  readonly permissions: SanitizedPermissions\n  readonly serverFunction: ServerFunctionClient\n  readonly switchLanguageServerAction?: (lang: string) => Promise<void>\n  readonly theme: Theme\n  readonly translations: I18nClient['translations']\n  readonly user: null | TypedUser\n}\n\nexport const RootProvider: React.FC<Props> = ({\n  children,\n  config,\n  dateFNSKey,\n  fallbackLang,\n  isNavOpen,\n  languageCode,\n  languageOptions,\n  locale,\n  permissions,\n  serverFunction,\n  switchLanguageServerAction,\n  theme,\n  translations,\n  user,\n}) => {\n  const dndContextID = React.useId()\n\n  return (\n    <ClickOutsideProvider>\n      <ServerFunctionsProvider serverFunction={serverFunction}>\n        <RouteTransitionProvider>\n          <RouteCache\n            cachingEnabled={process.env.NEXT_PUBLIC_ENABLE_ROUTER_CACHE_REFRESH === 'true'}\n          >\n            <ConfigProvider config={config}>\n              <ClientFunctionProvider>\n                <TranslationProvider\n                  dateFNSKey={dateFNSKey}\n                  fallbackLang={fallbackLang}\n                  language={languageCode}\n                  languageOptions={languageOptions}\n                  switchLanguageServerAction={switchLanguageServerAction}\n                  translations={translations}\n                >\n                  <WindowInfoProvider\n                    breakpoints={{\n                      l: '(max-width: 1440px)',\n                      m: '(max-width: 1024px)',\n                      s: '(max-width: 768px)',\n                      xs: '(max-width: 400px)',\n                    }}\n                  >\n                    <ScrollInfoProvider>\n                      <SearchParamsProvider>\n                        <ModalProvider classPrefix=\"payload\" transTime={0} zIndex=\"var(--z-modal)\">\n                          <CloseModalOnRouteChange />\n                          <AuthProvider permissions={permissions} user={user}>\n                            <PreferencesProvider>\n                              <ThemeProvider theme={theme}>\n                                <ParamsProvider>\n                                  <LocaleProvider locale={locale}>\n                                    <StepNavProvider>\n                                      <LoadingOverlayProvider>\n                                        <DocumentEventsProvider>\n                                          <NavProvider initialIsOpen={isNavOpen}>\n                                            <UploadHandlersProvider>\n                                              <DndContext\n                                                collisionDetection={pointerWithin}\n                                                id={dndContextID}\n                                              >\n                                                {children}\n                                              </DndContext>\n                                            </UploadHandlersProvider>\n                                          </NavProvider>\n                                        </DocumentEventsProvider>\n                                      </LoadingOverlayProvider>\n                                    </StepNavProvider>\n                                  </LocaleProvider>\n                                </ParamsProvider>\n                              </ThemeProvider>\n                            </PreferencesProvider>\n                            <ModalContainer />\n                            <StayLoggedInModal />\n                          </AuthProvider>\n                        </ModalProvider>\n                      </SearchParamsProvider>\n                    </ScrollInfoProvider>\n                  </WindowInfoProvider>\n                </TranslationProvider>\n              </ClientFunctionProvider>\n            </ConfigProvider>\n          </RouteCache>\n        </RouteTransitionProvider>\n      </ServerFunctionsProvider>\n      <ToastContainer config={config} />\n    </ClickOutsideProvider>\n  )\n}\n"],"mappings":"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","ignoreList":[]}