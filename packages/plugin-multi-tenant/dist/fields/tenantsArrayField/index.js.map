{"version":3,"sources":["../../../src/fields/tenantsArrayField/index.ts"],"sourcesContent":["import type { ArrayField, RelationshipField } from 'payload'\n\nimport { defaults } from '../../defaults.js'\n\ntype Args = {\n  /**\n   * Access configuration for the array field\n   */\n  arrayFieldAccess?: ArrayField['access']\n  /**\n   * Additional fields to include on the tenant array rows\n   */\n  rowFields?: ArrayField['fields']\n  /**\n   * Access configuration for the tenant field\n   */\n  tenantFieldAccess?: RelationshipField['access']\n  /**\n   * The name of the array field that holds the tenants\n   *\n   * @default 'tenants'\n   */\n  tenantsArrayFieldName?: ArrayField['name']\n  /**\n   * The name of the field that will be used to store the tenant relationship in the array\n   *\n   * @default 'tenant'\n   */\n  tenantsArrayTenantFieldName?: RelationshipField['name']\n  /**\n   * The slug for the tenant collection\n   *\n   * @default 'tenants'\n   */\n  tenantsCollectionSlug?: string\n}\nexport const tenantsArrayField = ({\n  arrayFieldAccess,\n  rowFields,\n  tenantFieldAccess,\n  tenantsArrayFieldName = defaults.tenantsArrayFieldName,\n  tenantsArrayTenantFieldName = defaults.tenantsArrayTenantFieldName,\n  tenantsCollectionSlug = defaults.tenantCollectionSlug,\n}: Args): ArrayField => ({\n  name: tenantsArrayFieldName,\n  type: 'array',\n  access: arrayFieldAccess,\n  fields: [\n    {\n      name: tenantsArrayTenantFieldName,\n      type: 'relationship',\n      access: tenantFieldAccess,\n      index: true,\n      relationTo: tenantsCollectionSlug,\n      required: true,\n      saveToJWT: true,\n    },\n    ...(rowFields || []),\n  ],\n  saveToJWT: true,\n})\n"],"names":["defaults","tenantsArrayField","arrayFieldAccess","rowFields","tenantFieldAccess","tenantsArrayFieldName","tenantsArrayTenantFieldName","tenantsCollectionSlug","tenantCollectionSlug","name","type","access","fields","index","relationTo","required","saveToJWT"],"mappings":"AAEA,SAASA,QAAQ,QAAQ,oBAAmB;AAkC5C,OAAO,MAAMC,oBAAoB,CAAC,EAChCC,gBAAgB,EAChBC,SAAS,EACTC,iBAAiB,EACjBC,wBAAwBL,SAASK,qBAAqB,EACtDC,8BAA8BN,SAASM,2BAA2B,EAClEC,wBAAwBP,SAASQ,oBAAoB,EAChD,GAAkB,CAAA;QACvBC,MAAMJ;QACNK,MAAM;QACNC,QAAQT;QACRU,QAAQ;YACN;gBACEH,MAAMH;gBACNI,MAAM;gBACNC,QAAQP;gBACRS,OAAO;gBACPC,YAAYP;gBACZQ,UAAU;gBACVC,WAAW;YACb;eACIb,aAAa,EAAE;SACpB;QACDa,WAAW;IACb,CAAA,EAAE"}