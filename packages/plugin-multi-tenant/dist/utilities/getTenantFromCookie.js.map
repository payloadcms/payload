{"version":3,"sources":["../../src/utilities/getTenantFromCookie.ts"],"sourcesContent":["import { parseCookies } from 'payload'\nimport { isNumber } from 'payload/shared'\n\n/**\n * A function that takes request headers and an idType and returns the current tenant ID from the cookie\n *\n * @param headers Headers, usually derived from req.headers or next/headers\n * @param idType can be 'number' | 'text', usually derived from payload.db.defaultIDType\n * @returns string | number | null\n */\nexport function getTenantFromCookie(\n  headers: Headers,\n  idType: 'number' | 'text',\n): null | number | string {\n  const cookies = parseCookies(headers)\n  const selectedTenant = cookies.get('payload-tenant') || null\n  return selectedTenant\n    ? idType === 'number' && isNumber(selectedTenant)\n      ? parseFloat(selectedTenant)\n      : selectedTenant\n    : null\n}\n"],"names":["parseCookies","isNumber","getTenantFromCookie","headers","idType","cookies","selectedTenant","get","parseFloat"],"mappings":"AAAA,SAASA,YAAY,QAAQ,UAAS;AACtC,SAASC,QAAQ,QAAQ,iBAAgB;AAEzC;;;;;;CAMC,GACD,OAAO,SAASC,oBACdC,OAAgB,EAChBC,MAAyB;IAEzB,MAAMC,UAAUL,aAAaG;IAC7B,MAAMG,iBAAiBD,QAAQE,GAAG,CAAC,qBAAqB;IACxD,OAAOD,iBACHF,WAAW,YAAYH,SAASK,kBAC9BE,WAAWF,kBACXA,iBACF;AACN"}