{"version":3,"sources":["../src/handleDelete.ts"],"sourcesContent":["import type { HandleDelete } from '@payloadcms/plugin-cloud-storage/types'\n\nimport path from 'path'\n\nimport type { R2Bucket } from './types.js'\n\ninterface Args {\n  bucket: R2Bucket\n}\n\nexport const getHandleDelete = ({ bucket }: Args): HandleDelete => {\n  return async ({ doc: { prefix = '' }, filename }) => {\n    await bucket.delete(path.posix.join(prefix, filename))\n  }\n}\n"],"names":["path","getHandleDelete","bucket","doc","prefix","filename","delete","posix","join"],"mappings":"AAEA,OAAOA,UAAU,OAAM;AAQvB,OAAO,MAAMC,kBAAkB,CAAC,EAAEC,MAAM,EAAQ;IAC9C,OAAO,OAAO,EAAEC,KAAK,EAAEC,SAAS,EAAE,EAAE,EAAEC,QAAQ,EAAE;QAC9C,MAAMH,OAAOI,MAAM,CAACN,KAAKO,KAAK,CAACC,IAAI,CAACJ,QAAQC;IAC9C;AACF,EAAC"}