{"version":3,"file":"playground.js","names":["renderPlaygroundPage","createPayloadRequest","formatAdminURL","GET","config","request","req","payload","graphQL","disable","disablePlaygroundInProduction","process","env","NODE_ENV","endpoint","apiRoute","routes","api","path","Response","settings","headers","status"],"sources":["../../../src/routes/graphql/playground.ts"],"sourcesContent":["import { renderPlaygroundPage } from 'graphql-playground-html'\nimport { createPayloadRequest, type SanitizedConfig } from 'payload'\nimport { formatAdminURL } from 'payload/shared'\n\nexport const GET = (config: Promise<SanitizedConfig>) => async (request: Request) => {\n  const req = await createPayloadRequest({\n    config,\n    request,\n  })\n\n  if (\n    (!req.payload.config.graphQL.disable &&\n      !req.payload.config.graphQL.disablePlaygroundInProduction &&\n      process.env.NODE_ENV === 'production') ||\n    process.env.NODE_ENV !== 'production'\n  ) {\n    const endpoint = formatAdminURL({\n      apiRoute: req.payload.config.routes.api,\n      path: req.payload.config.routes.graphQL as `/${string}`,\n    })\n    return new Response(\n      renderPlaygroundPage({\n        endpoint,\n        settings: {\n          'request.credentials': 'include',\n        },\n      }),\n      {\n        headers: {\n          'Content-Type': 'text/html',\n        },\n        status: 200,\n      },\n    )\n  } else {\n    return new Response('Route Not Found', { status: 404 })\n  }\n}\n"],"mappings":"AAAA,SAASA,oBAAoB,QAAQ;AACrC,SAASC,oBAAoB,QAA8B;AAC3D,SAASC,cAAc,QAAQ;AAE/B,OAAO,MAAMC,GAAA,GAAOC,MAAA,IAAqC,MAAOC,OAAA;EAC9D,MAAMC,GAAA,GAAM,MAAML,oBAAA,CAAqB;IACrCG,MAAA;IACAC;EACF;EAEA,IACE,CAAEC,GAAA,CAAIC,OAAO,CAACH,MAAM,CAACI,OAAO,CAACC,OAAO,IAClC,CAACH,GAAA,CAAIC,OAAO,CAACH,MAAM,CAACI,OAAO,CAACE,6BAA6B,IACzDC,OAAA,CAAQC,GAAG,CAACC,QAAQ,KAAK,gBAC3BF,OAAA,CAAQC,GAAG,CAACC,QAAQ,KAAK,cACzB;IACA,MAAMC,QAAA,GAAWZ,cAAA,CAAe;MAC9Ba,QAAA,EAAUT,GAAA,CAAIC,OAAO,CAACH,MAAM,CAACY,MAAM,CAACC,GAAG;MACvCC,IAAA,EAAMZ,GAAA,CAAIC,OAAO,CAACH,MAAM,CAACY,MAAM,CAACR;IAClC;IACA,OAAO,IAAIW,QAAA,CACTnB,oBAAA,CAAqB;MACnBc,QAAA;MACAM,QAAA,EAAU;QACR,uBAAuB;MACzB;IACF,IACA;MACEC,OAAA,EAAS;QACP,gBAAgB;MAClB;MACAC,MAAA,EAAQ;IACV;EAEJ,OAAO;IACL,OAAO,IAAIH,QAAA,CAAS,mBAAmB;MAAEG,MAAA,EAAQ;IAAI;EACvD;AACF","ignoreList":[]}