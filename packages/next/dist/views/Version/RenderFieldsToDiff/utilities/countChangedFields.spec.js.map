{"version":3,"file":"countChangedFields.spec.js","names":["describe","it","expect","countChangedFields","countChangedFieldsInRows","locales","undefined","fields","name","type","valueFrom","a","b","valueTo","result","toBe","id","label","c","group","tabs","namedTab","admin","arrayField","blocks","slug","blockType","d","localized","en","de","tab","field","valueFromRows","valueToRows"],"sources":["../../../../../src/views/Version/RenderFieldsToDiff/utilities/countChangedFields.spec.ts"],"sourcesContent":["import type { ClientField } from 'payload'\nimport { describe, it, expect } from 'vitest'\n\nimport { countChangedFields, countChangedFieldsInRows } from './countChangedFields.js'\n\ndescribe('countChangedFields', () => {\n  // locales can be undefined when not configured in payload.config.js\n  const locales = undefined\n  it('should return 0 when no fields have changed', () => {\n    const fields: ClientField[] = [\n      { name: 'a', type: 'text' },\n      { name: 'b', type: 'number' },\n    ]\n    const valueFrom = { a: 'original', b: 123 }\n    const valueTo = { a: 'original', b: 123 }\n\n    const result = countChangedFields({ valueFrom, fields, valueTo, locales })\n    expect(result).toBe(0)\n  })\n\n  it('should count simple changed fields', () => {\n    const fields: ClientField[] = [\n      { name: 'a', type: 'text' },\n      { name: 'b', type: 'number' },\n    ]\n    const valueFrom = { a: 'original', b: 123 }\n    const valueTo = { a: 'changed', b: 123 }\n\n    const result = countChangedFields({ valueFrom, fields, valueTo, locales })\n    expect(result).toBe(1)\n  })\n\n  it('should count previously undefined fields', () => {\n    const fields: ClientField[] = [\n      { name: 'a', type: 'text' },\n      { name: 'b', type: 'number' },\n    ]\n    const valueFrom = {}\n    const valueTo = { a: 'new', b: 123 }\n\n    const result = countChangedFields({ valueFrom, fields, valueTo, locales })\n    expect(result).toBe(2)\n  })\n\n  it('should not count the id field because it is not displayed in the version view', () => {\n    const fields: ClientField[] = [\n      { name: 'id', type: 'text' },\n      { name: 'a', type: 'text' },\n    ]\n    const valueFrom = { id: 'original', a: 'original' }\n    const valueTo = { id: 'changed', a: 'original' }\n\n    const result = countChangedFields({ valueFrom, fields, valueTo, locales })\n    expect(result).toBe(0)\n  })\n\n  it('should count changed fields inside collapsible fields', () => {\n    const fields: ClientField[] = [\n      {\n        type: 'collapsible',\n        label: 'A collapsible field',\n        fields: [\n          { name: 'a', type: 'text' },\n          { name: 'b', type: 'text' },\n          { name: 'c', type: 'text' },\n        ],\n      },\n    ]\n    const valueFrom = { a: 'original', b: 'original', c: 'original' }\n    const valueTo = { a: 'changed', b: 'changed', c: 'original' }\n\n    const result = countChangedFields({ valueFrom, fields, valueTo, locales })\n    expect(result).toBe(2)\n  })\n\n  it('should count changed fields inside row fields', () => {\n    const fields: ClientField[] = [\n      {\n        type: 'row',\n        fields: [\n          { name: 'a', type: 'text' },\n          { name: 'b', type: 'text' },\n          { name: 'c', type: 'text' },\n        ],\n      },\n    ]\n    const valueFrom = { a: 'original', b: 'original', c: 'original' }\n    const valueTo = { a: 'changed', b: 'changed', c: 'original' }\n\n    const result = countChangedFields({ valueFrom, fields, valueTo, locales })\n    expect(result).toBe(2)\n  })\n\n  it('should count changed fields inside group fields', () => {\n    const fields: ClientField[] = [\n      {\n        type: 'group',\n        name: 'group',\n        fields: [\n          { name: 'a', type: 'text' },\n          { name: 'b', type: 'text' },\n          { name: 'c', type: 'text' },\n        ],\n      },\n    ]\n    const valueFrom = { group: { a: 'original', b: 'original', c: 'original' } }\n    const valueTo = { group: { a: 'changed', b: 'changed', c: 'original' } }\n\n    const result = countChangedFields({ valueFrom, fields, valueTo, locales })\n    expect(result).toBe(2)\n  })\n\n  it('should count changed fields inside unnamed tabs ', () => {\n    const fields: ClientField[] = [\n      {\n        type: 'tabs',\n        tabs: [\n          {\n            label: 'Unnamed tab',\n            fields: [\n              { name: 'a', type: 'text' },\n              { name: 'b', type: 'text' },\n              { name: 'c', type: 'text' },\n            ],\n          },\n        ],\n      },\n    ]\n    const valueFrom = { a: 'original', b: 'original', c: 'original' }\n    const valueTo = { a: 'changed', b: 'changed', c: 'original' }\n\n    const result = countChangedFields({ valueFrom, fields, valueTo, locales })\n    expect(result).toBe(2)\n  })\n\n  it('should count changed fields inside named tabs ', () => {\n    const fields: ClientField[] = [\n      {\n        type: 'tabs',\n        tabs: [\n          {\n            name: 'namedTab',\n            fields: [\n              { name: 'a', type: 'text' },\n              { name: 'b', type: 'text' },\n              { name: 'c', type: 'text' },\n            ],\n          },\n        ],\n      },\n    ]\n    const valueFrom = { namedTab: { a: 'original', b: 'original', c: 'original' } }\n    const valueTo = { namedTab: { a: 'changed', b: 'changed', c: 'original' } }\n\n    const result = countChangedFields({ valueFrom, fields, valueTo, locales })\n    expect(result).toBe(2)\n  })\n\n  it('should ignore UI fields', () => {\n    const fields: ClientField[] = [\n      { name: 'a', type: 'text' },\n      {\n        name: 'b',\n        type: 'ui',\n        admin: {},\n      },\n    ]\n    const valueFrom = { a: 'original', b: 'original' }\n    const valueTo = { a: 'original', b: 'changed' }\n\n    const result = countChangedFields({ valueFrom, fields, valueTo, locales })\n    expect(result).toBe(0)\n  })\n\n  it('should count changed fields inside array fields', () => {\n    const fields: ClientField[] = [\n      {\n        name: 'arrayField',\n        type: 'array',\n        fields: [\n          {\n            name: 'a',\n            type: 'text',\n          },\n          {\n            name: 'b',\n            type: 'text',\n          },\n          {\n            name: 'c',\n            type: 'text',\n          },\n        ],\n      },\n    ]\n    const valueFrom = {\n      arrayField: [\n        { a: 'original', b: 'original', c: 'original' },\n        { a: 'original', b: 'original' },\n      ],\n    }\n    const valueTo = {\n      arrayField: [\n        { a: 'changed', b: 'changed', c: 'original' },\n        { a: 'changed', b: 'changed', c: 'changed' },\n      ],\n    }\n\n    const result = countChangedFields({ valueFrom, fields, valueTo, locales })\n    expect(result).toBe(5)\n  })\n\n  it('should count changed fields inside arrays nested inside of collapsibles', () => {\n    const fields: ClientField[] = [\n      {\n        type: 'collapsible',\n        label: 'A collapsible field',\n        fields: [\n          {\n            name: 'arrayField',\n            type: 'array',\n            fields: [\n              {\n                name: 'a',\n                type: 'text',\n              },\n              {\n                name: 'b',\n                type: 'text',\n              },\n              {\n                name: 'c',\n                type: 'text',\n              },\n            ],\n          },\n        ],\n      },\n    ]\n    const valueFrom = { arrayField: [{ a: 'original', b: 'original', c: 'original' }] }\n    const valueTo = { arrayField: [{ a: 'changed', b: 'changed', c: 'original' }] }\n\n    const result = countChangedFields({ valueFrom, fields, valueTo, locales })\n    expect(result).toBe(2)\n  })\n\n  it('should count changed fields inside blocks fields', () => {\n    const fields: ClientField[] = [\n      {\n        name: 'blocks',\n        type: 'blocks',\n        blocks: [\n          {\n            slug: 'blockA',\n            fields: [\n              { name: 'a', type: 'text' },\n              { name: 'b', type: 'text' },\n              { name: 'c', type: 'text' },\n            ],\n          },\n        ],\n      },\n    ]\n    const valueFrom = {\n      blocks: [\n        { blockType: 'blockA', a: 'original', b: 'original', c: 'original' },\n        { blockType: 'blockA', a: 'original', b: 'original' },\n      ],\n    }\n    const valueTo = {\n      blocks: [\n        { blockType: 'blockA', a: 'changed', b: 'changed', c: 'original' },\n        { blockType: 'blockA', a: 'changed', b: 'changed', c: 'changed' },\n      ],\n    }\n\n    const result = countChangedFields({ valueFrom, fields, valueTo, locales })\n    expect(result).toBe(5)\n  })\n\n  it('should count changed fields between blocks with different slugs', () => {\n    const fields: ClientField[] = [\n      {\n        name: 'blocks',\n        type: 'blocks',\n        blocks: [\n          {\n            slug: 'blockA',\n            fields: [\n              { name: 'a', type: 'text' },\n              { name: 'b', type: 'text' },\n              { name: 'c', type: 'text' },\n            ],\n          },\n          {\n            slug: 'blockB',\n            fields: [\n              { name: 'b', type: 'text' },\n              { name: 'c', type: 'text' },\n              { name: 'd', type: 'text' },\n            ],\n          },\n        ],\n      },\n    ]\n    const valueFrom = {\n      blocks: [{ blockType: 'blockA', a: 'removed', b: 'original', c: 'original' }],\n    }\n    const valueTo = {\n      blocks: [{ blockType: 'blockB', b: 'original', c: 'changed', d: 'new' }],\n    }\n\n    const result = countChangedFields({ valueFrom, fields, valueTo, locales })\n    expect(result).toBe(3)\n  })\n\n  describe('localized fields', () => {\n    const locales = ['en', 'de']\n    it('should count simple localized fields', () => {\n      const fields: ClientField[] = [\n        { name: 'a', type: 'text', localized: true },\n        { name: 'b', type: 'text', localized: true },\n      ]\n      const valueFrom = {\n        a: { en: 'original', de: 'original' },\n        b: { en: 'original', de: 'original' },\n      }\n      const valueTo = {\n        a: { en: 'changed', de: 'original' },\n        b: { en: 'original', de: 'original' },\n      }\n      const result = countChangedFields({ valueFrom, fields, valueTo, locales })\n      expect(result).toBe(1)\n    })\n\n    it('should count multiple locales of the same localized field', () => {\n      const locales = ['en', 'de']\n      const fields: ClientField[] = [\n        { name: 'a', type: 'text', localized: true },\n        { name: 'b', type: 'text', localized: true },\n      ]\n      const valueFrom = {\n        a: { en: 'original', de: 'original' },\n        b: { en: 'original', de: 'original' },\n      }\n      const valueTo = {\n        a: { en: 'changed', de: 'changed' },\n        b: { en: 'original', de: 'original' },\n      }\n      const result = countChangedFields({ valueFrom, fields, valueTo, locales })\n      expect(result).toBe(2)\n    })\n\n    it('should count changed fields inside localized groups fields', () => {\n      const fields: ClientField[] = [\n        {\n          type: 'group',\n          name: 'group',\n          localized: true,\n          fields: [\n            { name: 'a', type: 'text' },\n            { name: 'b', type: 'text' },\n            { name: 'c', type: 'text' },\n          ],\n        },\n      ]\n      const valueFrom = {\n        group: {\n          en: { a: 'original', b: 'original', c: 'original' },\n          de: { a: 'original', b: 'original', c: 'original' },\n        },\n      }\n      const valueTo = {\n        group: {\n          en: { a: 'changed', b: 'changed', c: 'original' },\n          de: { a: 'original', b: 'changed', c: 'original' },\n        },\n      }\n      const result = countChangedFields({ valueFrom, fields, valueTo, locales })\n      expect(result).toBe(3)\n    })\n    it('should count changed fields inside localized tabs', () => {\n      const fields: ClientField[] = [\n        {\n          type: 'tabs',\n          tabs: [\n            {\n              name: 'tab',\n              localized: true,\n              fields: [\n                { name: 'a', type: 'text' },\n                { name: 'b', type: 'text' },\n                { name: 'c', type: 'text' },\n              ],\n            },\n          ],\n        },\n      ]\n      const valueFrom = {\n        tab: {\n          en: { a: 'original', b: 'original', c: 'original' },\n          de: { a: 'original', b: 'original', c: 'original' },\n        },\n      }\n      const valueTo = {\n        tab: {\n          en: { a: 'changed', b: 'changed', c: 'original' },\n          de: { a: 'original', b: 'changed', c: 'original' },\n        },\n      }\n      const result = countChangedFields({ valueFrom, fields, valueTo, locales })\n      expect(result).toBe(3)\n    })\n\n    it('should count changed fields inside localized array fields', () => {\n      const fields: ClientField[] = [\n        {\n          name: 'arrayField',\n          type: 'array',\n          localized: true,\n          fields: [\n            {\n              name: 'a',\n              type: 'text',\n            },\n            {\n              name: 'b',\n              type: 'text',\n            },\n            {\n              name: 'c',\n              type: 'text',\n            },\n          ],\n        },\n      ]\n      const valueFrom = {\n        arrayField: {\n          en: [{ a: 'original', b: 'original', c: 'original' }],\n          de: [{ a: 'original', b: 'original', c: 'original' }],\n        },\n      }\n      const valueTo = {\n        arrayField: {\n          en: [{ a: 'changed', b: 'changed', c: 'original' }],\n          de: [{ a: 'original', b: 'changed', c: 'original' }],\n        },\n      }\n      const result = countChangedFields({ valueFrom, fields, valueTo, locales })\n      expect(result).toBe(3)\n    })\n\n    it('should count changed fields inside localized blocks fields', () => {\n      const fields: ClientField[] = [\n        {\n          name: 'blocks',\n          type: 'blocks',\n          localized: true,\n          blocks: [\n            {\n              slug: 'blockA',\n              fields: [\n                { name: 'a', type: 'text' },\n                { name: 'b', type: 'text' },\n                { name: 'c', type: 'text' },\n              ],\n            },\n          ],\n        },\n      ]\n      const valueFrom = {\n        blocks: {\n          en: [{ blockType: 'blockA', a: 'original', b: 'original', c: 'original' }],\n          de: [{ blockType: 'blockA', a: 'original', b: 'original', c: 'original' }],\n        },\n      }\n      const valueTo = {\n        blocks: {\n          en: [{ blockType: 'blockA', a: 'changed', b: 'changed', c: 'original' }],\n          de: [{ blockType: 'blockA', a: 'original', b: 'changed', c: 'original' }],\n        },\n      }\n      const result = countChangedFields({ valueFrom, fields, valueTo, locales })\n      expect(result).toBe(3)\n    })\n  })\n})\n\ndescribe('countChangedFieldsInRows', () => {\n  it('should count fields in array rows', () => {\n    const field: ClientField = {\n      name: 'myArray',\n      type: 'array',\n      fields: [\n        { name: 'a', type: 'text' },\n        { name: 'b', type: 'text' },\n        { name: 'c', type: 'text' },\n      ],\n    }\n\n    const valueFromRows = [{ a: 'original', b: 'original', c: 'original' }]\n    const valueToRows = [{ a: 'changed', b: 'changed', c: 'original' }]\n\n    const result = countChangedFieldsInRows({\n      valueFromRows,\n      field,\n      locales: undefined,\n      valueToRows: valueToRows,\n    })\n    expect(result).toBe(2)\n  })\n\n  it('should count fields in blocks', () => {\n    const field: ClientField = {\n      name: 'myBlocks',\n      type: 'blocks',\n      blocks: [\n        {\n          slug: 'blockA',\n          fields: [\n            { name: 'a', type: 'text' },\n            { name: 'b', type: 'text' },\n            { name: 'c', type: 'text' },\n          ],\n        },\n      ],\n    }\n\n    const valueFromRows = [{ blockType: 'blockA', a: 'original', b: 'original', c: 'original' }]\n    const valueToRows = [{ blockType: 'blockA', a: 'changed', b: 'changed', c: 'original' }]\n\n    const result = countChangedFieldsInRows({\n      valueFromRows,\n      field,\n      locales: undefined,\n      valueToRows,\n    })\n    expect(result).toBe(2)\n  })\n})\n"],"mappings":"AACA,SAASA,QAAQ,EAAEC,EAAE,EAAEC,MAAM,QAAQ;AAErC,SAASC,kBAAkB,EAAEC,wBAAwB,QAAQ;AAE7DJ,QAAA,CAAS,sBAAsB;EAC7B;EACA,MAAMK,OAAA,GAAUC,SAAA;EAChBL,EAAA,CAAG,+CAA+C;IAChD,MAAMM,MAAA,GAAwB,CAC5B;MAAEC,IAAA,EAAM;MAAKC,IAAA,EAAM;IAAO,GAC1B;MAAED,IAAA,EAAM;MAAKC,IAAA,EAAM;IAAS,EAC7B;IACD,MAAMC,SAAA,GAAY;MAAEC,CAAA,EAAG;MAAYC,CAAA,EAAG;IAAI;IAC1C,MAAMC,OAAA,GAAU;MAAEF,CAAA,EAAG;MAAYC,CAAA,EAAG;IAAI;IAExC,MAAME,MAAA,GAASX,kBAAA,CAAmB;MAAEO,SAAA;MAAWH,MAAA;MAAQM,OAAA;MAASR;IAAQ;IACxEH,MAAA,CAAOY,MAAA,EAAQC,IAAI,CAAC;EACtB;EAEAd,EAAA,CAAG,sCAAsC;IACvC,MAAMM,MAAA,GAAwB,CAC5B;MAAEC,IAAA,EAAM;MAAKC,IAAA,EAAM;IAAO,GAC1B;MAAED,IAAA,EAAM;MAAKC,IAAA,EAAM;IAAS,EAC7B;IACD,MAAMC,SAAA,GAAY;MAAEC,CAAA,EAAG;MAAYC,CAAA,EAAG;IAAI;IAC1C,MAAMC,OAAA,GAAU;MAAEF,CAAA,EAAG;MAAWC,CAAA,EAAG;IAAI;IAEvC,MAAME,MAAA,GAASX,kBAAA,CAAmB;MAAEO,SAAA;MAAWH,MAAA;MAAQM,OAAA;MAASR;IAAQ;IACxEH,MAAA,CAAOY,MAAA,EAAQC,IAAI,CAAC;EACtB;EAEAd,EAAA,CAAG,4CAA4C;IAC7C,MAAMM,MAAA,GAAwB,CAC5B;MAAEC,IAAA,EAAM;MAAKC,IAAA,EAAM;IAAO,GAC1B;MAAED,IAAA,EAAM;MAAKC,IAAA,EAAM;IAAS,EAC7B;IACD,MAAMC,SAAA,GAAY,CAAC;IACnB,MAAMG,OAAA,GAAU;MAAEF,CAAA,EAAG;MAAOC,CAAA,EAAG;IAAI;IAEnC,MAAME,MAAA,GAASX,kBAAA,CAAmB;MAAEO,SAAA;MAAWH,MAAA;MAAQM,OAAA;MAASR;IAAQ;IACxEH,MAAA,CAAOY,MAAA,EAAQC,IAAI,CAAC;EACtB;EAEAd,EAAA,CAAG,iFAAiF;IAClF,MAAMM,MAAA,GAAwB,CAC5B;MAAEC,IAAA,EAAM;MAAMC,IAAA,EAAM;IAAO,GAC3B;MAAED,IAAA,EAAM;MAAKC,IAAA,EAAM;IAAO,EAC3B;IACD,MAAMC,SAAA,GAAY;MAAEM,EAAA,EAAI;MAAYL,CAAA,EAAG;IAAW;IAClD,MAAME,OAAA,GAAU;MAAEG,EAAA,EAAI;MAAWL,CAAA,EAAG;IAAW;IAE/C,MAAMG,MAAA,GAASX,kBAAA,CAAmB;MAAEO,SAAA;MAAWH,MAAA;MAAQM,OAAA;MAASR;IAAQ;IACxEH,MAAA,CAAOY,MAAA,EAAQC,IAAI,CAAC;EACtB;EAEAd,EAAA,CAAG,yDAAyD;IAC1D,MAAMM,MAAA,GAAwB,CAC5B;MACEE,IAAA,EAAM;MACNQ,KAAA,EAAO;MACPV,MAAA,EAAQ,CACN;QAAEC,IAAA,EAAM;QAAKC,IAAA,EAAM;MAAO,GAC1B;QAAED,IAAA,EAAM;QAAKC,IAAA,EAAM;MAAO,GAC1B;QAAED,IAAA,EAAM;QAAKC,IAAA,EAAM;MAAO;IAE9B,EACD;IACD,MAAMC,SAAA,GAAY;MAAEC,CAAA,EAAG;MAAYC,CAAA,EAAG;MAAYM,CAAA,EAAG;IAAW;IAChE,MAAML,OAAA,GAAU;MAAEF,CAAA,EAAG;MAAWC,CAAA,EAAG;MAAWM,CAAA,EAAG;IAAW;IAE5D,MAAMJ,MAAA,GAASX,kBAAA,CAAmB;MAAEO,SAAA;MAAWH,MAAA;MAAQM,OAAA;MAASR;IAAQ;IACxEH,MAAA,CAAOY,MAAA,EAAQC,IAAI,CAAC;EACtB;EAEAd,EAAA,CAAG,iDAAiD;IAClD,MAAMM,MAAA,GAAwB,CAC5B;MACEE,IAAA,EAAM;MACNF,MAAA,EAAQ,CACN;QAAEC,IAAA,EAAM;QAAKC,IAAA,EAAM;MAAO,GAC1B;QAAED,IAAA,EAAM;QAAKC,IAAA,EAAM;MAAO,GAC1B;QAAED,IAAA,EAAM;QAAKC,IAAA,EAAM;MAAO;IAE9B,EACD;IACD,MAAMC,SAAA,GAAY;MAAEC,CAAA,EAAG;MAAYC,CAAA,EAAG;MAAYM,CAAA,EAAG;IAAW;IAChE,MAAML,OAAA,GAAU;MAAEF,CAAA,EAAG;MAAWC,CAAA,EAAG;MAAWM,CAAA,EAAG;IAAW;IAE5D,MAAMJ,MAAA,GAASX,kBAAA,CAAmB;MAAEO,SAAA;MAAWH,MAAA;MAAQM,OAAA;MAASR;IAAQ;IACxEH,MAAA,CAAOY,MAAA,EAAQC,IAAI,CAAC;EACtB;EAEAd,EAAA,CAAG,mDAAmD;IACpD,MAAMM,MAAA,GAAwB,CAC5B;MACEE,IAAA,EAAM;MACND,IAAA,EAAM;MACND,MAAA,EAAQ,CACN;QAAEC,IAAA,EAAM;QAAKC,IAAA,EAAM;MAAO,GAC1B;QAAED,IAAA,EAAM;QAAKC,IAAA,EAAM;MAAO,GAC1B;QAAED,IAAA,EAAM;QAAKC,IAAA,EAAM;MAAO;IAE9B,EACD;IACD,MAAMC,SAAA,GAAY;MAAES,KAAA,EAAO;QAAER,CAAA,EAAG;QAAYC,CAAA,EAAG;QAAYM,CAAA,EAAG;MAAW;IAAE;IAC3E,MAAML,OAAA,GAAU;MAAEM,KAAA,EAAO;QAAER,CAAA,EAAG;QAAWC,CAAA,EAAG;QAAWM,CAAA,EAAG;MAAW;IAAE;IAEvE,MAAMJ,MAAA,GAASX,kBAAA,CAAmB;MAAEO,SAAA;MAAWH,MAAA;MAAQM,OAAA;MAASR;IAAQ;IACxEH,MAAA,CAAOY,MAAA,EAAQC,IAAI,CAAC;EACtB;EAEAd,EAAA,CAAG,oDAAoD;IACrD,MAAMM,MAAA,GAAwB,CAC5B;MACEE,IAAA,EAAM;MACNW,IAAA,EAAM,CACJ;QACEH,KAAA,EAAO;QACPV,MAAA,EAAQ,CACN;UAAEC,IAAA,EAAM;UAAKC,IAAA,EAAM;QAAO,GAC1B;UAAED,IAAA,EAAM;UAAKC,IAAA,EAAM;QAAO,GAC1B;UAAED,IAAA,EAAM;UAAKC,IAAA,EAAM;QAAO;MAE9B;IAEJ,EACD;IACD,MAAMC,SAAA,GAAY;MAAEC,CAAA,EAAG;MAAYC,CAAA,EAAG;MAAYM,CAAA,EAAG;IAAW;IAChE,MAAML,OAAA,GAAU;MAAEF,CAAA,EAAG;MAAWC,CAAA,EAAG;MAAWM,CAAA,EAAG;IAAW;IAE5D,MAAMJ,MAAA,GAASX,kBAAA,CAAmB;MAAEO,SAAA;MAAWH,MAAA;MAAQM,OAAA;MAASR;IAAQ;IACxEH,MAAA,CAAOY,MAAA,EAAQC,IAAI,CAAC;EACtB;EAEAd,EAAA,CAAG,kDAAkD;IACnD,MAAMM,MAAA,GAAwB,CAC5B;MACEE,IAAA,EAAM;MACNW,IAAA,EAAM,CACJ;QACEZ,IAAA,EAAM;QACND,MAAA,EAAQ,CACN;UAAEC,IAAA,EAAM;UAAKC,IAAA,EAAM;QAAO,GAC1B;UAAED,IAAA,EAAM;UAAKC,IAAA,EAAM;QAAO,GAC1B;UAAED,IAAA,EAAM;UAAKC,IAAA,EAAM;QAAO;MAE9B;IAEJ,EACD;IACD,MAAMC,SAAA,GAAY;MAAEW,QAAA,EAAU;QAAEV,CAAA,EAAG;QAAYC,CAAA,EAAG;QAAYM,CAAA,EAAG;MAAW;IAAE;IAC9E,MAAML,OAAA,GAAU;MAAEQ,QAAA,EAAU;QAAEV,CAAA,EAAG;QAAWC,CAAA,EAAG;QAAWM,CAAA,EAAG;MAAW;IAAE;IAE1E,MAAMJ,MAAA,GAASX,kBAAA,CAAmB;MAAEO,SAAA;MAAWH,MAAA;MAAQM,OAAA;MAASR;IAAQ;IACxEH,MAAA,CAAOY,MAAA,EAAQC,IAAI,CAAC;EACtB;EAEAd,EAAA,CAAG,2BAA2B;IAC5B,MAAMM,MAAA,GAAwB,CAC5B;MAAEC,IAAA,EAAM;MAAKC,IAAA,EAAM;IAAO,GAC1B;MACED,IAAA,EAAM;MACNC,IAAA,EAAM;MACNa,KAAA,EAAO,CAAC;IACV,EACD;IACD,MAAMZ,SAAA,GAAY;MAAEC,CAAA,EAAG;MAAYC,CAAA,EAAG;IAAW;IACjD,MAAMC,OAAA,GAAU;MAAEF,CAAA,EAAG;MAAYC,CAAA,EAAG;IAAU;IAE9C,MAAME,MAAA,GAASX,kBAAA,CAAmB;MAAEO,SAAA;MAAWH,MAAA;MAAQM,OAAA;MAASR;IAAQ;IACxEH,MAAA,CAAOY,MAAA,EAAQC,IAAI,CAAC;EACtB;EAEAd,EAAA,CAAG,mDAAmD;IACpD,MAAMM,MAAA,GAAwB,CAC5B;MACEC,IAAA,EAAM;MACNC,IAAA,EAAM;MACNF,MAAA,EAAQ,CACN;QACEC,IAAA,EAAM;QACNC,IAAA,EAAM;MACR,GACA;QACED,IAAA,EAAM;QACNC,IAAA,EAAM;MACR,GACA;QACED,IAAA,EAAM;QACNC,IAAA,EAAM;MACR;IAEJ,EACD;IACD,MAAMC,SAAA,GAAY;MAChBa,UAAA,EAAY,CACV;QAAEZ,CAAA,EAAG;QAAYC,CAAA,EAAG;QAAYM,CAAA,EAAG;MAAW,GAC9C;QAAEP,CAAA,EAAG;QAAYC,CAAA,EAAG;MAAW;IAEnC;IACA,MAAMC,OAAA,GAAU;MACdU,UAAA,EAAY,CACV;QAAEZ,CAAA,EAAG;QAAWC,CAAA,EAAG;QAAWM,CAAA,EAAG;MAAW,GAC5C;QAAEP,CAAA,EAAG;QAAWC,CAAA,EAAG;QAAWM,CAAA,EAAG;MAAU;IAE/C;IAEA,MAAMJ,MAAA,GAASX,kBAAA,CAAmB;MAAEO,SAAA;MAAWH,MAAA;MAAQM,OAAA;MAASR;IAAQ;IACxEH,MAAA,CAAOY,MAAA,EAAQC,IAAI,CAAC;EACtB;EAEAd,EAAA,CAAG,2EAA2E;IAC5E,MAAMM,MAAA,GAAwB,CAC5B;MACEE,IAAA,EAAM;MACNQ,KAAA,EAAO;MACPV,MAAA,EAAQ,CACN;QACEC,IAAA,EAAM;QACNC,IAAA,EAAM;QACNF,MAAA,EAAQ,CACN;UACEC,IAAA,EAAM;UACNC,IAAA,EAAM;QACR,GACA;UACED,IAAA,EAAM;UACNC,IAAA,EAAM;QACR,GACA;UACED,IAAA,EAAM;UACNC,IAAA,EAAM;QACR;MAEJ;IAEJ,EACD;IACD,MAAMC,SAAA,GAAY;MAAEa,UAAA,EAAY,CAAC;QAAEZ,CAAA,EAAG;QAAYC,CAAA,EAAG;QAAYM,CAAA,EAAG;MAAW;IAAG;IAClF,MAAML,OAAA,GAAU;MAAEU,UAAA,EAAY,CAAC;QAAEZ,CAAA,EAAG;QAAWC,CAAA,EAAG;QAAWM,CAAA,EAAG;MAAW;IAAG;IAE9E,MAAMJ,MAAA,GAASX,kBAAA,CAAmB;MAAEO,SAAA;MAAWH,MAAA;MAAQM,OAAA;MAASR;IAAQ;IACxEH,MAAA,CAAOY,MAAA,EAAQC,IAAI,CAAC;EACtB;EAEAd,EAAA,CAAG,oDAAoD;IACrD,MAAMM,MAAA,GAAwB,CAC5B;MACEC,IAAA,EAAM;MACNC,IAAA,EAAM;MACNe,MAAA,EAAQ,CACN;QACEC,IAAA,EAAM;QACNlB,MAAA,EAAQ,CACN;UAAEC,IAAA,EAAM;UAAKC,IAAA,EAAM;QAAO,GAC1B;UAAED,IAAA,EAAM;UAAKC,IAAA,EAAM;QAAO,GAC1B;UAAED,IAAA,EAAM;UAAKC,IAAA,EAAM;QAAO;MAE9B;IAEJ,EACD;IACD,MAAMC,SAAA,GAAY;MAChBc,MAAA,EAAQ,CACN;QAAEE,SAAA,EAAW;QAAUf,CAAA,EAAG;QAAYC,CAAA,EAAG;QAAYM,CAAA,EAAG;MAAW,GACnE;QAAEQ,SAAA,EAAW;QAAUf,CAAA,EAAG;QAAYC,CAAA,EAAG;MAAW;IAExD;IACA,MAAMC,OAAA,GAAU;MACdW,MAAA,EAAQ,CACN;QAAEE,SAAA,EAAW;QAAUf,CAAA,EAAG;QAAWC,CAAA,EAAG;QAAWM,CAAA,EAAG;MAAW,GACjE;QAAEQ,SAAA,EAAW;QAAUf,CAAA,EAAG;QAAWC,CAAA,EAAG;QAAWM,CAAA,EAAG;MAAU;IAEpE;IAEA,MAAMJ,MAAA,GAASX,kBAAA,CAAmB;MAAEO,SAAA;MAAWH,MAAA;MAAQM,OAAA;MAASR;IAAQ;IACxEH,MAAA,CAAOY,MAAA,EAAQC,IAAI,CAAC;EACtB;EAEAd,EAAA,CAAG,mEAAmE;IACpE,MAAMM,MAAA,GAAwB,CAC5B;MACEC,IAAA,EAAM;MACNC,IAAA,EAAM;MACNe,MAAA,EAAQ,CACN;QACEC,IAAA,EAAM;QACNlB,MAAA,EAAQ,CACN;UAAEC,IAAA,EAAM;UAAKC,IAAA,EAAM;QAAO,GAC1B;UAAED,IAAA,EAAM;UAAKC,IAAA,EAAM;QAAO,GAC1B;UAAED,IAAA,EAAM;UAAKC,IAAA,EAAM;QAAO;MAE9B,GACA;QACEgB,IAAA,EAAM;QACNlB,MAAA,EAAQ,CACN;UAAEC,IAAA,EAAM;UAAKC,IAAA,EAAM;QAAO,GAC1B;UAAED,IAAA,EAAM;UAAKC,IAAA,EAAM;QAAO,GAC1B;UAAED,IAAA,EAAM;UAAKC,IAAA,EAAM;QAAO;MAE9B;IAEJ,EACD;IACD,MAAMC,SAAA,GAAY;MAChBc,MAAA,EAAQ,CAAC;QAAEE,SAAA,EAAW;QAAUf,CAAA,EAAG;QAAWC,CAAA,EAAG;QAAYM,CAAA,EAAG;MAAW;IAC7E;IACA,MAAML,OAAA,GAAU;MACdW,MAAA,EAAQ,CAAC;QAAEE,SAAA,EAAW;QAAUd,CAAA,EAAG;QAAYM,CAAA,EAAG;QAAWS,CAAA,EAAG;MAAM;IACxE;IAEA,MAAMb,MAAA,GAASX,kBAAA,CAAmB;MAAEO,SAAA;MAAWH,MAAA;MAAQM,OAAA;MAASR;IAAQ;IACxEH,MAAA,CAAOY,MAAA,EAAQC,IAAI,CAAC;EACtB;EAEAf,QAAA,CAAS,oBAAoB;IAC3B,MAAMK,OAAA,GAAU,CAAC,MAAM,KAAK;IAC5BJ,EAAA,CAAG,wCAAwC;MACzC,MAAMM,MAAA,GAAwB,CAC5B;QAAEC,IAAA,EAAM;QAAKC,IAAA,EAAM;QAAQmB,SAAA,EAAW;MAAK,GAC3C;QAAEpB,IAAA,EAAM;QAAKC,IAAA,EAAM;QAAQmB,SAAA,EAAW;MAAK,EAC5C;MACD,MAAMlB,SAAA,GAAY;QAChBC,CAAA,EAAG;UAAEkB,EAAA,EAAI;UAAYC,EAAA,EAAI;QAAW;QACpClB,CAAA,EAAG;UAAEiB,EAAA,EAAI;UAAYC,EAAA,EAAI;QAAW;MACtC;MACA,MAAMjB,OAAA,GAAU;QACdF,CAAA,EAAG;UAAEkB,EAAA,EAAI;UAAWC,EAAA,EAAI;QAAW;QACnClB,CAAA,EAAG;UAAEiB,EAAA,EAAI;UAAYC,EAAA,EAAI;QAAW;MACtC;MACA,MAAMhB,MAAA,GAASX,kBAAA,CAAmB;QAAEO,SAAA;QAAWH,MAAA;QAAQM,OAAA;QAASR;MAAQ;MACxEH,MAAA,CAAOY,MAAA,EAAQC,IAAI,CAAC;IACtB;IAEAd,EAAA,CAAG,6DAA6D;MAC9D,MAAMI,OAAA,GAAU,CAAC,MAAM,KAAK;MAC5B,MAAME,MAAA,GAAwB,CAC5B;QAAEC,IAAA,EAAM;QAAKC,IAAA,EAAM;QAAQmB,SAAA,EAAW;MAAK,GAC3C;QAAEpB,IAAA,EAAM;QAAKC,IAAA,EAAM;QAAQmB,SAAA,EAAW;MAAK,EAC5C;MACD,MAAMlB,SAAA,GAAY;QAChBC,CAAA,EAAG;UAAEkB,EAAA,EAAI;UAAYC,EAAA,EAAI;QAAW;QACpClB,CAAA,EAAG;UAAEiB,EAAA,EAAI;UAAYC,EAAA,EAAI;QAAW;MACtC;MACA,MAAMjB,OAAA,GAAU;QACdF,CAAA,EAAG;UAAEkB,EAAA,EAAI;UAAWC,EAAA,EAAI;QAAU;QAClClB,CAAA,EAAG;UAAEiB,EAAA,EAAI;UAAYC,EAAA,EAAI;QAAW;MACtC;MACA,MAAMhB,MAAA,GAASX,kBAAA,CAAmB;QAAEO,SAAA;QAAWH,MAAA;QAAQM,OAAA;QAASR;MAAQ;MACxEH,MAAA,CAAOY,MAAA,EAAQC,IAAI,CAAC;IACtB;IAEAd,EAAA,CAAG,8DAA8D;MAC/D,MAAMM,MAAA,GAAwB,CAC5B;QACEE,IAAA,EAAM;QACND,IAAA,EAAM;QACNoB,SAAA,EAAW;QACXrB,MAAA,EAAQ,CACN;UAAEC,IAAA,EAAM;UAAKC,IAAA,EAAM;QAAO,GAC1B;UAAED,IAAA,EAAM;UAAKC,IAAA,EAAM;QAAO,GAC1B;UAAED,IAAA,EAAM;UAAKC,IAAA,EAAM;QAAO;MAE9B,EACD;MACD,MAAMC,SAAA,GAAY;QAChBS,KAAA,EAAO;UACLU,EAAA,EAAI;YAAElB,CAAA,EAAG;YAAYC,CAAA,EAAG;YAAYM,CAAA,EAAG;UAAW;UAClDY,EAAA,EAAI;YAAEnB,CAAA,EAAG;YAAYC,CAAA,EAAG;YAAYM,CAAA,EAAG;UAAW;QACpD;MACF;MACA,MAAML,OAAA,GAAU;QACdM,KAAA,EAAO;UACLU,EAAA,EAAI;YAAElB,CAAA,EAAG;YAAWC,CAAA,EAAG;YAAWM,CAAA,EAAG;UAAW;UAChDY,EAAA,EAAI;YAAEnB,CAAA,EAAG;YAAYC,CAAA,EAAG;YAAWM,CAAA,EAAG;UAAW;QACnD;MACF;MACA,MAAMJ,MAAA,GAASX,kBAAA,CAAmB;QAAEO,SAAA;QAAWH,MAAA;QAAQM,OAAA;QAASR;MAAQ;MACxEH,MAAA,CAAOY,MAAA,EAAQC,IAAI,CAAC;IACtB;IACAd,EAAA,CAAG,qDAAqD;MACtD,MAAMM,MAAA,GAAwB,CAC5B;QACEE,IAAA,EAAM;QACNW,IAAA,EAAM,CACJ;UACEZ,IAAA,EAAM;UACNoB,SAAA,EAAW;UACXrB,MAAA,EAAQ,CACN;YAAEC,IAAA,EAAM;YAAKC,IAAA,EAAM;UAAO,GAC1B;YAAED,IAAA,EAAM;YAAKC,IAAA,EAAM;UAAO,GAC1B;YAAED,IAAA,EAAM;YAAKC,IAAA,EAAM;UAAO;QAE9B;MAEJ,EACD;MACD,MAAMC,SAAA,GAAY;QAChBqB,GAAA,EAAK;UACHF,EAAA,EAAI;YAAElB,CAAA,EAAG;YAAYC,CAAA,EAAG;YAAYM,CAAA,EAAG;UAAW;UAClDY,EAAA,EAAI;YAAEnB,CAAA,EAAG;YAAYC,CAAA,EAAG;YAAYM,CAAA,EAAG;UAAW;QACpD;MACF;MACA,MAAML,OAAA,GAAU;QACdkB,GAAA,EAAK;UACHF,EAAA,EAAI;YAAElB,CAAA,EAAG;YAAWC,CAAA,EAAG;YAAWM,CAAA,EAAG;UAAW;UAChDY,EAAA,EAAI;YAAEnB,CAAA,EAAG;YAAYC,CAAA,EAAG;YAAWM,CAAA,EAAG;UAAW;QACnD;MACF;MACA,MAAMJ,MAAA,GAASX,kBAAA,CAAmB;QAAEO,SAAA;QAAWH,MAAA;QAAQM,OAAA;QAASR;MAAQ;MACxEH,MAAA,CAAOY,MAAA,EAAQC,IAAI,CAAC;IACtB;IAEAd,EAAA,CAAG,6DAA6D;MAC9D,MAAMM,MAAA,GAAwB,CAC5B;QACEC,IAAA,EAAM;QACNC,IAAA,EAAM;QACNmB,SAAA,EAAW;QACXrB,MAAA,EAAQ,CACN;UACEC,IAAA,EAAM;UACNC,IAAA,EAAM;QACR,GACA;UACED,IAAA,EAAM;UACNC,IAAA,EAAM;QACR,GACA;UACED,IAAA,EAAM;UACNC,IAAA,EAAM;QACR;MAEJ,EACD;MACD,MAAMC,SAAA,GAAY;QAChBa,UAAA,EAAY;UACVM,EAAA,EAAI,CAAC;YAAElB,CAAA,EAAG;YAAYC,CAAA,EAAG;YAAYM,CAAA,EAAG;UAAW,EAAE;UACrDY,EAAA,EAAI,CAAC;YAAEnB,CAAA,EAAG;YAAYC,CAAA,EAAG;YAAYM,CAAA,EAAG;UAAW;QACrD;MACF;MACA,MAAML,OAAA,GAAU;QACdU,UAAA,EAAY;UACVM,EAAA,EAAI,CAAC;YAAElB,CAAA,EAAG;YAAWC,CAAA,EAAG;YAAWM,CAAA,EAAG;UAAW,EAAE;UACnDY,EAAA,EAAI,CAAC;YAAEnB,CAAA,EAAG;YAAYC,CAAA,EAAG;YAAWM,CAAA,EAAG;UAAW;QACpD;MACF;MACA,MAAMJ,MAAA,GAASX,kBAAA,CAAmB;QAAEO,SAAA;QAAWH,MAAA;QAAQM,OAAA;QAASR;MAAQ;MACxEH,MAAA,CAAOY,MAAA,EAAQC,IAAI,CAAC;IACtB;IAEAd,EAAA,CAAG,8DAA8D;MAC/D,MAAMM,MAAA,GAAwB,CAC5B;QACEC,IAAA,EAAM;QACNC,IAAA,EAAM;QACNmB,SAAA,EAAW;QACXJ,MAAA,EAAQ,CACN;UACEC,IAAA,EAAM;UACNlB,MAAA,EAAQ,CACN;YAAEC,IAAA,EAAM;YAAKC,IAAA,EAAM;UAAO,GAC1B;YAAED,IAAA,EAAM;YAAKC,IAAA,EAAM;UAAO,GAC1B;YAAED,IAAA,EAAM;YAAKC,IAAA,EAAM;UAAO;QAE9B;MAEJ,EACD;MACD,MAAMC,SAAA,GAAY;QAChBc,MAAA,EAAQ;UACNK,EAAA,EAAI,CAAC;YAAEH,SAAA,EAAW;YAAUf,CAAA,EAAG;YAAYC,CAAA,EAAG;YAAYM,CAAA,EAAG;UAAW,EAAE;UAC1EY,EAAA,EAAI,CAAC;YAAEJ,SAAA,EAAW;YAAUf,CAAA,EAAG;YAAYC,CAAA,EAAG;YAAYM,CAAA,EAAG;UAAW;QAC1E;MACF;MACA,MAAML,OAAA,GAAU;QACdW,MAAA,EAAQ;UACNK,EAAA,EAAI,CAAC;YAAEH,SAAA,EAAW;YAAUf,CAAA,EAAG;YAAWC,CAAA,EAAG;YAAWM,CAAA,EAAG;UAAW,EAAE;UACxEY,EAAA,EAAI,CAAC;YAAEJ,SAAA,EAAW;YAAUf,CAAA,EAAG;YAAYC,CAAA,EAAG;YAAWM,CAAA,EAAG;UAAW;QACzE;MACF;MACA,MAAMJ,MAAA,GAASX,kBAAA,CAAmB;QAAEO,SAAA;QAAWH,MAAA;QAAQM,OAAA;QAASR;MAAQ;MACxEH,MAAA,CAAOY,MAAA,EAAQC,IAAI,CAAC;IACtB;EACF;AACF;AAEAf,QAAA,CAAS,4BAA4B;EACnCC,EAAA,CAAG,qCAAqC;IACtC,MAAM+B,KAAA,GAAqB;MACzBxB,IAAA,EAAM;MACNC,IAAA,EAAM;MACNF,MAAA,EAAQ,CACN;QAAEC,IAAA,EAAM;QAAKC,IAAA,EAAM;MAAO,GAC1B;QAAED,IAAA,EAAM;QAAKC,IAAA,EAAM;MAAO,GAC1B;QAAED,IAAA,EAAM;QAAKC,IAAA,EAAM;MAAO;IAE9B;IAEA,MAAMwB,aAAA,GAAgB,CAAC;MAAEtB,CAAA,EAAG;MAAYC,CAAA,EAAG;MAAYM,CAAA,EAAG;IAAW,EAAE;IACvE,MAAMgB,WAAA,GAAc,CAAC;MAAEvB,CAAA,EAAG;MAAWC,CAAA,EAAG;MAAWM,CAAA,EAAG;IAAW,EAAE;IAEnE,MAAMJ,MAAA,GAASV,wBAAA,CAAyB;MACtC6B,aAAA;MACAD,KAAA;MACA3B,OAAA,EAASC,SAAA;MACT4B,WAAA,EAAaA;IACf;IACAhC,MAAA,CAAOY,MAAA,EAAQC,IAAI,CAAC;EACtB;EAEAd,EAAA,CAAG,iCAAiC;IAClC,MAAM+B,KAAA,GAAqB;MACzBxB,IAAA,EAAM;MACNC,IAAA,EAAM;MACNe,MAAA,EAAQ,CACN;QACEC,IAAA,EAAM;QACNlB,MAAA,EAAQ,CACN;UAAEC,IAAA,EAAM;UAAKC,IAAA,EAAM;QAAO,GAC1B;UAAED,IAAA,EAAM;UAAKC,IAAA,EAAM;QAAO,GAC1B;UAAED,IAAA,EAAM;UAAKC,IAAA,EAAM;QAAO;MAE9B;IAEJ;IAEA,MAAMwB,aAAA,GAAgB,CAAC;MAAEP,SAAA,EAAW;MAAUf,CAAA,EAAG;MAAYC,CAAA,EAAG;MAAYM,CAAA,EAAG;IAAW,EAAE;IAC5F,MAAMgB,WAAA,GAAc,CAAC;MAAER,SAAA,EAAW;MAAUf,CAAA,EAAG;MAAWC,CAAA,EAAG;MAAWM,CAAA,EAAG;IAAW,EAAE;IAExF,MAAMJ,MAAA,GAASV,wBAAA,CAAyB;MACtC6B,aAAA;MACAD,KAAA;MACA3B,OAAA,EAASC,SAAA;MACT4B;IACF;IACAhC,MAAA,CAAOY,MAAA,EAAQC,IAAI,CAAC;EACtB;AACF","ignoreList":[]}