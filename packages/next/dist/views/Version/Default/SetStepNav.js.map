{"version":3,"file":"SetStepNav.js","names":["c","_c","getTranslation","useConfig","useDocumentTitle","useLocale","useStepNav","useTranslation","formatAdminURL","useEffect","SetStepNav","t0","$","id","collectionConfig","globalConfig","isTrashed","versionToCreatedAtFormatted","versionToID","config","setStepNav","i18n","t","locale","title","t1","routes","t2","admin","adminRoute","collectionSlug","slug","pluralLabel","labels","plural","docBasePath","nav","label","url","path","push","undefined","globalSlug"],"sources":["../../../../src/views/Version/Default/SetStepNav.tsx"],"sourcesContent":["'use client'\n\nimport type { ClientCollectionConfig, ClientGlobalConfig } from 'payload'\nimport type React from 'react'\n\nimport { getTranslation } from '@payloadcms/translations'\nimport { useConfig, useDocumentTitle, useLocale, useStepNav, useTranslation } from '@payloadcms/ui'\nimport { formatAdminURL } from 'payload/shared'\nimport { useEffect } from 'react'\n\nexport const SetStepNav: React.FC<{\n  readonly collectionConfig?: ClientCollectionConfig\n  readonly globalConfig?: ClientGlobalConfig\n  readonly id?: number | string\n  readonly isTrashed?: boolean\n  versionToCreatedAtFormatted?: string\n  versionToID?: string\n}> = ({\n  id,\n  collectionConfig,\n  globalConfig,\n  isTrashed,\n  versionToCreatedAtFormatted,\n  versionToID,\n}) => {\n  const { config } = useConfig()\n  const { setStepNav } = useStepNav()\n  const { i18n, t } = useTranslation()\n  const locale = useLocale()\n  const { title } = useDocumentTitle()\n\n  useEffect(() => {\n    const {\n      routes: { admin: adminRoute },\n      serverURL,\n    } = config\n\n    if (collectionConfig) {\n      const collectionSlug = collectionConfig.slug\n\n      const pluralLabel = collectionConfig.labels?.plural\n\n      const docBasePath: `/${string}` = isTrashed\n        ? `/collections/${collectionSlug}/trash/${id}`\n        : `/collections/${collectionSlug}/${id}`\n\n      const nav = [\n        {\n          label: getTranslation(pluralLabel, i18n),\n          url: formatAdminURL({\n            adminRoute,\n            path: `/collections/${collectionSlug}`,\n          }),\n        },\n      ]\n\n      if (isTrashed) {\n        nav.push({\n          label: t('general:trash'),\n          url: formatAdminURL({\n            adminRoute,\n            path: `/collections/${collectionSlug}/trash`,\n          }),\n        })\n      }\n\n      nav.push(\n        {\n          label: title,\n          url: formatAdminURL({\n            adminRoute,\n            path: docBasePath,\n          }),\n        },\n        {\n          label: t('version:versions'),\n          url: formatAdminURL({\n            adminRoute,\n            path: `${docBasePath}/versions`,\n          }),\n        },\n        {\n          label: versionToCreatedAtFormatted,\n          url: undefined,\n        },\n      )\n\n      setStepNav(nav)\n      return\n    }\n\n    if (globalConfig) {\n      const globalSlug = globalConfig.slug\n\n      setStepNav([\n        {\n          label: globalConfig.label,\n          url: formatAdminURL({\n            adminRoute,\n            path: `/globals/${globalSlug}`,\n          }),\n        },\n        {\n          label: t('version:versions'),\n          url: formatAdminURL({\n            adminRoute,\n            path: `/globals/${globalSlug}/versions`,\n          }),\n        },\n        {\n          label: versionToCreatedAtFormatted,\n        },\n      ])\n    }\n  }, [\n    config,\n    setStepNav,\n    id,\n    isTrashed,\n    locale,\n    t,\n    i18n,\n    collectionConfig,\n    globalConfig,\n    title,\n    versionToCreatedAtFormatted,\n    versionToID,\n  ])\n\n  return null\n}\n"],"mappings":"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","ignoreList":[]}