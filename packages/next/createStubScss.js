import { mkdirSync, writeFileSync } from 'fs'
import { dirname, join } from 'path'
import { fileURLToPath } from 'url'

const __filename = fileURLToPath(import.meta.url)
const __dirname = dirname(__filename)

const distProdDir = join(__dirname, 'dist', 'prod')
const stylesPath = join(distProdDir, 'styles.css')

const comment = `/*
 * This file is a stub for debug builds.
 * Direct SCSS imports are preserved for debug builds, so this file is not needed.
 * For production builds, the actual bundled styles are generated by the build:esbuild script.
 */
`

// Create the dist/prod directory if it doesn't exist
mkdirSync(distProdDir, { recursive: true })

// Write the stub CSS file with comment
writeFileSync(stylesPath, comment, 'utf8')

console.log('Created stub styles.css for debug build')
