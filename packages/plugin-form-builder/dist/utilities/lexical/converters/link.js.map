{"version":3,"sources":["../../../../src/utilities/lexical/converters/link.ts"],"sourcesContent":["import type { HTMLConverter } from '../types.js'\n\nimport { replaceDoubleCurlys } from '../../replaceDoubleCurlys.js'\nimport { convertLexicalNodesToHTML } from '../serializeLexical.js'\n\nexport const LinkHTMLConverter: HTMLConverter<any> = {\n  async converter({ converters, node, parent, submissionData }) {\n    const childrenText = await convertLexicalNodesToHTML({\n      converters,\n      lexicalNodes: node.children,\n      parent: {\n        ...node,\n        parent,\n      },\n      submissionData,\n    })\n\n    let href: string =\n      node.fields.linkType === 'custom' ? node.fields.url : node.fields.doc?.value?.id\n\n    if (submissionData) {\n      href = replaceDoubleCurlys(href, submissionData)\n    }\n    return `<a href=\"${href}\"${node.fields.newTab ? ' rel=\"noopener noreferrer\" target=\"_blank\"' : ''}>${childrenText}</a>`\n  },\n  nodeTypes: ['link'],\n}\n"],"names":["replaceDoubleCurlys","convertLexicalNodesToHTML","LinkHTMLConverter","converter","converters","node","parent","submissionData","childrenText","lexicalNodes","children","href","fields","linkType","url","doc","value","id","newTab","nodeTypes"],"mappings":"AAEA,SAASA,mBAAmB,QAAQ,+BAA8B;AAClE,SAASC,yBAAyB,QAAQ,yBAAwB;AAElE,OAAO,MAAMC,oBAAwC;IACnD,MAAMC,WAAU,EAAEC,UAAU,EAAEC,IAAI,EAAEC,MAAM,EAAEC,cAAc,EAAE;QAC1D,MAAMC,eAAe,MAAMP,0BAA0B;YACnDG;YACAK,cAAcJ,KAAKK,QAAQ;YAC3BJ,QAAQ;gBACN,GAAGD,IAAI;gBACPC;YACF;YACAC;QACF;QAEA,IAAII,OACFN,KAAKO,MAAM,CAACC,QAAQ,KAAK,WAAWR,KAAKO,MAAM,CAACE,GAAG,GAAGT,KAAKO,MAAM,CAACG,GAAG,EAAEC,OAAOC;QAEhF,IAAIV,gBAAgB;YAClBI,OAAOX,oBAAoBW,MAAMJ;QACnC;QACA,OAAO,CAAC,SAAS,EAAEI,KAAK,CAAC,EAAEN,KAAKO,MAAM,CAACM,MAAM,GAAG,+CAA+C,GAAG,CAAC,EAAEV,aAAa,IAAI,CAAC;IACzH;IACAW,WAAW;QAAC;KAAO;AACrB,EAAC"}